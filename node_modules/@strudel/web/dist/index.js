var strudel=function(o){"use strict";var $s=typeof document<"u"?document.currentScript:null;typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const se=BigInt(0),me=BigInt(1),Ti=BigInt(2),qs=BigInt(5),gt=BigInt(10),hb=2e3,U={s:me,n:se,d:me};function cn(e,t){try{e=BigInt(e)}catch{throw Fn()}return e*t}function Vt(e){return typeof e=="bigint"?e:Math.floor(e)}function Ge(e,t){if(t===se)throw Ks();const n=Object.create(Re.prototype);n.s=e<se?-me:me,e=e<se?-e:e;const i=Wn(e,t);return n.n=e/i,n.d=t/i,n}function si(e){const t={};let n=e,i=Ti,r=qs-me;for(;r<=n;){for(;n%i===se;)n/=i,t[i]=(t[i]||se)+me;r+=me+Ti*i++}return n!==e?n>1&&(t[n]=(t[n]||se)+me):t[e]=(t[e]||se)+me,t}const tt=function(e,t){let n=se,i=me,r=me;if(e!=null)if(t!==void 0){if(typeof e=="bigint")n=e;else{if(isNaN(e))throw Fn();if(e%1!==0)throw I1();n=BigInt(e)}if(typeof t=="bigint")i=t;else{if(isNaN(t))throw Fn();if(t%1!==0)throw I1();i=BigInt(t)}r=n*i}else if(typeof e=="object"){if("d"in e&&"n"in e)n=BigInt(e.n),i=BigInt(e.d),"s"in e&&(n*=BigInt(e.s));else if(0 in e)n=BigInt(e[0]),1 in e&&(i=BigInt(e[1]));else if(typeof e=="bigint")n=e;else throw Fn();r=n*i}else if(typeof e=="number"){if(isNaN(e))throw Fn();if(e<0&&(r=-me,e=-e),e%1===0)n=BigInt(e);else if(e>0){let s=1,u=0,a=1,c=1,h=1,d=1e7;for(e>=1&&(s=10**Math.floor(1+Math.log10(e)),e/=s);a<=d&&h<=d;){let g=(u+c)/(a+h);if(e===g){a+h<=d?(n=u+c,i=a+h):h>a?(n=c,i=h):(n=u,i=a);break}else e>g?(u+=c,a+=h):(c+=u,h+=a),a>d?(n=c,i=h):(n=u,i=a)}n=BigInt(n)*BigInt(s),i=BigInt(i)}}else if(typeof e=="string"){let s=0,u=se,a=se,c=se,h=me,d=me,g=e.replace(/_/g,"").match(/\d+|./g);if(g===null)throw Fn();if(g[s]==="-"?(r=-me,s++):g[s]==="+"&&s++,g.length===s+1?a=cn(g[s++],r):g[s+1]==="."||g[s]==="."?(g[s]!=="."&&(u=cn(g[s++],r)),s++,(s+1===g.length||g[s+1]==="("&&g[s+3]===")"||g[s+1]==="'"&&g[s+3]==="'")&&(a=cn(g[s],r),h=gt**BigInt(g[s].length),s++),(g[s]==="("&&g[s+2]===")"||g[s]==="'"&&g[s+2]==="'")&&(c=cn(g[s+1],r),d=gt**BigInt(g[s+1].length)-me,s+=3)):g[s+1]==="/"||g[s+1]===":"?(a=cn(g[s],r),h=cn(g[s+2],me),s+=3):g[s+3]==="/"&&g[s+1]===" "&&(u=cn(g[s],r),a=cn(g[s+2],r),h=cn(g[s+4],me),s+=5),g.length<=s)i=h*d,r=n=c+i*u+d*a;else throw Fn()}else if(typeof e=="bigint")n=e,r=e,i=me;else throw Fn();if(i===se)throw Ks();U.s=r<se?-me:me,U.n=n<se?-n:n,U.d=i<se?-i:i};function db(e,t,n){let i=me;for(;t>se;e=e*e%n,t>>=me)t&me&&(i=i*e%n);return i}function mb(e,t){for(;t%Ti===se;t/=Ti);for(;t%qs===se;t/=qs);if(t===me)return se;let n=gt%t,i=1;for(;n!==me;i++)if(n=n*gt%t,i>hb)return se;return BigInt(i)}function pb(e,t,n){let i=me,r=db(gt,n,t);for(let s=0;s<300;s++){if(i===r)return BigInt(s);i=i*gt%t,r=r*gt%t}return 0}function Wn(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function Re(e,t){if(tt(e,t),this instanceof Re)e=Wn(U.d,U.n),this.s=U.s,this.n=U.n/e,this.d=U.d/e;else return Ge(U.s*U.n,U.d)}var Ks=function(){return new Error("Division by Zero")},Fn=function(){return new Error("Invalid argument")},I1=function(){return new Error("Parameters must be integer")};Re.prototype={s:me,n:se,d:me,abs:function(){return Ge(this.n,this.d)},neg:function(){return Ge(-this.s*this.n,this.d)},add:function(e,t){return tt(e,t),Ge(this.s*this.n*U.d+U.s*this.d*U.n,this.d*U.d)},sub:function(e,t){return tt(e,t),Ge(this.s*this.n*U.d-U.s*this.d*U.n,this.d*U.d)},mul:function(e,t){return tt(e,t),Ge(this.s*U.s*this.n*U.n,this.d*U.d)},div:function(e,t){return tt(e,t),Ge(this.s*U.s*this.n*U.d,this.d*U.n)},clone:function(){return Ge(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return Ge(this.s*this.n%this.d,me);if(tt(e,t),se===U.n*this.d)throw Ks();return Ge(this.s*(U.d*this.n)%(U.n*this.d),U.d*this.d)},gcd:function(e,t){return tt(e,t),Ge(Wn(U.n,this.n)*Wn(U.d,this.d),U.d*this.d)},lcm:function(e,t){return tt(e,t),U.n===se&&this.n===se?Ge(se,me):Ge(U.n*this.n,Wn(U.n,this.n)*Wn(U.d,this.d))},inverse:function(){return Ge(this.s*this.d,this.n)},pow:function(e,t){if(tt(e,t),U.d===me)return U.s<se?Ge((this.s*this.d)**U.n,this.n**U.n):Ge((this.s*this.n)**U.n,this.d**U.n);if(this.s<se)return null;let n=si(this.n),i=si(this.d),r=me,s=me;for(let u in n)if(u!=="1"){if(u==="0"){r=se;break}if(n[u]*=U.n,n[u]%U.d===se)n[u]/=U.d;else return null;r*=BigInt(u)**n[u]}for(let u in i)if(u!=="1"){if(i[u]*=U.n,i[u]%U.d===se)i[u]/=U.d;else return null;s*=BigInt(u)**i[u]}return U.s<se?Ge(s,r):Ge(r,s)},log:function(e,t){if(tt(e,t),this.s<=se||U.s<=se)return null;const n={},i=si(U.n),r=si(U.d),s=si(this.n),u=si(this.d);for(const h in r)i[h]=(i[h]||se)-r[h];for(const h in u)s[h]=(s[h]||se)-u[h];for(const h in i)h!=="1"&&(n[h]=!0);for(const h in s)h!=="1"&&(n[h]=!0);let a=null,c=null;for(const h in n){const d=i[h]||se,g=s[h]||se;if(d===se){if(g!==se)return null;continue}let m=g,M=d;const v=Wn(m,M);if(m/=v,M/=v,a===null&&c===null)a=m,c=M;else if(m*c!==a*M)return null}return a!==null&&c!==null?Ge(a,c):null},equals:function(e,t){return tt(e,t),this.s*this.n*U.d===U.s*U.n*this.d},lt:function(e,t){return tt(e,t),this.s*this.n*U.d<U.s*U.n*this.d},lte:function(e,t){return tt(e,t),this.s*this.n*U.d<=U.s*U.n*this.d},gt:function(e,t){return tt(e,t),this.s*this.n*U.d>U.s*U.n*this.d},gte:function(e,t){return tt(e,t),this.s*this.n*U.d>=U.s*U.n*this.d},compare:function(e,t){tt(e,t);let n=this.s*this.n*U.d-U.s*U.n*this.d;return(se<n)-(n<se)},ceil:function(e){return e=gt**BigInt(e||0),Ge(Vt(this.s*e*this.n/this.d)+(e*this.n%this.d>se&&this.s>=se?me:se),e)},floor:function(e){return e=gt**BigInt(e||0),Ge(Vt(this.s*e*this.n/this.d)-(e*this.n%this.d>se&&this.s<se?me:se),e)},round:function(e){return e=gt**BigInt(e||0),Ge(Vt(this.s*e*this.n/this.d)+this.s*((this.s>=se?me:se)+Ti*(e*this.n%this.d)>this.d?me:se),e)},roundTo:function(e,t){tt(e,t);const n=this.n*U.d,i=this.d*U.n,r=n%i;let s=Vt(n/i);return r+r>=i&&s++,Ge(this.s*s*U.n,U.d)},divisible:function(e,t){return tt(e,t),!(!(U.n*this.d)||this.n*U.d%(U.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let t=this.n,n=this.d;e=e||15;let i=mb(t,n),r=pb(t,n,i),s=this.s<se?"-":"";if(s+=Vt(t/n),t%=n,t*=gt,t&&(s+="."),i){for(let u=r;u--;)s+=Vt(t/n),t%=n,t*=gt;s+="(";for(let u=i;u--;)s+=Vt(t/n),t%=n,t*=gt;s+=")"}else for(let u=e;t&&u--;)s+=Vt(t/n),t%=n,t*=gt;return s},toFraction:function(e){let t=this.n,n=this.d,i=this.s<se?"-":"";if(n===me)i+=t;else{let r=Vt(t/n);e&&r>se&&(i+=r,i+=" ",t%=n),i+=t,i+="/",i+=n}return i},toLatex:function(e){let t=this.n,n=this.d,i=this.s<se?"-":"";if(n===me)i+=t;else{let r=Vt(t/n);e&&r>se&&(i+=r,t%=n),i+="\\frac{",i+=t,i+="}{",i+=n,i+="}"}return i},toContinued:function(){let e=this.n,t=this.d,n=[];do{n.push(Vt(e/t));let i=e%t;e=t,t=i}while(e!==me);return n},simplify:function(e){const t=BigInt(1/(e||.001)|0),n=this.abs(),i=n.toContinued();for(let r=1;r<i.length;r++){let s=Ge(i[r-1],me);for(let a=r-2;a>=0;a--)s=s.inverse().add(i[a]);let u=s.sub(n);if(u.n*t<u.d)return s.mul(this.s)}return this}};const Mr="strudel.log";let gb=1e3,V1,N1;function Ye(e,t,n={}){let i=performance.now();V1===e&&i-N1<gb||(V1=e,N1=i,console.log(`%c${e}`,"background-color: black;color:white;border-radius:15px"),typeof document<"u"&&typeof CustomEvent<"u"&&document.dispatchEvent(new CustomEvent(Mr,{detail:{message:e,type:t,data:n}})))}Ye.key=Mr;const T1=e=>/^[a-gA-G][#bs]*[0-9]$/.test(e),En=e=>/^[a-gA-G][#bsf]*[0-9]?$/.test(e),Hs=e=>{if(typeof e!="string")return[];const[t,n="",i]=e.match(/^([a-gA-G])([#bsf]*)([0-9]*)$/)?.slice(1)||[];return t?[t,n,i?Number(i):void 0]:[]},yb={c:0,d:2,e:4,f:5,g:7,a:9,b:11},Ab={"#":1,b:-1,s:1,f:-1},ln=(e,t=3)=>{const[n,i,r=t]=Hs(e);if(!n)throw new Error('not a note: "'+e+'"');const s=yb[n.toLowerCase()],u=i?.split("").reduce((a,c)=>a+Ab[c],0)||0;return(Number(r)+1)*12+s+u},wn=e=>Math.pow(2,(e-69)/12)*440,vr=e=>12*Math.log(e/440)/Math.LN2+69,R1=(e,t)=>{if(typeof e!="object")throw new Error("valueToMidi: expected object value");let{freq:n,note:i}=e;if(typeof n=="number")return vr(n);if(typeof i=="string")return ln(i);if(typeof i=="number")return i;if(!t)throw new Error("valueToMidi: expected freq or note to be set");return t},L1=(e,t)=>(e-t)*1e3,Us=e=>wn(typeof e=="number"?e:ln(e)),bb=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],G1=e=>{const t=Math.floor(e/12)-1;return bb[e%12]+t},Mt=(e,t)=>(e%t+t)%t,Js=e=>e.reduce((t,n)=>t+n)/e.length;function Ys(e,t=0){return isNaN(Number(e))?(Ye(`"${e}" is not a number, falling back to ${t}`,"warning"),t):e}const X1=(e,t)=>Mt(Math.round(Ys(e??0,0)),t),Z1=e=>{let{value:t,context:n}=e,i=t;if(typeof i=="object"&&!Array.isArray(i)&&(i=i.note||i.n||i.value,i===void 0))throw new Error(`cannot find a playable note for ${JSON.stringify(t)}`);if(typeof i=="number"&&n.type!=="frequency")i=wn(e.value);else if(typeof i=="number"&&n.type==="frequency")i=e.value;else if(typeof i!="string"||!En(i))throw new Error("not a note: "+JSON.stringify(i));return i},Qs=e=>{let{value:t,context:n}=e;if(typeof t=="object")return t.freq?t.freq:Us(t.note||t.n||t.value);if(typeof t=="number"&&n.type!=="frequency")t=wn(e.value);else if(typeof t=="string"&&En(t))t=wn(ln(e.value));else if(typeof t!="number")throw new Error("not a note or frequency: "+t);return t},eu=(e,t)=>e.slice(t).concat(e.slice(0,t)),tu=(...e)=>e.reduce((t,n)=>(...i)=>t(n(...i)),t=>t),W1=(...e)=>tu(...e.reverse()),zn=e=>e.filter(t=>t!=null),qt=e=>[].concat(...e),On=e=>e,z1=(e,t)=>e,Cr=(e,t)=>Array.from({length:t-e+1},(n,i)=>i+e);function ge(e,t,n=e.length){const i=function r(...s){if(s.length>=n)return e.apply(this,s);{const u=function(...a){return r.apply(this,s.concat(a))};return t&&t(u,s),u}};return t&&t(i,[]),i}function Pr(e){const t=Number(e);if(!isNaN(t))return t;if(En(e))return ln(e);throw new Error(`cannot parse as numeral: "${e}"`)}function Dr(e,t){return(...n)=>e(...n.map(t))}function yt(e){return Dr(e,Pr)}function nu(e){const t=Number(e);if(!isNaN(t))return t;const n={pi:Math.PI,w:1,h:.5,q:.25,e:.125,s:.0625,t:1/3,f:.2,x:1/6}[e];if(typeof n<"u")return n;throw new Error(`cannot parse as fractional: "${e}"`)}const O1=e=>Dr(e,nu),Fr=function(e,t){return[t.slice(0,e),t.slice(e)]},Er=(e,t,n)=>t.map((i,r)=>e(i,n[r])),iu=function(e){const t=[];for(let n=0;n<e.length-1;++n)t.push([e[n],e[n+1]]);return t},Ri=(e,t,n)=>Math.min(Math.max(e,t),n),Mb=["Do","Reb","Re","Mib","Mi","Fa","Solb","Sol","Lab","La","Sib","Si"],vb=["Sa","Re","Ga","Ma","Pa","Dha","Ni"],Cb=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Hb","H"],Pb=["Ni","Pab","Pa","Voub","Vou","Ga","Dib","Di","Keb","Ke","Zob","Zo"],Db=["I","Ro","Ha","Ni","Ho","He","To"],Fb=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],j1=(e,t="letters")=>{const i=(t==="solfeggio"?Mb:t==="indian"?vb:t==="german"?Cb:t==="byzantine"?Pb:t==="japanese"?Db:Fb)[e%12],r=Math.floor(e/12)-1;return i+r};function $1(e){var t={};return e.filter(function(n){return t.hasOwn(n)?!1:t[n]=!0})}function q1(e){return e.sort().filter(function(t,n,i){return!n||t!=i[n-1]})}function ru(e){return e.sort((t,n)=>t.compare(n)).filter(function(t,n,i){return!n||t.ne(i[n-1])})}function su(e){const t=new TextEncoder().encode(e);return btoa(String.fromCharCode(...t))}function uu(e){const t=new Uint8Array(atob(e).split("").map(i=>i.charCodeAt(0)));return new TextDecoder().decode(t)}function K1(e){return encodeURIComponent(su(e))}function H1(e){return uu(decodeURIComponent(e))}function au(e,t){return Array.isArray(e)?e.map(t):Object.fromEntries(Object.entries(e).map(([n,i],r)=>[n,t(i,n,r)]))}function wr(e,t){return e/t}class ou{constructor({getTargetClockTime:t=Eb,weight:n=16,offsetDelta:i=.005,checkAfterTime:r=2,resetAfterTime:s=8}){this.offsetTime,this.timeAtPrevOffsetSample,this.prevOffsetTimes=[],this.getTargetClockTime=t,this.weight=n,this.offsetDelta=i,this.checkAfterTime=r,this.resetAfterTime=s,this.reset=()=>{this.prevOffsetTimes=[],this.offsetTime=null,this.timeAtPrevOffsetSample=null}}calculateOffset(t){const n=this.getTargetClockTime(),i=n-this.timeAtPrevOffsetSample,r=n-t;if(i>this.resetAfterTime&&this.reset(),this.offsetTime==null&&(this.offsetTime=r),this.prevOffsetTimes.push(r),this.prevOffsetTimes.length>this.weight&&this.prevOffsetTimes.shift(),this.timeAtPrevOffsetSample==null||i>this.checkAfterTime){this.timeAtPrevOffsetSample=n;const s=Js(this.prevOffsetTimes);Math.abs(s-this.offsetTime)>this.offsetDelta&&(this.offsetTime=s)}return this.offsetTime}calculateTimestamp(t,n){return this.calculateOffset(t)+n}}function U1(){return performance.now()*.001}function Eb(){return Date.now()*.001}const cu=new Map([["control","Control"],["ctrl","Control"],["alt","Alt"],["shift","Shift"],["down","ArrowDown"],["up","ArrowUp"],["left","ArrowLeft"],["right","ArrowRight"]]);let Li;function lu(){if(Li==null){if(typeof window>"u")return;Li={},window.addEventListener("keydown",e=>{Li[e.key]=!0}),window.addEventListener("keyup",e=>{Li[e.key]=!1})}return{...Li}}Re.prototype.sam=function(){return this.floor()},Re.prototype.nextSam=function(){return this.sam().add(1)},Re.prototype.wholeCycle=function(){return new qe(this.sam(),this.nextSam())},Re.prototype.cyclePos=function(){return this.sub(this.sam())},Re.prototype.lt=function(e){return this.compare(e)<0},Re.prototype.gt=function(e){return this.compare(e)>0},Re.prototype.lte=function(e){return this.compare(e)<=0},Re.prototype.gte=function(e){return this.compare(e)>=0},Re.prototype.eq=function(e){return this.compare(e)==0},Re.prototype.ne=function(e){return this.compare(e)!=0},Re.prototype.max=function(e){return this.gt(e)?this:e},Re.prototype.maximum=function(...e){return e=e.map(t=>new Re(t)),e.reduce((t,n)=>n.max(t),this)},Re.prototype.min=function(e){return this.lt(e)?this:e},Re.prototype.mulmaybe=function(e){return e!==void 0?this.mul(e):void 0},Re.prototype.divmaybe=function(e){return e!==void 0?this.div(e):void 0},Re.prototype.addmaybe=function(e){return e!==void 0?this.add(e):void 0},Re.prototype.submaybe=function(e){return e!==void 0?this.sub(e):void 0},Re.prototype.show=function(){return this.s*this.n+"/"+this.d},Re.prototype.or=function(e){return this.eq(0)?e:this};const $=e=>Re(e),wb=(...e)=>{if(e=zn(e),e.length!==0)return e.reduce((t,n)=>t.gcd(n),$(1))},Nt=(...e)=>{if(e=zn(e),e.length===0)return;const t=e.pop();return e.reduce((n,i)=>n===void 0||i===void 0?void 0:n.lcm(i),t)};$._original=Re;class qe{constructor(t,n){this.begin=$(t),this.end=$(n)}get spanCycles(){const t=[];var n=this.begin;const i=this.end,r=i.sam();if(n.equals(i))return[new qe(n,i)];for(;i.gt(n);){if(n.sam().equals(r)){t.push(new qe(n,this.end));break}const s=n.nextSam();t.push(new qe(n,s)),n=s}return t}get duration(){return this.end.sub(this.begin)}cycleArc(){const t=this.begin.cyclePos(),n=t.add(this.duration);return new qe(t,n)}withTime(t){return new qe(t(this.begin),t(this.end))}withEnd(t){return new qe(this.begin,t(this.end))}withCycle(t){const n=this.begin.sam(),i=n.add(t(this.begin.sub(n))),r=n.add(t(this.end.sub(n)));return new qe(i,r)}intersection(t){const n=this.begin.max(t.begin),i=this.end.min(t.end);if(!n.gt(i)&&!(n.equals(i)&&(n.equals(this.end)&&this.begin.lt(this.end)||n.equals(t.end)&&t.begin.lt(t.end))))return new qe(n,i)}intersection_e(t){const n=this.intersection(t);if(n==null)throw"TimeSpans do not intersect";return n}midpoint(){return this.begin.add(this.duration.div($(2)))}equals(t){return this.begin.equals(t.begin)&&this.end.equals(t.end)}show(){return this.begin.show()+" → "+this.end.show()}}class Oe{constructor(t,n,i,r={},s=!1){this.whole=t,this.part=n,this.value=i,this.context=r,this.stateful=s,s&&console.assert(typeof this.value=="function","Stateful values must be functions")}get duration(){let t;return typeof this.value?.duration=="number"?t=$(this.value.duration):t=this.whole.end.sub(this.whole.begin),typeof this.value?.clip=="number"?t.mul(this.value.clip):t}get endClipped(){return this.whole.begin.add(this.duration)}isActive(t){return this.whole.begin<=t&&this.endClipped>=t}isInPast(t){return t>this.endClipped}isInNearPast(t,n){return n-t<=this.endClipped}isInFuture(t){return t<this.whole.begin}isInNearFuture(t,n){return n<this.whole.begin&&n>this.whole.begin-t}isWithinTime(t,n){return this.whole.begin<=n&&this.endClipped>=t}wholeOrPart(){return this.whole?this.whole:this.part}withSpan(t){const n=this.whole?t(this.whole):void 0;return new Oe(n,t(this.part),this.value,this.context)}withValue(t){return new Oe(this.whole,this.part,t(this.value),this.context)}hasOnset(){return this.whole!=null&&this.whole.begin.equals(this.part.begin)}hasTag(t){return this.context.tags?.includes(t)}resolveState(t){if(this.stateful&&this.hasOnset()){console.log("stateful");const n=this.value,[i,r]=n(t);return[i,new Oe(this.whole,this.part,r,this.context,!1)]}return[t,this]}spanEquals(t){return this.whole==null&&t.whole==null||this.whole.equals(t.whole)}equals(t){return this.spanEquals(t)&&this.part.equals(t.part)&&this.value===t.value}show(t=!1){const n=typeof this.value=="object"?t?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value;var i="";if(this.whole==null)i="~"+this.part.show;else{var r=this.whole.begin.equals(this.part.begin)&&this.whole.end.equals(this.part.end);this.whole.begin.equals(this.part.begin)||(i=this.whole.begin.show()+" ⇜ "),r||(i+="("),i+=this.part.show(),r||(i+=")"),this.whole.end.equals(this.part.end)||(i+=" ⇝ "+this.whole.end.show())}return"[ "+i+" | "+n+" ]"}showWhole(t=!1){return`${this.whole==null?"~":this.whole.show()}: ${typeof this.value=="object"?t?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value}`}combineContext(t){const n=this;return{...n.context,...t.context,locations:(n.context.locations||[]).concat(t.context.locations||[])}}setContext(t){return new Oe(this.whole,this.part,this.value,t)}ensureObjectValue(){if(typeof this.value!="object")throw new Error(`expected hap.value to be an object, but got "${this.value}". Hint: append .note() or .s() to the end`,"error")}}class jn{constructor(t,n={}){this.span=t,this.controls=n}setSpan(t){return new jn(t,this.controls)}withSpan(t){return this.setSpan(t(this.span))}setControls(t){return new jn(this.span,t)}}function Sb(e,t,n){if(t?.value!==void 0&&Object.keys(t).length===1)return Ye("[warn]: Can't do arithmetic on control pattern."),e;const i=Object.keys(e).filter(r=>Object.keys(t).includes(r));return Object.assign({},e,t,Object.fromEntries(i.map(r=>[r,n(e[r],t[r])])))}ge((e,t)=>e*t),ge((e,t)=>t.map(e));function fu(e,t=60){let n=0,i=$(0),r=[""],s="";for(;r[0].length<t;){const u=e.queryArc(n,n+1),a=u.filter(d=>d.hasOnset()).map(d=>d.duration),c=wb(...a),h=c.inverse();r=r.map(d=>d+"|"),s+="|";for(let d=0;d<h;d++){const[g,m]=[i,i.add(c)],M=u.filter(P=>P.whole.begin.lte(g)&&P.whole.end.gte(m)),v=M.length-r.length;v>0&&(r=r.concat(Array(v).fill(s))),r=r.map((P,w)=>{const V=M[w];if(V){const Z=V.whole.begin.eq(g)?""+V.value:"-";return P+Z}return P+"."}),s+=".",i=i.add(c)}n++}return r.join(`
`)}let hu,Tt=!0;const J1=function(e){Tt=!!e},du=e=>hu=e;let j=class st{constructor(t,n=void 0){this.query=t,this._Pattern=!0,this._steps=n}get _steps(){return this.__steps}set _steps(t){this.__steps=t===void 0?void 0:$(t)}setSteps(t){return this._steps=t,this}withSteps(t){return Tt?new st(this.query,this._steps===void 0?void 0:t(this._steps)):this}get hasSteps(){return this._steps!==void 0}withValue(t){const n=new st(i=>this.query(i).map(r=>r.withValue(t)));return n._steps=this._steps,n}withState(t){return this.withHaps((n,i)=>(t(i),n))}fmap(t){return this.withValue(t)}appWhole(t,n){const i=this,r=function(s){const u=i.query(s),a=n.query(s),c=function(h,d){const g=h.part.intersection(d.part);if(g!=null)return new Oe(t(h.whole,d.whole),g,h.value(d.value),d.combineContext(h))};return qt(u.map(h=>zn(a.map(d=>c(h,d)))))};return new st(r)}appBoth(t){const n=this,i=function(s,u){if(!(s==null||u==null))return s.intersection_e(u)},r=n.appWhole(i,t);return Tt&&(r._steps=Nt(t._steps,n._steps)),r}appLeft(t){const n=this,i=function(s){const u=[];for(const a of n.query(s)){const c=t.query(s.setSpan(a.wholeOrPart()));for(const h of c){const d=a.whole,g=a.part.intersection(h.part);if(g){const m=a.value(h.value),M=h.combineContext(a),v=new Oe(d,g,m,M);u.push(v)}}}return u},r=new st(i);return r._steps=this._steps,r}appRight(t){const n=this,i=function(s){const u=[];for(const a of t.query(s)){const c=n.query(s.setSpan(a.wholeOrPart()));for(const h of c){const d=a.whole,g=h.part.intersection(a.part);if(g){const m=h.value(a.value),M=a.combineContext(h),v=new Oe(d,g,m,M);u.push(v)}}}return u},r=new st(i);return r._steps=t._steps,r}bindWhole(t,n){const i=this,r=function(s){const u=function(c,h){return new Oe(t(c.whole,h.whole),h.part,h.value,Object.assign({},c.context,h.context,{locations:(c.context.locations||[]).concat(h.context.locations||[])}))},a=function(c){return n(c.value).query(s.setSpan(c.part)).map(h=>u(c,h))};return qt(i.query(s).map(c=>a(c)))};return new st(r)}bind(t){const n=function(i,r){if(!(i==null||r==null))return i.intersection_e(r)};return this.bindWhole(n,t)}join(){return this.bind(On)}outerBind(t){return this.bindWhole(n=>n,t).setSteps(this._steps)}outerJoin(){return this.outerBind(On)}innerBind(t){return this.bindWhole((n,i)=>i,t)}innerJoin(){return this.innerBind(On)}resetJoin(t=!1){const n=this;return new st(i=>n.discreteOnly().query(i).map(r=>r.value.late(t?r.whole.begin:r.whole.begin.cyclePos()).query(i).map(s=>new Oe(s.whole?s.whole.intersection(r.whole):void 0,s.part.intersection(r.part),s.value).setContext(r.combineContext(s))).filter(s=>s.part)).flat())}restartJoin(){return this.resetJoin(!0)}squeezeJoin(){const t=this;function n(i){const r=t.discreteOnly().query(i);function s(a){const h=a.value._focusSpan(a.wholeOrPart()).query(i.setSpan(a.part));function d(g,m){let M;if(m.whole&&g.whole&&(M=m.whole.intersection(g.whole),!M))return;const v=m.part.intersection(g.part);if(!v)return;const P=m.combineContext(g);return new Oe(M,v,m.value,P)}return h.map(g=>d(a,g))}return qt(r.map(s)).filter(a=>a)}return new st(n)}squeezeBind(t){return this.fmap(t).squeezeJoin()}polyJoin=function(){const t=this;return t.fmap(n=>n.extend(t._steps.div(n._steps))).outerJoin()};polyBind(t){return this.fmap(t).polyJoin()}queryArc(t,n,i={}){try{return this.query(new jn(new qe(t,n),i))}catch(r){return Ye(`[query]: ${r.message}`,"error"),[]}}splitQueries(){const t=this,n=i=>qt(i.span.spanCycles.map(r=>t.query(i.setSpan(r))));return new st(n)}withQuerySpan(t){return new st(n=>this.query(n.withSpan(t)))}withQuerySpanMaybe(t){const n=this;return new st(i=>{const r=i.withSpan(t);return r.span?n.query(r):[]})}withQueryTime(t){return new st(n=>this.query(n.withSpan(i=>i.withTime(t))))}withHapSpan(t){return new st(n=>this.query(n).map(i=>i.withSpan(t)))}withHapTime(t){return this.withHapSpan(n=>n.withTime(t))}withHaps(t){const n=new st(i=>t(this.query(i),i));return n._steps=this._steps,n}withHap(t){return this.withHaps(n=>n.map(t))}setContext(t){return this.withHap(n=>n.setContext(t))}withContext(t){const n=this.withHap(i=>i.setContext(t(i.context)));return this.__pure!==void 0&&(n.__pure=this.__pure,n.__pure_loc=this.__pure_loc),n}stripContext(){return this.withHap(t=>t.setContext({}))}withLoc(t,n){const i={start:t,end:n},r=this.withContext(s=>{const u=(s.locations||[]).concat([i]);return{...s,locations:u}});return this.__pure&&(r.__pure=this.__pure,r.__pure_loc=i),r}filterHaps(t){return new st(n=>this.query(n).filter(t))}filterValues(t){return new st(n=>this.query(n).filter(i=>t(i.value))).setSteps(this._steps)}removeUndefineds(){return this.filterValues(t=>t!=null)}onsetsOnly(){return this.filterHaps(t=>t.hasOnset())}discreteOnly(){return this.filterHaps(t=>t.whole)}defragmentHaps(){return this.discreteOnly().withHaps(n=>{const i=[];for(var r=0;r<n.length;++r){for(var s=!0,u=n[r];s;){const h=JSON.stringify(n[r].value);for(var a=!1,c=r+1;c<n.length;c++){const d=n[c];if(u.whole.equals(d.whole)){if(u.part.begin.eq(d.part.end)){if(h===JSON.stringify(d.value)){u=new Oe(u.whole,new qe(d.part.begin,u.part.end),u.value),n.splice(c,1),a=!0;break}}else if(d.part.begin.eq(u.part.end)&&h==JSON.stringify(d.value)){u=new Oe(u.whole,new qe(u.part.begin,d.part.end),u.value),n.splice(c,1),a=!0;break}}}s=a}i.push(u)}return i})}firstCycle(t=!1){var n=this;return t||(n=n.stripContext()),n.query(new jn(new qe($(0),$(1))))}get firstCycleValues(){return this.firstCycle().map(t=>t.value)}get showFirstCycle(){return this.firstCycle().map(t=>`${t.value}: ${t.whole.begin.toFraction()} - ${t.whole.end.toFraction()}`)}sortHapsByPart(){return this.withHaps(t=>t.sort((n,i)=>n.part.begin.sub(i.part.begin).or(n.part.end.sub(i.part.end)).or(n.whole.begin.sub(i.whole.begin).or(n.whole.end.sub(i.whole.end)))))}asNumber(){return this.fmap(Pr)}_opIn(t,n){return this.fmap(n).appLeft(K(t))}_opOut(t,n){return this.fmap(n).appRight(K(t))}_opMix(t,n){return this.fmap(n).appBoth(K(t))}_opSqueeze(t,n){const i=K(t);return this.fmap(r=>i.fmap(s=>n(r)(s))).squeezeJoin()}_opSqueezeOut(t,n){const i=this;return K(t).fmap(s=>i.fmap(u=>n(u)(s))).squeezeJoin()}_opReset(t,n){return K(t).fmap(r=>this.fmap(s=>n(s)(r))).resetJoin()}_opRestart(t,n){return K(t).fmap(r=>this.fmap(s=>n(s)(r))).restartJoin()}_opPoly(t,n){const i=K(t);return this.fmap(r=>i.fmap(s=>n(s)(r))).polyJoin()}layer(...t){return Ie(...t.map(n=>n(this)))}superimpose(...t){return this.stack(...t.map(n=>n(this)))}stack(...t){return Ie(this,...t)}sequence(...t){return vt(this,...t)}seq(...t){return vt(this,...t)}cat(...t){return bu(this,...t)}fastcat(...t){return ct(this,...t)}slowcat(...t){return fn(this,...t)}onTrigger(t,n=!0){return this.withHap(i=>i.setContext({...i.context,onTrigger:(...r)=>{i.context.onTrigger?.(...r),t(...r)},dominantTrigger:i.context.dominantTrigger||n}))}log(t=(i,r)=>`[hap] ${r.showWhole(!0)}`,n=(i,r)=>({hap:r})){return this.onTrigger((...i)=>{Ye(t(...i),void 0,n(...i))},!1)}logValues(t=On){return this.log((n,i)=>t(i.value))}drawLine(){return console.log(fu(this)),this}};function Bb(e,t){let n=[];return t.forEach(i=>{const r=n.findIndex(([s])=>e(i,s));r===-1?n.push([i]):n[r].push(i)}),n}const _b=(e,t)=>e.spanEquals(t);j.prototype.collect=function(){return this.withHaps(e=>Bb(_b,e).map(t=>new Oe(t[0].whole,t[0].part,t,{})))},j.prototype.arpWith=function(e){return this.collect().fmap(t=>K(e(t))).innerJoin().withHap(t=>new Oe(t.whole,t.part,t.value.value,t.combineContext(t.value)))},j.prototype.arp=function(e){return this.arpWith(t=>e.fmap(n=>t[n%t.length]))};function Sr(e){return!Array.isArray(e)&&typeof e=="object"}function xb(e,t,n){return Sr(e)||Sr(t)?(Sr(e)||(e={value:e}),Sr(t)||(t={value:t}),Sb(e,t,n)):n(e,t)}(function(){const e={set:[(n,i)=>i],keep:[n=>n],keepif:[(n,i)=>i?n:void 0],add:[yt((n,i)=>n+i)],sub:[yt((n,i)=>n-i)],mul:[yt((n,i)=>n*i)],div:[yt((n,i)=>n/i)],mod:[yt(Mt)],pow:[yt(Math.pow)],log2:[yt(Math.log2)],band:[yt((n,i)=>n&i)],bor:[yt((n,i)=>n|i)],bxor:[yt((n,i)=>n^i)],blshift:[yt((n,i)=>n<<i)],brshift:[yt((n,i)=>n>>i)],lt:[(n,i)=>n<i],gt:[(n,i)=>n>i],lte:[(n,i)=>n<=i],gte:[(n,i)=>n>=i],eq:[(n,i)=>n==i],eqt:[(n,i)=>n===i],ne:[(n,i)=>n!=i],net:[(n,i)=>n!==i],and:[(n,i)=>n&&i],or:[(n,i)=>n||i],func:[(n,i)=>i(n)]},t=["In","Out","Mix","Squeeze","SqueezeOut","Reset","Restart","Poly"];for(const[n,[i,r]]of Object.entries(e)){j.prototype["_"+n]=function(s){return this.fmap(u=>i(u,s))},Object.defineProperty(j.prototype,n,{get:function(){const s=this,u=(...a)=>s[n].in(...a);for(const a of t)u[a.toLowerCase()]=function(...c){var h=s;c=vt(c),r&&(h=r(h),c=r(c));var d;return n==="keepif"?(d=h["_op"+a](c,g=>m=>i(g,m)),d=d.removeUndefineds()):d=h["_op"+a](c,g=>m=>xb(g,m,i)),d};return u.squeezein=u.squeeze,u}});for(const s of t)j.prototype[s.toLowerCase()]=function(...u){return this.set[s.toLowerCase()](u)}}j.prototype.struct=function(...n){return this.keepif.out(...n)},j.prototype.structAll=function(...n){return this.keep.out(...n)},j.prototype.mask=function(...n){return this.keepif.in(...n)},j.prototype.maskAll=function(...n){return this.keep.in(...n)},j.prototype.reset=function(...n){return this.keepif.reset(...n)},j.prototype.resetAll=function(...n){return this.keep.reset(...n)},j.prototype.restart=function(...n){return this.keepif.restart(...n)},j.prototype.restartAll=function(...n){return this.keep.restart(...n)}})();const Y1=Ie,Q1=Ie,ed=Xi,$n=e=>new j(()=>[],e),_e=$n(1),At=$n(0);function Ke(e){function t(i){return i.span.spanCycles.map(r=>new Oe($(r.begin).wholeCycle(),r,e))}const n=new j(t,1);return n.__pure=e,n}function Br(e){return e instanceof j||e?._Pattern}function K(e){return Br(e)?e:hu&&typeof e=="string"?hu(e):Ke(e)}function mu(e){let t=Ke([]);for(const n of e)t=t.bind(i=>n.fmap(r=>i.concat([r])));return t}function Ie(...e){e=e.map(i=>Array.isArray(i)?vt(...i):K(i));const t=i=>qt(e.map(r=>r.query(i))),n=new j(t);return Tt&&(n._steps=Nt(...e.map(i=>i._steps))),n}function pu(e,t){if(t=t.map(s=>Array.isArray(s)?vt(...s):K(s)),t.length===0)return _e;if(t.length===1)return t[0];const[n,...i]=t.map(s=>s._steps),r=Tt?n.maximum(...i):void 0;return Ie(...e(r,t))}function gu(...e){return pu((t,n)=>n.map(i=>i._steps.eq(t)?i:lt(i,$n(t.sub(i._steps)))),e)}function yu(...e){return pu((t,n)=>n.map(i=>i._steps.eq(t)?i:lt($n(t.sub(i._steps)),i)),e)}function Au(...e){return pu((t,n)=>n.map(i=>{if(i._steps.eq(t))return i;const r=$n(t.sub(i._steps).div(2));return lt(r,i,r)}),e)}function td(e,...t){const[n,...i]=t.map(u=>u._steps),r=n.maximum(...i),s={centre:Au,left:gu,right:yu,expand:Ie,repeat:(...u)=>Xi(...u).steps(r)};return e.inhabit(s).fmap(u=>u(...t)).innerJoin().setSteps(r)}function fn(...e){if(e=e.map(i=>Array.isArray(i)?ct(...i):K(i)),e.length==1)return e[0];const t=function(i){const r=i.span,s=Mt(r.begin.sam(),e.length),u=e[s];if(!u)return[];const a=r.begin.floor().sub(r.begin.div(e.length).floor());return u.withHapTime(c=>c.add(a)).query(i.setSpan(r.withTime(c=>c.sub(a))))},n=Tt?Nt(...e.map(i=>i._steps)):void 0;return new j(t).splitQueries().setSteps(n)}function _r(...e){e=e.map(K);const t=function(n){const i=Math.floor(n.span.begin)%e.length;return e[i]?.query(n)||[]};return new j(t).splitQueries()}function bu(...e){return fn(...e)}function nd(...e){const t=e.reduce((n,[i])=>n+i,0);return e=e.map(([n,i])=>[n,i.fast(n)]),lt(...e).slow(t)}function id(...e){let t=$(0);for(let n of e)n.length==2&&n.unshift(t),t=n[1];return Ie(...e.map(([n,i,r])=>Ke(K(r)).compress($(n).div(t),$(i).div(t)))).slow(t).innerJoin()}function ct(...e){let t=fn(...e);return e.length>1&&(t=t._fast(e.length),t._steps=e.length),e.length==1&&e[0].__steps_source&&(e._steps=e[0]._steps),t}function vt(...e){return ct(...e)}function Mu(...e){return ct(...e)}function vu(e){return Array.isArray(e)?e.length==0?[_e,0]:e.length==1?vu(e[0]):[ct(...e.map(t=>vu(t)[0])),e.length]:[K(e),1]}const rd=ge((e,t)=>K(t).mask(e)),sd=ge((e,t)=>K(t).struct(e)),ud=ge((e,t)=>K(t).superimpose(...e)),ad=ge((e,t)=>K(t).withValue(e)),od=ge((e,t)=>K(t).bind(e)),cd=ge((e,t)=>K(t).innerBind(e)),ld=ge((e,t)=>K(t).outerBind(e)),fd=ge((e,t)=>K(t).squeezeBind(e)),hd=ge((e,t)=>K(t).stepBind(e)),dd=ge((e,t)=>K(t).polyBind(e)),md=ge((e,t)=>K(t).set(e)),pd=ge((e,t)=>K(t).keep(e)),gd=ge((e,t)=>K(t).keepif(e)),yd=ge((e,t)=>K(t).add(e)),Ad=ge((e,t)=>K(t).sub(e)),bd=ge((e,t)=>K(t).mul(e)),Md=ge((e,t)=>K(t).div(e)),vd=ge((e,t)=>K(t).mod(e)),Cd=ge((e,t)=>K(t).pow(e)),Pd=ge((e,t)=>K(t).band(e)),Dd=ge((e,t)=>K(t).bor(e)),Fd=ge((e,t)=>K(t).bxor(e)),Ed=ge((e,t)=>K(t).blshift(e)),wd=ge((e,t)=>K(t).brshift(e)),Sd=ge((e,t)=>K(t).lt(e)),Bd=ge((e,t)=>K(t).gt(e)),_d=ge((e,t)=>K(t).lte(e)),xd=ge((e,t)=>K(t).gte(e)),kd=ge((e,t)=>K(t).eq(e)),Id=ge((e,t)=>K(t).eqt(e)),Vd=ge((e,t)=>K(t).ne(e)),Nd=ge((e,t)=>K(t).net(e)),Td=ge((e,t)=>K(t).and(e)),Rd=ge((e,t)=>K(t).or(e)),Ld=ge((e,t)=>K(t).func(e));function R(e,t,n=!0,i=!1,r=s=>s.innerJoin()){if(Array.isArray(e)){const a={};for(const c of e)a[c]=R(c,t,n,i,r);return a}const s=t.length;var u;return n?u=function(...a){a=a.map(K);const c=a[a.length-1];let h;if(s===1)h=t(c);else{const d=a.slice(0,-1);if(d.every(g=>g.__pure!=null)){const g=d.map(M=>M.__pure),m=d.filter(M=>M.__pure_loc).map(M=>M.__pure_loc);h=t(...g,c),h=h.withContext(M=>{const v=(M.locations||[]).concat(m);return{...M,locations:v}})}else{const[g,...m]=d;let M=(...v)=>t(...v,c);M=ge(M,null,s-1),h=r(m.reduce((v,P)=>v.appLeft(P),g.fmap(M)))}}return i&&(h._steps=c._steps),h}:u=function(...a){a=a.map(K);const c=t(...a);return i&&(c._steps=a[a.length-1]._steps),c},j.prototype[e]=function(...a){if(s===2&&a.length!==1)a=[vt(...a)];else if(s!==a.length+1)throw new Error(`.${e}() expects ${s-1} inputs but got ${a.length}.`);return a=a.map(K),u(...a,this)},s>1&&(j.prototype["_"+e]=function(...a){const c=t(...a,this);return i&&c.setSteps(this._steps),c}),ge(u,null,s)}function Gi(e,t,n=!0,i=!1,r=s=>s.stepJoin()){return R(e,t,n,i,r)}const Gd=R("round",function(e){return e.asNumber().fmap(t=>Math.round(t))}),Xd=R("floor",function(e){return e.asNumber().fmap(t=>Math.floor(t))}),Zd=R("ceil",function(e){return e.asNumber().fmap(t=>Math.ceil(t))}),Wd=R("toBipolar",function(e){return e.fmap(t=>t*2-1)}),zd=R("fromBipolar",function(e){return e.fmap(t=>(t+1)/2)}),Od=R("range",function(e,t,n){return n.mul(t-e).add(e)}),jd=R("rangex",function(e,t,n){return n._range(Math.log(e),Math.log(t)).fmap(Math.exp)}),$d=R("range2",function(e,t,n){return n.fromBipolar()._range(e,t)}),qd=R("ratio",e=>e.fmap(t=>Array.isArray(t)?t.slice(1).reduce((n,i)=>n/i,t[0]):t)),Kd=R("compress",function(e,t,n){return e=$(e),t=$(t),e.gt(t)||e.gt(1)||t.gt(1)||e.lt(0)||t.lt(0)?_e:n._fastGap($(1).div(t.sub(e)))._late(e)}),{compressSpan:Hd,compressspan:Ud}=R(["compressSpan","compressspan"],function(e,t){return t._compress(e.begin,e.end)}),{fastGap:Jd,fastgap:Yd}=R(["fastGap","fastgap"],function(e,t){const n=function(r){const s=r.begin.sam(),u=r.begin.sub(s).mul(e).min(1),a=r.end.sub(s).mul(e).min(1);if(!(u>=1))return new qe(s.add(u),s.add(a))},i=function(r){const s=r.part.begin,u=r.part.end,a=s.sam(),c=s.sub(a).div(e).min(1),h=u.sub(a).div(e).min(1),d=new qe(a.add(c),a.add(h)),g=r.whole?new qe(d.begin.sub(s.sub(r.whole.begin).div(e)),d.end.add(r.whole.end.sub(u).div(e))):void 0;return new Oe(g,d,r.value,r.context)};return t.withQuerySpanMaybe(n).withHap(i).splitQueries()}),Qd=R("focus",function(e,t,n){return e=$(e),t=$(t),n._early(e.sam())._fast($(1).div(t.sub(e)))._late(e)}),{focusSpan:em,focusspan:tm}=R(["focusSpan","focusspan"],function(e,t){return t._focus(e.begin,e.end)}),nm=R("ply",function(e,t){const n=t.fmap(i=>Ke(i)._fast(e)).squeezeJoin();return Tt&&(n._steps=$(e).mulmaybe(t._steps)),n}),{fast:im,density:U9}=R(["fast","density"],function(e,t){return e===0?_e:(e=$(e),t.withQueryTime(i=>i.mul(e)).withHapTime(i=>i.div(e)).setSteps(t._steps))},!0,!0),rm=R("hurry",function(e,t){return t._fast(e).mul(Ke({speed:e}))}),{slow:sm,sparsity:um}=R(["slow","sparsity"],function(e,t){return e===0?_e:t._fast($(1).div(e))}),am=R("inside",function(e,t,n){return t(n._slow(e))._fast(e)}),om=R("outside",function(e,t,n){return t(n._fast(e))._slow(e)}),cm=R("lastOf",function(e,t,n){const i=Array(e-1).fill(n);return i.push(t(n)),_r(...i)}),{firstOf:lm,every:fm}=R(["firstOf","every"],function(e,t,n){const i=Array(e-1).fill(n);return i.unshift(t(n)),_r(...i)}),hm=R("apply",function(e,t){return e(t)}),dm=R("cpm",function(e,t){return t._fast(e/60/1)}),mm=R("early",function(e,t){return e=$(e),t.withQueryTime(n=>n.add(e)).withHapTime(n=>n.sub(e))},!0,!0),Cu=R("late",function(e,t){return e=$(e),t._early($(0).sub(e))},!0,!0),pm=R("zoom",function(e,t,n){if(t=$(t),e=$(e),e.gte(t))return At;const i=t.sub(e),r=Tt?n._steps?.mulmaybe(i):void 0;return n.withQuerySpan(s=>s.withCycle(u=>u.mul(i).add(e))).withHapSpan(s=>s.withCycle(u=>u.sub(e).div(i))).splitQueries().setSteps(r)}),{zoomArc:gm,zoomarc:ym}=R(["zoomArc","zoomarc"],function(e,t){return t.zoom(e.begin,e.end)}),Am=R("bite",(e,t,n)=>t.fmap(i=>r=>{const s=$(i).div(r).mod(1),u=s.add($(1).div(r));return n.zoom(s,u)}).appLeft(e).squeezeJoin(),!1),bm=R("linger",function(e,t){return e==0?_e:e<0?t._zoom(e.add(1),1)._slow(e):t._zoom(0,e)._slow(e)},!0,!0),{segment:Mm,seg:vm}=R(["segment","seg"],function(e,t){return t.struct(Ke(!0)._fast(e)).setSteps(e)}),Cm=R("swingBy",(e,t,n)=>n.inside(t,Cu(Mu(0,e/2)))),Pm=R("swing",(e,t)=>t.swingBy(1/3,e)),{invert:Dm,inv:Fm}=R(["invert","inv"],function(e){return e.fmap(t=>!t)},!0,!0),Em=R("when",function(e,t,n){return e?t(n):n}),wm=R("off",function(e,t,n){return Ie(n,t(n.late(e)))}),Sm=R("brak",function(e){return e.when(fn(!1,!0),t=>ct(t,_e)._late(.25))}),Pu=R("rev",function(e){const t=function(n){const i=n.span,r=i.begin.sam(),s=i.begin.nextSam(),u=function(c){const h=c.withTime(g=>r.add(s.sub(g))),d=h.begin;return h.begin=h.end,h.end=d,h};return e.query(n.setSpan(u(i))).map(c=>c.withSpan(u))};return new j(t).splitQueries()},!1,!0),Bm=R("pressBy",function(e,t){return t.fmap(n=>Ke(n).compress(e,1)).squeezeJoin()}),_m=R("press",function(e){return e._pressBy(.5)});j.prototype.hush=function(){return _e};const xm=R("palindrome",function(e){return e.lastOf(2,Pu)},!0,!0),{juxBy:km,juxby:Im}=R(["juxBy","juxby"],function(e,t,n){e/=2;const i=function(u,a,c){return a in u?u[a]:c},r=n.withValue(u=>Object.assign({},u,{pan:i(u,"pan",.5)-e})),s=t(n.withValue(u=>Object.assign({},u,{pan:i(u,"pan",.5)+e})));return Ie(r,s).setSteps(Tt?Nt(r._steps,s._steps):void 0)}),Vm=R("jux",function(e,t){return t._juxBy(1,e,t)}),{echoWith:Nm,echowith:Tm,stutWith:Rm,stutwith:Lm}=R(["echoWith","echowith","stutWith","stutwith"],function(e,t,n,i){return Ie(...Cr(0,e-1).map(r=>n(i.late($(t).mul(r)),r)))}),Gm=R("echo",function(e,t,n,i){return i._echoWith(e,t,(r,s)=>r.gain(Math.pow(n,s)))}),Xm=R("stut",function(e,t,n,i){return i._echoWith(e,n,(r,s)=>r.gain(Math.pow(t,s)))}),Du=function(e,t,n=!1){return e=$(e),fn(...Cr(0,e.sub(1)).map(i=>n?t.late($(i).div(e)):t.early($(i).div(e))))},Zm=R("iter",function(e,t){return Du(e,t,!1)},!0,!0),{iterBack:Wm,iterback:zm}=R(["iterBack","iterback"],function(e,t){return Du(e,t,!0)},!0,!0),{repeatCycles:Om}=R("repeatCycles",function(e,t){return new j(function(n){const i=n.span.begin.sam(),r=i.div(e).sam(),s=i.sub(r);return n=n.withSpan(u=>u.withTime(a=>a.sub(s))),t.query(n).map(u=>u.withSpan(a=>a.withTime(c=>c.add(s))))}).splitQueries()},!0,!0),Fu=function(e,t,n,i=!1,r=!1){const s=Array(e-1).fill(!1);s.unshift(!0);const u=Du(e,vt(...s),!i);return r||(n=n.repeatCycles(e)),n.when(u,t)},{chunk:jm,slowchunk:$m,slowChunk:qm}=R(["chunk","slowchunk","slowChunk"],function(e,t,n){return Fu(e,t,n,!1,!1)}),{chunkBack:Km,chunkback:Hm}=R(["chunkBack","chunkback"],function(e,t,n){return Fu(e,t,n,!0)}),{fastchunk:Um,fastChunk:Jm}=R(["fastchunk","fastChunk"],function(e,t,n){return Fu(e,t,n,!1,!0)}),Ym=R("bypass",function(e,t){return e=!!parseInt(e),e?_e:t},!0,!0),{ribbon:Qm,rib:ep}=R(["ribbon","rib"],(e,t,n)=>n.early(e).restart(Ke(1).slow(t))),tp=R("hsla",(e,t,n,i,r)=>r.color(`hsla(${e}turn,${t*100}%,${n*100}%,${i})`)),np=R("hsl",(e,t,n,i)=>i.color(`hsl(${e}turn,${t*100}%,${n*100}%)`));j.prototype.tag=function(e){return this.withContext(t=>({...t,tags:(t.tags||[]).concat([e])}))};const ip=R("filter",(e,t)=>t.withHaps(n=>n.filter(e))),rp=R("filterWhen",(e,t)=>t.filter(n=>e(n.whole.begin))),sp=R("within",(e,t,n,i)=>Ie(n(i.filterWhen(r=>r.cyclePos()>=e&&r.cyclePos()<=t)),i.filterWhen(r=>r.cyclePos()<e||r.cyclePos()>t)));j.prototype.stepJoin=function(){const e=this,t=lt(...xr(kr(e.queryArc(0,1))))._steps,n=function(i){const s=e.early(i.span.begin.sam()).query(i.setSpan(new qe($(0),$(1))));return lt(...xr(kr(s))).query(i)};return new j(n,t)},j.prototype.stepBind=function(e){return this.fmap(e).stepJoin()};function xr(e){const t=e.filter((s,u)=>u.hasSteps).reduce((s,u)=>s.add(u),$(0)),n=zn(e.map((s,u)=>u._steps)).reduce((s,u)=>s.add(u),$(0)),i=t.eq(0)?void 0:n.div(t);function r(s,u){return u._steps===void 0?[s.mulmaybe(i),u]:[u._steps,u]}return e.map(s=>r(...s))}function kr(e){const t=qt(e.map(r=>[r.part.begin,r.part.end])),n=ru([$(0),$(1),...t]);return iu(n).map(r=>[r[1].sub(r[0]),Ie(...Eu(new qe(...r),e).map(s=>s.value.withHap(u=>u.setContext(u.combineContext(s)))))])}function Eu(e,t){return zn(t.map(n=>wu(e,n)))}function wu(e,t){const n=e.intersection(t.part);if(n!=null)return new Oe(t.whole,n,t.value,t.context)}const Su=R("pace",function(e,t){return t._steps===void 0?t:t._steps.eq($(0))?At:t._fast($(e).div(t._steps)).setSteps(e)});function Bu(e,...t){const n=t.map(r=>vu(r));if(n.length==0)return _e;e==0&&(e=n[0][1]);const i=[];for(const r of n)r[1]!=0&&(e==r[1]?i.push(r[0]):i.push(r[0]._fast($(e).div($(r[1])))));return Ie(...i)}function Xi(...e){if(Array.isArray(e[0]))return Bu(0,...e);if(e=e.filter(i=>i.hasSteps),e.length==0)return _e;const t=Nt(...e.map(i=>i._steps));if(t.eq($(0)))return At;const n=Ie(...e.map(i=>i.pace(t)));return n._steps=t,n}function lt(...e){if(e.length===0)return At;const t=u=>Array.isArray(u)?u:[u._steps,u];if(e=e.map(t),e.find(u=>u[0]===void 0)){const u=e.map(c=>c[0]).filter(c=>c!==void 0);if(u.length===0)return ct(...e.map(c=>c[1]));if(u.length===e.length)return At;const a=u.reduce((c,h)=>c.add(h),$(0)).div(u.length);for(let c of e)c[0]===void 0&&(c[0]=a)}if(e.length==1)return K(e[0][1]).withSteps(a=>e[0][0]);const n=e.map(u=>u[0]).reduce((u,a)=>u.add(a),$(0));let i=$(0);const r=[];for(const[u,a]of e){if($(u).eq(0))continue;const c=i.add(u);r.push(K(a)._compress(i.div(n),c.div(n))),i=c}const s=Ie(...r);return s._steps=n,s}function _u(...e){e=e.map(r=>Array.isArray(r)?r.map(K):[K(r)]);const t=Nt(...e.map(r=>$(r.length)));let n=[];for(let r=0;r<t;++r)n.push(...e.map(s=>s.length==0?_e:s[r%s.length]));n=n.filter(r=>r.hasSteps&&r._steps>0);const i=n.reduce((r,s)=>r.add(s._steps),$(0));return n=lt(...n),n._steps=i,n}const xu=Gi("take",function(e,t){if(!t.hasSteps||t._steps.lte(0)||(e=$(e),e.eq(0)))return At;const n=e<0;n&&(e=e.abs());const i=e.div(t._steps);return i.lte(0)?At:i.gte(1)?t:n?t.zoom($(1).sub(i),1):t.zoom(0,i)}),ku=Gi("drop",function(e,t){return t.hasSteps?(e=$(e),e.lt(0)?t.take(t._steps.add(e)):t.take($(0).sub(t._steps.sub(e)))):At}),Iu=Gi("extend",function(e,t){return t.fast(e).expand(e)}),Vu=Gi("expand",function(e,t){return t.withSteps(n=>n.mul($(e)))}),Nu=Gi("contract",function(e,t){return t.withSteps(n=>n.div($(e)))});j.prototype.shrinklist=function(e){const t=this;if(!t.hasSteps)return[t];let[n,i]=Array.isArray(e)?e:[e,t._steps];if(n=$(n),i===0||n===0)return[t];const r=n>0,s=[];if(r){const u=$(1).div(t._steps).mul(n);for(let a=0;a<i;++a){const c=u.mul(a);if(c.gt(1))break;s.push([c,1])}}else{n=$(0).sub(n);const u=$(1).div(t._steps).mul(n);for(let a=0;a<i;++a){const c=$(1).sub(u.mul(a));if(c.lt(0))break;s.push([$(0),c])}}return s.map(u=>t.zoom(...u))};const Tu=(e,t)=>t.shrinklist(e),Ru=R("shrink",function(e,t){if(!t.hasSteps)return At;const n=t.shrinklist(e),i=lt(...n);return i._steps=n.reduce((r,s)=>r.add(s._steps),$(0)),i},!0,!1,e=>e.stepJoin()),up=R("grow",function(e,t){if(!t.hasSteps)return At;const n=t.shrinklist($(0).sub(e));n.reverse();const i=lt(...n);return i._steps=n.reduce((r,s)=>r.add(s._steps),$(0)),i},!0,!1,e=>e.stepJoin()),Lu=function(e,...t){return e.tour(...t)};j.prototype.tour=function(...e){return lt(...[].concat(...e.map((t,n)=>[...e.slice(0,e.length-n),this,...e.slice(e.length-n)]),this,...e))};const Gu=function(...e){e=e.filter(i=>i.hasSteps);const t=fn(...e.map(i=>i._slow(i._steps))),n=Nt(...e.map(i=>i._steps));return t._fast(n).setSteps(n)},ap=lt,Ir=lt,op=lt,cp=_u,lp=Xi;j.prototype.s_polymeter=j.prototype.polymeter;const fp=Ru;j.prototype.s_taper=j.prototype.shrink;const hp=Tu;j.prototype.s_taperlist=j.prototype.shrinklist;const dp=xu;j.prototype.s_add=j.prototype.take;const mp=ku;j.prototype.s_sub=j.prototype.drop;const pp=Vu;j.prototype.s_expand=j.prototype.expand;const gp=Iu;j.prototype.s_extend=j.prototype.extend;const yp=Nu;j.prototype.s_contract=j.prototype.contract;const Ap=Lu;j.prototype.s_tour=j.prototype.tour;const bp=Gu;j.prototype.s_zip=j.prototype.zip;const Mp=Su;j.prototype.steps=j.prototype.pace;const vp=R("chop",function(e,t){const i=Array.from({length:e},(u,a)=>a).map(u=>({begin:u/e,end:(u+1)/e})),r=function(u,a){if("begin"in u&&"end"in u&&u.begin!==void 0&&u.end!==void 0){const c=u.end-u.begin;a={begin:u.begin+a.begin*c,end:u.begin+a.end*c}}return Object.assign({},u,a)},s=function(u){return vt(i.map(a=>r(u,a)))};return t.squeezeBind(s).setSteps(Tt?$(e).mulmaybe(t._steps):void 0)}),Cp=R("striate",function(e,t){const i=Array.from({length:e},(s,u)=>u).map(s=>({begin:s/e,end:(s+1)/e})),r=fn(...i);return t.set(r)._fast(e).setSteps(Tt?$(e).mulmaybe(t._steps):void 0)}),Pp=function(e,t,n=.5){return t.speed(1/e*n).unit("c").slow(e)},Xu=R("slice",function(e,t,n){return e.innerBind(i=>t.outerBind(r=>n.outerBind(s=>{s=s instanceof Object?s:{s};const u=Array.isArray(i)?i[r]:r/i,a=Array.isArray(i)?i[r+1]:(r+1)/i;return Ke({begin:u,end:a,_slices:i,...s})}))).setSteps(t._steps)},!1),Dp=R("splice",function(e,t,n){const i=Xu(e,t,n);return new j(r=>{const s=r.controls._cps||1;return i.query(r).map(a=>a.withValue(c=>({speed:s/c._slices/a.whole.duration*(c.speed||1),unit:"c",...c})))}).setSteps(t._steps)},!1),{loopAt:Fp,loopat:Ep}=R(["loopAt","loopat"],function(e,t){const n=t._steps?t._steps.div(e):void 0;return new j(i=>Pp(e,t,i.controls._cps).query(i),n)}),wp=R("fit",e=>e.withHaps((t,n)=>t.map(i=>i.withValue(r=>{const s=("end"in r?r.end:1)-("begin"in r?r.begin:0);return{...r,speed:(n.controls._cps||1)/i.whole.duration*s,unit:"c"}})))),{loopAtCps:Sp,loopatcps:Bp}=R(["loopAtCps","loopatcps"],function(e,t,n){return Pp(e,n,t)}),_p=e=>Ke(1).withValue(()=>K(e())).innerJoin();let xp=e=>e<.5?1:1-(e-.5)/.5,Zu=(e,t,n)=>{t=K(t),e=K(e),n=K(n);let i=t.fmap(s=>({gain:xp(s)})),r=t.fmap(s=>({gain:xp(1-s)}));return Ie(e.mul(i),n.mul(r))};j.prototype.xfade=function(e,t){return Zu(this,e,t)};const kb=e=>(t,n,i)=>{t=$(t).mod(n),n=$(n);const r=t.div(n),s=t.add(1).div(n);return e(i.fmap(u=>Ke(u)._compress(r,s)))},{beat:kp}=R(["beat"],kb(e=>e.innerJoin()));function Zi(e){let t=Array.isArray(e);e=t?e:[e];const n=e[0],i=u=>{let a;if(typeof u=="object"&&u.value!==void 0&&(a={...u},u=u.value,delete a.value),t&&Array.isArray(u)){const c=a||{};return u.forEach((h,d)=>{d<e.length&&(c[e[d]]=h)}),c}else return a?(a[n]=u,a):{[n]:u}},r=(...u)=>vt(...u).withValue(i),s=function(...u){return u.length?this.set(r(...u)):this.fmap(i)};return j.prototype[n]=s,r}const Wu=new Map;function B(e,...t){const n=Array.isArray(e)?e[0]:e;let i={};return i[n]=Zi(e),t.forEach(r=>{i[r]=i[n],Wu.set(r,n),j.prototype[r]=j.prototype[n]}),i}const{s:zu,sound:Ou}=B(["s","n","gain"],"sound"),{source:ju,src:$u}=B("source","src"),{n:qu}=B("n"),{note:Ku}=B(["note","n"]),{accelerate:Hu}=B("accelerate"),{velocity:Uu}=B("velocity"),{gain:Ju}=B("gain"),{postgain:Yu}=B("postgain"),{amp:Qu}=B("amp"),{attack:ea,att:ta}=B("attack","att"),{fmh:na}=B(["fmh","fmi"],"fmh"),{fmi:ia,fm:ra}=B(["fmi","fmh"],"fm"),{fmenv:sa}=B("fmenv"),{fmattack:ua}=B("fmattack"),{fmdecay:aa}=B("fmdecay"),{fmsustain:oa}=B("fmsustain"),{fmrelease:ca}=B("fmrelease"),{fmvelocity:la}=B("fmvelocity"),{bank:fa}=B("bank"),{analyze:ha}=B("analyze"),{fft:da}=B("fft"),{decay:ma,dec:pa}=B("decay","dec"),{sustain:ga,sus:ya}=B("sustain","sus"),{release:Aa,rel:ba}=B("release","rel"),{hold:Ma}=B("hold"),{bandf:va,bpf:Ca,bp:Pa}=B(["bandf","bandq","bpenv"],"bpf","bp"),{bandq:Da,bpq:Fa}=B("bandq","bpq"),{begin:Ea}=B("begin"),{end:wa}=B("end"),{loop:Sa}=B("loop"),{loopBegin:Ba,loopb:_a}=B("loopBegin","loopb"),{loopEnd:xa,loope:ka}=B("loopEnd","loope"),{crush:Ia}=B("crush"),{coarse:Va}=B("coarse"),{drive:Na}=B("drive"),{channels:Ta,ch:Ra}=B("channels","ch"),{phaserrate:La,ph:Ga,phaser:Xa}=B(["phaserrate","phaserdepth","phasercenter","phasersweep"],"ph","phaser"),{phasersweep:Za,phs:Wa}=B("phasersweep","phs"),{phasercenter:za,phc:Oa}=B("phasercenter","phc"),{phaserdepth:ja,phd:$a,phasdp:qa}=B("phaserdepth","phd","phasdp"),{channel:Ka}=B("channel"),{cut:Ha}=B("cut"),{cutoff:Ua,ctf:Ja,lpf:Ya,lp:Qa}=B(["cutoff","resonance","lpenv"],"ctf","lpf","lp"),{lpenv:eo,lpe:to}=B("lpenv","lpe"),{hpenv:no,hpe:io}=B("hpenv","hpe"),{bpenv:ro,bpe:so}=B("bpenv","bpe"),{lpattack:uo,lpa:ao}=B("lpattack","lpa"),{hpattack:oo,hpa:co}=B("hpattack","hpa"),{bpattack:lo,bpa:fo}=B("bpattack","bpa"),{lpdecay:ho,lpd:mo}=B("lpdecay","lpd"),{hpdecay:po,hpd:go}=B("hpdecay","hpd"),{bpdecay:yo,bpd:Ao}=B("bpdecay","bpd"),{lpsustain:bo,lps:Mo}=B("lpsustain","lps"),{hpsustain:vo,hps:Co}=B("hpsustain","hps"),{bpsustain:Po,bps:Do}=B("bpsustain","bps"),{lprelease:Fo,lpr:Eo}=B("lprelease","lpr"),{hprelease:wo,hpr:So}=B("hprelease","hpr"),{bprelease:Bo,bpr:_o}=B("bprelease","bpr"),{ftype:xo}=B("ftype"),{fanchor:ko}=B("fanchor"),{vib:Io,vibrato:Vo,v:No}=B(["vib","vibmod"],"vibrato","v"),{noise:To}=B("noise"),{vibmod:Ro,vmod:Lo}=B(["vibmod","vib"],"vmod"),{hcutoff:Go,hpf:Xo,hp:Zo}=B(["hcutoff","hresonance","hpenv"],"hpf","hp"),{hresonance:Wo,hpq:zo}=B("hresonance","hpq"),{resonance:Oo,lpq:jo}=B("resonance","lpq"),{djf:$o}=B("djf"),{delay:qo}=B(["delay","delaytime","delayfeedback"]),{delayfeedback:Ko,delayfb:Ho,dfb:Uo}=B("delayfeedback","delayfb","dfb"),{delaytime:Jo,delayt:Yo,dt:Qo}=B("delaytime","delayt","dt"),{lock:ec}=B("lock"),{detune:tc,det:nc}=B("detune","det"),{unison:ic}=B("unison"),{spread:rc}=B("spread"),{dry:sc}=B("dry"),{fadeTime:uc,fadeOutTime:ac}=B("fadeTime","fadeOutTime"),{fadeInTime:oc}=B("fadeInTime"),{freq:cc}=B("freq"),{pattack:lc,patt:fc}=B("pattack","patt"),{pdecay:hc,pdec:dc}=B("pdecay","pdec"),{psustain:mc,psus:pc}=B("psustain","psus"),{prelease:gc,prel:yc}=B("prelease","prel"),{penv:Ac}=B("penv"),{pcurve:bc}=B("pcurve"),{panchor:Mc}=B("panchor"),{gate:vc,gat:Cc}=B("gate","gat"),{leslie:Pc}=B("leslie"),{lrate:Dc}=B("lrate"),{lsize:Fc}=B("lsize"),{activeLabel:Ec}=B("activeLabel"),{label:wc}=B(["label","activeLabel"]),{degree:Sc}=B("degree"),{mtranspose:Bc}=B("mtranspose"),{ctranspose:_c}=B("ctranspose"),{harmonic:xc}=B("harmonic"),{stepsPerOctave:kc}=B("stepsPerOctave"),{octaveR:Ic}=B("octaveR"),{nudge:Vc}=B("nudge"),{octave:Nc}=B("octave"),{orbit:Tc}=B("orbit"),{overgain:Rc}=B("overgain"),{overshape:Lc}=B("overshape"),{pan:Gc}=B("pan"),{panspan:Xc}=B("panspan"),{pansplay:Zc}=B("pansplay"),{panwidth:Wc}=B("panwidth"),{panorient:zc}=B("panorient"),{rate:Oc}=B("rate"),{slide:jc}=B("slide"),{semitone:$c}=B("semitone"),{voice:qc}=B("voice"),{chord:Kc}=B("chord"),{dictionary:Hc,dict:Uc}=B("dictionary","dict"),{anchor:Jc}=B("anchor"),{offset:Yc}=B("offset"),{octaves:Qc}=B("octaves"),{mode:el}=B(["mode","anchor"]),{room:tl}=B(["room","size"]),{roomlp:nl,rlp:il}=B("roomlp","rlp"),{roomdim:rl,rdim:sl}=B("roomdim","rdim"),{roomfade:ul,rfade:al}=B("roomfade","rfade"),{ir:ol,iresponse:cl}=B(["ir","i"],"iresponse"),{roomsize:ll,size:fl,sz:hl,rsize:dl}=B("roomsize","size","sz","rsize"),{shape:ml}=B(["shape","shapevol"]),{distort:pl,dist:gl}=B(["distort","distortvol"],"dist"),{compressor:yl}=B(["compressor","compressorRatio","compressorKnee","compressorAttack","compressorRelease"]),{compressorKnee:Al}=B("compressorKnee"),{compressorRatio:bl}=B("compressorRatio"),{compressorAttack:Ml}=B("compressorAttack"),{compressorRelease:vl}=B("compressorRelease"),{speed:Vr}=B("speed"),{stretch:Cl}=B("stretch"),{unit:Pl}=B("unit"),{squiz:Dl}=B("squiz"),{vowel:Fl}=B("vowel"),{waveloss:El}=B("waveloss"),{density:Ib}=B("density"),{expression:wl}=B("expression"),{sustainpedal:Sl}=B("sustainpedal"),{tremolodepth:Bl,tremdp:_l}=B("tremolodepth","tremdp"),{tremolorate:xl,tremr:kl}=B("tremolorate","tremr"),{fshift:Il}=B("fshift"),{fshiftnote:Vl}=B("fshiftnote"),{fshiftphase:Nl}=B("fshiftphase"),{triode:Tl}=B("triode"),{krush:Rl}=B("krush"),{kcutoff:Ll}=B("kcutoff"),{octer:Gl}=B("octer"),{octersub:Xl}=B("octersub"),{octersubsub:Zl}=B("octersubsub"),{ring:Wl}=B("ring"),{ringf:zl}=B("ringf"),{ringdf:Ol}=B("ringdf"),{freeze:jl}=B("freeze"),{xsdelay:$l}=B("xsdelay"),{tsdelay:ql}=B("tsdelay"),{real:Kl}=B("real"),{imag:Hl}=B("imag"),{enhance:Ul}=B("enhance"),{partials:Jl}=B("partials"),{comb:Yl}=B("comb"),{smear:Ql}=B("smear"),{scram:e0}=B("scram"),{binshift:t0}=B("binshift"),{hbrick:n0}=B("hbrick"),{lbrick:i0}=B("lbrick"),{frameRate:r0}=B("frameRate"),{frames:s0}=B("frames"),{hours:u0}=B("hours"),{minutes:a0}=B("minutes"),{seconds:o0}=B("seconds"),{songPtr:c0}=B("songPtr"),{uid:l0}=B("uid"),{val:f0}=B("val"),{cps:h0}=B("cps"),{clip:d0,legato:m0}=B("clip","legato"),{duration:p0,dur:g0}=B("duration","dur"),{zrand:y0}=B("zrand"),{curve:A0}=B("curve"),{deltaSlide:b0}=B("deltaSlide"),{pitchJump:M0}=B("pitchJump"),{pitchJumpTime:v0}=B("pitchJumpTime"),{lfo:C0,repeatTime:P0}=B("lfo","repeatTime"),{znoise:D0}=B("znoise"),{zmod:F0}=B("zmod"),{zcrush:E0}=B("zcrush"),{zdelay:w0}=B("zdelay"),{tremolo:S0}=B("tremolo"),{zzfx:B0}=B("zzfx"),{color:_0,colour:x0}=B(["color","colour"]);let Nr=(...e)=>e.reduce((t,n)=>Object.assign(t,{[n]:Zi(n)}),{});const k0=R("adsr",(e,t)=>{e=Array.isArray(e)?e:[e];const[n,i,r,s]=e;return t.set({attack:n,decay:i,sustain:r,release:s})}),I0=R("ad",(e,t)=>{e=Array.isArray(e)?e:[e];const[n,i=n]=e;return t.attack(n).decay(i)}),V0=R("ds",(e,t)=>{e=Array.isArray(e)?e:[e];const[n,i=0]=e;return t.set({decay:n,sustain:i})}),N0=R("ar",(e,t)=>{e=Array.isArray(e)?e:[e];const[n,i=n]=e;return t.set({attack:n,release:i})}),{midichan:T0}=B("midichan"),{midimap:R0}=B("midimap"),{midiport:L0}=B("midiport"),{midicmd:G0}=B("midicmd"),X0=R("control",(e,t)=>{if(!Array.isArray(e))throw new Error("control expects an array of [ccn, ccv]");const[n,i]=e;return t.ccn(n).ccv(i)}),{ccn:Z0}=B("ccn"),{ccv:W0}=B("ccv"),{ctlNum:z0}=B("ctlNum"),{nrpnn:O0}=B("nrpnn"),{nrpv:j0}=B("nrpv"),{progNum:$0}=B("progNum"),q0=R("sysex",(e,t)=>{if(!Array.isArray(e))throw new Error("sysex expects an array of [id, data]");const[n,i]=e;return t.sysexid(n).sysexdata(i)}),{sysexid:K0}=B("sysexid"),{sysexdata:H0}=B("sysexdata"),{midibend:U0}=B("midibend"),{miditouch:J0}=B("miditouch"),{polyTouch:Y0}=B("polyTouch"),Tr=e=>Wu.has(e)?Wu.get(e):e,Q0=R("as",(e,t)=>(e=Array.isArray(e)?e:[e],t.fmap(n=>(n=Array.isArray(n)?n:[n],n=Object.fromEntries(e.map((i,r)=>[Tr(i),n[r]])),n)))),ef=R("scrub",(e,t)=>e.outerBind(n=>{Array.isArray(n)||(n=[n]);const[i,r=1]=n;return t.begin(i).mul(Vr(r)).clip(1)}),!1),Ip=Object.freeze(Object.defineProperty({__proto__:null,accelerate:Hu,activeLabel:Ec,ad:I0,adsr:k0,amp:Qu,analyze:ha,anchor:Jc,ar:N0,as:Q0,att:ta,attack:ea,bandf:va,bandq:Da,bank:fa,begin:Ea,binshift:t0,bp:Pa,bpa:fo,bpattack:lo,bpd:Ao,bpdecay:yo,bpe:so,bpenv:ro,bpf:Ca,bpq:Fa,bpr:_o,bprelease:Bo,bps:Do,bpsustain:Po,ccn:Z0,ccv:W0,ch:Ra,channel:Ka,channels:Ta,chord:Kc,clip:d0,coarse:Va,color:_0,colour:x0,comb:Yl,compressor:yl,compressorAttack:Ml,compressorKnee:Al,compressorRatio:bl,compressorRelease:vl,control:X0,cps:h0,createParam:Zi,createParams:Nr,crush:Ia,ctf:Ja,ctlNum:z0,ctranspose:_c,curve:A0,cut:Ha,cutoff:Ua,dec:pa,decay:ma,degree:Sc,delay:qo,delayfb:Ho,delayfeedback:Ko,delayt:Yo,delaytime:Jo,deltaSlide:b0,density:Ib,det:nc,detune:tc,dfb:Uo,dict:Uc,dictionary:Hc,dist:gl,distort:pl,djf:$o,drive:Na,dry:sc,ds:V0,dt:Qo,dur:g0,duration:p0,end:wa,enhance:Ul,expression:wl,fadeInTime:oc,fadeOutTime:ac,fadeTime:uc,fanchor:ko,fft:da,fm:ra,fmattack:ua,fmdecay:aa,fmenv:sa,fmh:na,fmi:ia,fmrelease:ca,fmsustain:oa,fmvelocity:la,frameRate:r0,frames:s0,freeze:jl,freq:cc,fshift:Il,fshiftnote:Vl,fshiftphase:Nl,ftype:xo,gain:Ju,gat:Cc,gate:vc,getControlName:Tr,harmonic:xc,hbrick:n0,hcutoff:Go,hold:Ma,hours:u0,hp:Zo,hpa:co,hpattack:oo,hpd:go,hpdecay:po,hpe:io,hpenv:no,hpf:Xo,hpq:zo,hpr:So,hprelease:wo,hps:Co,hpsustain:vo,hresonance:Wo,imag:Hl,ir:ol,iresponse:cl,kcutoff:Ll,krush:Rl,label:wc,lbrick:i0,legato:m0,leslie:Pc,lfo:C0,lock:ec,loop:Sa,loopBegin:Ba,loopEnd:xa,loopb:_a,loope:ka,lp:Qa,lpa:ao,lpattack:uo,lpd:mo,lpdecay:ho,lpe:to,lpenv:eo,lpf:Ya,lpq:jo,lpr:Eo,lprelease:Fo,lps:Mo,lpsustain:bo,lrate:Dc,lsize:Fc,midibend:U0,midichan:T0,midicmd:G0,midimap:R0,midiport:L0,miditouch:J0,minutes:a0,mode:el,mtranspose:Bc,n:qu,noise:To,note:Ku,nrpnn:O0,nrpv:j0,nudge:Vc,octave:Nc,octaveR:Ic,octaves:Qc,octer:Gl,octersub:Xl,octersubsub:Zl,offset:Yc,orbit:Tc,overgain:Rc,overshape:Lc,pan:Gc,panchor:Mc,panorient:zc,panspan:Xc,pansplay:Zc,panwidth:Wc,partials:Jl,patt:fc,pattack:lc,pcurve:bc,pdec:dc,pdecay:hc,penv:Ac,ph:Ga,phasdp:qa,phaser:Xa,phasercenter:za,phaserdepth:ja,phaserrate:La,phasersweep:Za,phc:Oa,phd:$a,phs:Wa,pitchJump:M0,pitchJumpTime:v0,polyTouch:Y0,postgain:Yu,prel:yc,prelease:gc,progNum:$0,psus:pc,psustain:mc,rate:Oc,rdim:sl,real:Kl,registerControl:B,rel:ba,release:Aa,repeatTime:P0,resonance:Oo,rfade:al,ring:Wl,ringdf:Ol,ringf:zl,rlp:il,room:tl,roomdim:rl,roomfade:ul,roomlp:nl,roomsize:ll,rsize:dl,s:zu,scram:e0,scrub:ef,seconds:o0,semitone:$c,shape:ml,size:fl,slide:jc,smear:Ql,songPtr:c0,sound:Ou,source:ju,speed:Vr,spread:rc,squiz:Dl,src:$u,stepsPerOctave:kc,stretch:Cl,sus:ya,sustain:ga,sustainpedal:Sl,sysex:q0,sysexdata:H0,sysexid:K0,sz:hl,tremdp:_l,tremolo:S0,tremolodepth:Bl,tremolorate:xl,tremr:kl,triode:Tl,tsdelay:ql,uid:l0,unison:ic,unit:Pl,v:No,val:f0,velocity:Uu,vib:Io,vibmod:Ro,vibrato:Vo,vmod:Lo,voice:qc,vowel:Fl,waveloss:El,xsdelay:$l,zcrush:E0,zdelay:w0,zmod:F0,znoise:D0,zrand:y0,zzfx:B0},Symbol.toStringTag,{value:"Module"})),Vb=function(e,t){const[n,i]=e,[r,s]=t,[u,a]=Fr(i,r);return[[i,n-i],[Er((c,h)=>c.concat(h),u,s),a]]},Nb=function(e,t){const[n,i]=e,[r,s]=t,[u,a]=Fr(n,s);return[[n,i-n],[Er((h,d)=>h.concat(d),r,u),a]]},Vp=function(e,t){const[n,i]=e;return Math.min(n,i)<=1?[e,t]:Vp(...n>i?Vb(e,t):Nb(e,t))},tf=function(e,t){const n=e<0;e=Math.abs(e);const i=t-e,r=Array(e).fill([1]),s=Array(i).fill([0]),u=Vp([e,i],[r,s]),a=qt(u[1][0]).concat(qt(u[1][1]));return n?a.map(c=>c===0?1:0):a},nf=function(e,t,n){const i=tf(e,t);return n?eu(i,-n):i},Np=R("euclid",function(e,t,n){return n.struct(nf(e,t,0))}),{euclidrot:Tp,euclidRot:Rp}=R(["euclidrot","euclidRot"],function(e,t,n,i){return i.struct(nf(e,t,n))}),Lp=function(e,t,n,i){if(e<1)return _e;const s=nf(e,t,n).join("").split("1").slice(1).map(u=>[u.length+1,!0]);return i.struct(Ir(...s))},Gp=R(["euclidLegato"],function(e,t,n){return Lp(e,t,0,n)}),Xp=R(["euclidLegatoRot"],function(e,t,n,i){return Lp(e,t,n,i)});function rf(e,t,n=.05,i=.1,r=.1,s=globalThis.setInterval,u=globalThis.clearInterval,a=!0){let c=0,h=0,d=10**4,g=.01;const m=_=>n=_(n);r=r||i/2;const M=()=>{const _=e(),S=_+i+r;for(h===0&&(h=_+g);h<S;)h=a?Math.round(h*d)/d:h,t(h,n,c,_),h+=n,c++};let v;const P=()=>{w(),M(),v=s(M,i*1e3)},w=()=>{v!==void 0&&u(v),v=void 0};return{setDuration:m,start:P,stop:()=>{c=0,h=0,w()},pause:()=>w(),duration:n,interval:i,getPhase:()=>h,minLatency:g}}function Zp(e){return new j(t=>[new Oe(void 0,t.span,e)])}const Ct=e=>{const t=n=>[new Oe(void 0,n.span,e(n.span.begin))];return new j(t)},ui=Ct(e=>e%1),Rr=ui.toBipolar(),Wi=Ct(e=>1-e%1),Lr=Wi.toBipolar(),Gr=Ct(e=>Math.sin(Math.PI*2*e)),sf=Gr.fromBipolar(),Wp=sf._early($(1).div(4)),zp=Gr._early($(1).div(4)),uf=Ct(e=>Math.floor(e*2%2)),Op=uf.toBipolar(),jp=ct(ui,Wi),$p=ct(Rr,Lr),qp=ct(Wi,ui),Kp=ct(Lr,Rr),af=Ct(On);let of=0,cf=0;typeof window<"u"&&document.addEventListener("mousemove",e=>{of=e.clientY/document.body.clientHeight,cf=e.clientX/document.body.clientWidth});const Hp=Ct(()=>of),Up=Ct(()=>of),Jp=Ct(()=>cf),Yp=Ct(()=>cf),Qp=e=>{const t=e<<13^e,n=t>>17^t;return n<<5^n},Tb=e=>e-Math.trunc(e),eg=e=>Qp(Math.trunc(Tb(e/300)*536870912)),tg=e=>e%536870912/536870912,lf=e=>Math.abs(tg(eg(e))),Rb=(e,t)=>{const n=[];for(let i=0;i<t;++i)n.push(tg(e)),e=Qp(e);return n},Lb=(e,t)=>Rb(eg(e),t),ff=e=>ui.range(0,e).round().segment(e),ng=e=>{const t=K(e).log2(0).floor().add(1);return hf(e,t)},hf=(e,t=16)=>{t=K(t);const n=ff(t).mul(-1).add(t.sub(1));return K(e).segment(t).brshift(n).band(Ke(1))},df=e=>Ct(t=>{const i=Lb(t.floor().add(.5),e).map((s,u)=>[s,u]).sort((s,u)=>s[0]>u[0]-s[0]<u[0]).map(s=>s[1]),r=t.cyclePos().mul(e).floor()%e;return i[r]})._segment(e),ig=(e,t,n)=>{const i=[...Array(t).keys()].map(r=>n.zoom($(r).div(t),$(r+1).div(t)));return e.fmap(r=>i[r].repeatCycles(t)._fast(t)).innerJoin()},rg=R("shuffle",(e,t)=>ig(df(e),e,t)),sg=R("scramble",(e,t)=>ig(Zr(e)._segment(e),e,t)),ft=Ct(lf),ug=ft.toBipolar(),Xr=e=>ft.fmap(t=>t<e),ag=e=>K(e).fmap(Xr).innerJoin(),og=Xr(.5),Zr=e=>ft.fmap(t=>Math.trunc(t*e)),cg=e=>K(e).fmap(Zr).innerJoin(),Wr=(e,t)=>(t=t.map(K),t.length==0?_e:e.range(0,t.length).fmap(n=>{const i=Math.min(Math.max(Math.floor(n),0),t.length-1);return t[i]})),zi=(e,t)=>Wr(e,t).outerJoin(),zr=(e,t)=>Wr(e,t).innerJoin(),lg=(...e)=>zi(ft,e);j.prototype.choose=function(...e){return zi(this,e)},j.prototype.choose2=function(...e){return zi(this.fromBipolar(),e)};const mf=(...e)=>zr(ft.segment(1),e),fg=mf,hg=function(e,...t){const n=t.map(a=>K(a[0])),i=[];let r=Ke(0);for(const a of t)r=r.add(a[1]),i.push(r);const s=mu(i),u=function(a){const c=r.mul(a);return s.fmap(h=>d=>n[h.findIndex(g=>g>d,h)]).appLeft(c)};return e.bind(u)},Gb=(...e)=>hg(...e).outerJoin(),dg=(...e)=>Gb(ft,...e),pf=(...e)=>hg(ft.segment(1),...e).innerJoin(),mg=pf,gf=e=>{const t=e.fmap(Math.floor),n=e.fmap(s=>Math.floor(s)+1),i=s=>6*s**5-15*s**4+10*s**3,r=s=>u=>a=>u+i(s)*(a-u);return e.sub(t).fmap(r).appBoth(t.fmap(lf)).appBoth(n.fmap(lf))},pg=gf(af.fmap(e=>Number(e))),gg=R("degradeByWith",(e,t,n)=>n.fmap(i=>r=>i).appLeft(e.filterValues(i=>i>t)),!0,!0),yg=R("degradeBy",function(e,t){return t._degradeByWith(ft,e)},!0,!0),Ag=R("degrade",e=>e._degradeBy(.5),!0,!0),bg=R("undegradeBy",function(e,t){return t._degradeByWith(ft.fmap(n=>1-n),e)},!0,!0),Mg=R("undegrade",e=>e._undegradeBy(.5),!0,!0),vg=R("sometimesBy",function(e,t,n){return K(e).fmap(i=>Ie(n._degradeBy(i),t(n._undegradeBy(1-i)))).innerJoin()}),Cg=R("sometimes",function(e,t){return t._sometimesBy(.5,e)}),Pg=R("someCyclesBy",function(e,t,n){return K(e).fmap(i=>Ie(n._degradeByWith(ft._segment(1),i),t(n._degradeByWith(ft.fmap(r=>1-r)._segment(1),1-i)))).innerJoin()}),Dg=R("someCycles",function(e,t){return t._someCyclesBy(.5,e)}),Fg=R("often",function(e,t){return t.sometimesBy(.75,e)}),Eg=R("rarely",function(e,t){return t.sometimesBy(.25,e)}),wg=R("almostNever",function(e,t){return t.sometimesBy(.1,e)}),Sg=R("almostAlways",function(e,t){return t.sometimesBy(.9,e)}),Bg=R("never",function(e,t){return t}),_g=R("always",function(e,t){return e(t)});function Or(e){Array.isArray(e)===!1&&(e=[e]);const t=lu();return e.every(n=>{const i=cu.get(n)??n;return t[i]})}const xg=R("whenKey",function(e,t,n){return n.when(Or(e),t)}),kg=R("keyDown",function(e){return e.fmap(Or)}),Kt=function(e,t,n=!0){const i=Array.isArray(e),r=Object.keys(e).length;return e=au(e,K),r===0?_e:t.fmap(s=>{let u=s;return i&&(u=n?Math.round(u)%r:Ri(Math.round(u),0,e.length-1)),e[u]})},yf=function(e,t){return Array.isArray(t)&&([t,e]=[e,t]),Xb(e,t)},Xb=R("pick",function(e,t){return Kt(e,t,!1).innerJoin()}),Af=R("pickmod",function(e,t){return Kt(e,t,!0).innerJoin()}),Ig=R("pickF",function(e,t,n){return n.apply(yf(e,t))}),Vg=R("pickmodF",function(e,t,n){return n.apply(Af(e,t))}),Ng=R("pickOut",function(e,t){return Kt(e,t,!1).outerJoin()}),Tg=R("pickmodOut",function(e,t){return Kt(e,t,!0).outerJoin()}),Rg=R("pickRestart",function(e,t){return Kt(e,t,!1).restartJoin()}),Lg=R("pickmodRestart",function(e,t){return Kt(e,t,!0).restartJoin()}),Gg=R("pickReset",function(e,t){return Kt(e,t,!1).resetJoin()}),Xg=R("pickmodReset",function(e,t){return Kt(e,t,!0).resetJoin()}),{inhabit:Zg,pickSqueeze:Wg}=R(["inhabit","pickSqueeze"],function(e,t){return Kt(e,t,!1).squeezeJoin()}),{inhabitmod:zg,pickmodSqueeze:Og}=R(["inhabitmod","pickmodSqueeze"],function(e,t){return Kt(e,t,!0).squeezeJoin()}),jg=(e,t)=>(t=t.map(K),t.length==0?_e:e.fmap(n=>{const i=Mt(Math.round(n),t.length);return t[i]}).squeezeJoin());let jr;try{jr=window?.speechSynthesis}catch{console.warn("cannot use window: not in browser?")}let $g=jr?.getVoices();function Zb(e,t,n){jr.cancel();const i=new SpeechSynthesisUtterance(e);i.lang=t,$g=jr.getVoices();const r=$g.filter(s=>s.lang.includes(t));typeof n=="number"?i.voice=r[n%r.length]:typeof n=="string"&&(i.voice=r.find(s=>s.name===s)),speechSynthesis.speak(i)}const qg=R("speak",function(e,t,n){return n.onTrigger((i,r)=>{Zb(r.value,e,t)})}),Oi=async(...e)=>{const t=await Promise.allSettled(e),n=t.filter(i=>i.status==="fulfilled").map(i=>i.value);return t.forEach((i,r)=>{i.status==="rejected"&&console.warn(`evalScope: module with index ${r} could not be loaded:`,i.reason)}),n.forEach(i=>{Object.entries(i).forEach(([r,s])=>{globalThis[r]=s})}),n};function Wb(e,t={}){const{wrapExpression:n=!0,wrapAsync:i=!0}=t;n&&(e=`{${e}}`),i&&(e=`(async ()=>${e})()`);const r=`"use strict";return (${e})`;return Function(r)()}const Kg=async(e,t,n)=>{let i={};if(t){const u=t(e,n);e=u.output,i=u}return{mode:"javascript",pattern:await Wb(e,{wrapExpression:!!t}),meta:i}};class zb{constructor({onTrigger:t,onToggle:n,getTime:i}){this.started=!1,this.cps=.5,this.lastTick=0,this.getTime=i,this.time_at_last_tick_message=0,this.collator=new ou({getTargetClockTime:i}),this.onToggle=n,this.latency=.1,this.cycle=0,this.id=Math.round(Date.now()*Math.random()),this.worker=new SharedWorker(new URL(""+new URL("assets/clockworker-ZDiUtESR.js",document.currentScript&&document.currentScript.tagName.toUpperCase()==="SCRIPT"&&document.currentScript.src||document.baseURI).href,$s&&$s.tagName.toUpperCase()==="SCRIPT"&&$s.src||new URL("index.js",document.baseURI).href)),this.worker.port.start(),this.channel=new BroadcastChannel("strudeltick");const r=u=>{const{cps:a,begin:c,end:h,cycle:d,time:g}=u;this.cps=a,this.cycle=d;const m=this.collator.calculateOffset(g)+g;s(c,h,m),this.time_at_last_tick_message=m},s=(u,a,c)=>{if(this.started===!1)return;this.pattern.queryArc(u,a,{_cps:this.cps}).forEach(d=>{if(d.hasOnset()){const m=wr(d.whole.begin-this.cycle,this.cps)+c+this.latency,M=wr(d.duration,this.cps);t?.(d,0,M,this.cps,m)}})};this.channel.onmessage=u=>{if(!this.started)return;const{payload:a,type:c}=u.data;switch(c){case"tick":r(a)}}}sendMessage(t,n){this.worker.port.postMessage({type:t,payload:n,id:this.id})}now(){const t=(this.getTime()-this.time_at_last_tick_message)*this.cps;return this.cycle+t}setCps(t=1){this.sendMessage("cpschange",{cps:t})}setCycle(t){this.sendMessage("setcycle",{cycle:t})}setStarted(t){this.sendMessage("toggle",{started:t}),this.started=t,this.onToggle?.(t)}start(){Ye("[cyclist] start"),this.setStarted(!0)}stop(){Ye("[cyclist] stop"),this.collator.reset(),this.setStarted(!1)}setPattern(t,n=!1){this.pattern=t,n&&!this.started&&this.start()}log(t,n,i){const r=i.filter(s=>s.hasOnset());console.log(`${t.toFixed(4)} - ${n.toFixed(4)} ${Array(r.length).fill("I").join("")}`)}}class bf{constructor({interval:t,onTrigger:n,onToggle:i,onError:r,getTime:s,latency:u=.1,setInterval:a,clearInterval:c,beforeStart:h}){this.started=!1,this.beforeStart=h,this.cps=.5,this.num_ticks_since_cps_change=0,this.lastTick=0,this.lastBegin=0,this.lastEnd=0,this.getTime=s,this.num_cycles_at_cps_change=0,this.seconds_at_cps_change,this.onToggle=i,this.latency=u,this.clock=rf(s,(d,g,m,M)=>{this.num_ticks_since_cps_change===0&&(this.num_cycles_at_cps_change=this.lastEnd,this.seconds_at_cps_change=d),this.num_ticks_since_cps_change++;const P=this.num_ticks_since_cps_change*g*this.cps;try{const w=this.lastEnd;this.lastBegin=w;const V=this.num_cycles_at_cps_change+P;if(this.lastEnd=V,this.lastTick=d,d<M){console.log("skip query: too late");return}this.pattern.queryArc(w,V,{_cps:this.cps}).forEach(Z=>{if(Z.hasOnset()){const _=(Z.whole.begin-this.num_cycles_at_cps_change)/this.cps+this.seconds_at_cps_change+u,S=Z.duration/this.cps,x=_-d;n?.(Z,x,S,this.cps,_),Z.value.cps!==void 0&&this.cps!=Z.value.cps&&(this.cps=Z.value.cps,this.num_ticks_since_cps_change=0)}})}catch(w){Ye(`[cyclist] error: ${w.message}`),r?.(w)}},t,.1,.1,a,c)}now(){if(!this.started)return 0;const t=this.getTime()-this.lastTick-this.clock.duration;return this.lastBegin+t*this.cps}setStarted(t){this.started=t,this.onToggle?.(t)}async start(){if(await this.beforeStart?.(),this.num_ticks_since_cps_change=0,this.num_cycles_at_cps_change=0,!this.pattern)throw new Error("Scheduler: no pattern set! call .setPattern first.");Ye("[cyclist] start"),this.clock.start(),this.setStarted(!0)}pause(){Ye("[cyclist] pause"),this.clock.pause(),this.setStarted(!1)}stop(){Ye("[cyclist] stop"),this.clock.stop(),this.lastEnd=0,this.setStarted(!1)}async setPattern(t,n=!1){this.pattern=t,n&&!this.started&&await this.start()}setCps(t=.5){this.cps!==t&&(this.cps=t,this.num_ticks_since_cps_change=0)}log(t,n,i){const r=i.filter(s=>s.hasOnset());console.log(`${t.toFixed(4)} - ${n.toFixed(4)} ${Array(r.length).fill("I").join("")}`)}}let Mf;function $r(){if(!Mf)throw new Error("no time set! use setTime to define a time source");return Mf()}function ji(e){Mf=e}function Hg({defaultOutput:e,onEvalError:t,beforeEval:n,beforeStart:i,afterEval:r,getTime:s,transpiler:u,onToggle:a,editPattern:c,onUpdateState:h,sync:d=!1,setInterval:g,clearInterval:m,id:M}){const v={schedulerError:void 0,evalError:void 0,code:"// LOADING",activeCode:"// LOADING",pattern:void 0,miniLocations:[],widgets:[],pending:!1,started:!1},P={id:M},w=ce=>{Object.assign(v,ce),v.isDirty=v.code!==v.activeCode,v.error=v.evalError||v.schedulerError,h?.(v)},V={onTrigger:vf({defaultOutput:e,getTime:s}),getTime:s,onToggle:ce=>{w({started:ce}),a?.(ce)},setInterval:g,clearInterval:m,beforeStart:i},k=d&&typeof SharedWorker<"u"?new zb(V):new bf(V);let Z={},_=0,S,x;const I=function(){return Z={},_=0,S=void 0,x=void 0,_e},N=async(ce,ye=!0)=>(ce=c?.(ce)||ce,await k.setPattern(ce,ye),ce);ji(()=>k.now());const H=()=>k.stop(),X=()=>k.start(),ee=()=>k.pause(),z=()=>k.toggle(),O=ce=>k.setCps(ce),ne=ce=>k.setCps(ce/60),be=function(ce){return S=ce,_e},pe=function(ce){return x=ce,_e},he=()=>{j.prototype.p=function(ye){return typeof ye=="string"&&(ye.startsWith("_")||ye.endsWith("_"))?_e:(ye==="$"&&(ye=`$${_}`,_++),Z[ye]=this,this)},j.prototype.q=function(ye){return _e};try{for(let ye=1;ye<10;++ye)Object.defineProperty(j.prototype,`d${ye}`,{get(){return this.p(ye)},configurable:!0}),Object.defineProperty(j.prototype,`p${ye}`,{get(){return this.p(ye)},configurable:!0}),j.prototype[`q${ye}`]=_e}catch(ye){console.warn("injectPatternMethods: error:",ye)}const ce=R("cpm",function(ye,q){return q._fast(ye/60/k.cps)});return Oi({all:be,each:pe,hush:I,cpm:ce,setCps:O,setcps:O,setCpm:ne,setcpm:ne})};return{scheduler:k,evaluate:async(ce,ye=!0,q=!0)=>{if(!ce)throw new Error("no code to evaluate");try{w({code:ce,pending:!0}),await he(),ji(()=>k.now()),await n?.({code:ce}),q&&I();let{pattern:De,meta:at}=await Kg(ce,u,P);if(Object.keys(Z).length){let Ue=Object.values(Z);x&&(Ue=Ue.map(Me=>x(Me))),De=Ie(...Ue)}else x&&(De=x(De));if(S&&(De=S(De)),!Br(De)){const Ue=`got "${typeof evaluated}" instead of pattern`;throw new Error(Ue+(typeof evaluated=="function"?", did you forget to call a function?":"."))}return Ye("[eval] code updated"),De=await N(De,ye),w({miniLocations:at?.miniLocations||[],widgets:at?.widgets||[],activeCode:ce,pattern:De,evalError:void 0,schedulerError:void 0,pending:!1}),r?.({code:ce,pattern:De,meta:at}),De}catch(De){Ye(`[eval] error: ${De.message}`,"error"),console.error(De),w({evalError:De,pending:!1}),t?.(De)}},start:X,stop:H,pause:ee,setCps:O,setPattern:N,setCode:ce=>w({code:ce}),toggle:z,state:v}}const vf=({getTime:e,defaultOutput:t})=>async(n,i,r,s,u)=>{try{(!n.context.onTrigger||!n.context.dominantTrigger)&&await t(n,i,r,s,u),n.context.onTrigger&&await n.context.onTrigger(e()+i,n,e(),s,u)}catch(a){Ye(`[cyclist] error: ${a.message}`,"error")}},Ug=function(e,t={}){const n=document.getElementById("code"),i="background-image:url("+e+");background-size:contain;";n.style=i;const{className:r}=n,s=(c,h)=>{({style:()=>n.style=i+";"+h,className:()=>n.className=h+" "+r})[c]()},u=Object.entries(t).filter(([c,h])=>typeof h=="function");Object.entries(t).filter(([c,h])=>typeof h=="string").forEach(([c,h])=>s(c,h)),u.length},Jg=()=>{const e=document.getElementById("code");e&&(e.style="")};Ye("🌀 @strudel/core loaded 🌀"),globalThis._strudelLoaded&&console.warn(`@strudel/core was loaded more than once...
This might happen when you have multiple versions of strudel installed. 
Please check with "npm ls @strudel/core".`),globalThis._strudelLoaded=!0;const Yg=Object.freeze(Object.defineProperty({__proto__:null,ClockCollator:ou,Cyclist:bf,Fraction:$,Hap:Oe,Pattern:j,State:jn,TimeSpan:qe,__chooseWith:Wr,_brandBy:Xr,_fitslice:Eu,_irand:Zr,_keyDown:Or,_match:wu,_mod:Mt,_polymeterListSteps:Bu,_retime:xr,_slices:kr,accelerate:Hu,activeLabel:Ec,ad:I0,add:yd,adsr:k0,almostAlways:Sg,almostNever:wg,always:_g,amp:Qu,analyze:ha,anchor:Jc,and:Td,apply:hm,ar:N0,arrange:nd,as:Q0,att:ta,attack:ea,averageArray:Js,backgroundImage:Ug,band:Pd,bandf:va,bandq:Da,bank:fa,base64ToUnicode:uu,beat:kp,begin:Ea,binary:ng,binaryN:hf,bind:od,binshift:t0,bite:Am,bjork:tf,blshift:Ed,bor:Dd,bp:Pa,bpa:fo,bpattack:lo,bpd:Ao,bpdecay:yo,bpe:so,bpenv:ro,bpf:Ca,bpq:Fa,bpr:_o,bprelease:Bo,bps:Do,bpsustain:Po,brak:Sm,brand:og,brandBy:ag,brshift:wd,bxor:Fd,bypass:Ym,calculateSteps:J1,cat:bu,ccn:Z0,ccv:W0,ceil:Zd,ch:Ra,channel:Ka,channels:Ta,choose:lg,chooseCycles:mf,chooseInWith:zr,chooseWith:zi,chop:vp,chord:Kc,chunk:jm,chunkBack:Km,chunkback:Hm,clamp:Ri,cleanupUi:Jg,clip:d0,coarse:Va,code2hash:K1,color:_0,colour:x0,comb:Yl,compose:W1,compress:Kd,compressSpan:Hd,compressor:yl,compressorAttack:Ml,compressorKnee:Al,compressorRatio:bl,compressorRelease:vl,compressspan:Ud,constant:z1,contract:Nu,control:X0,controls:Ip,cosine:Wp,cosine2:zp,cpm:dm,cps:h0,createClock:rf,createParam:Zi,createParams:Nr,crush:Ia,ctf:Ja,ctlNum:z0,ctranspose:_c,curry:ge,curve:A0,cut:Ha,cutoff:Ua,cycleToSeconds:wr,dec:pa,decay:ma,degrade:Ag,degradeBy:yg,degradeByWith:gg,degree:Sc,delay:qo,delayfb:Ho,delayfeedback:Ko,delayt:Yo,delaytime:Jo,deltaSlide:b0,det:nc,detune:tc,dfb:Uo,dict:Uc,dictionary:Hc,dist:gl,distort:pl,div:Md,djf:$o,drawLine:fu,drive:Na,drop:ku,dry:sc,ds:V0,dt:Qo,dur:g0,duration:p0,early:mm,echo:Gm,echoWith:Nm,echowith:Tm,end:wa,enhance:Ul,eq:kd,eqt:Id,euclid:Np,euclidLegato:Gp,euclidLegatoRot:Xp,euclidRot:Rp,euclidrot:Tp,evalScope:Oi,evaluate:Kg,every:fm,expand:Vu,expression:wl,extend:Iu,fadeInTime:oc,fadeOutTime:ac,fadeTime:uc,fanchor:ko,fast:im,fastChunk:Jm,fastGap:Jd,fastcat:ct,fastchunk:Um,fastgap:Yd,fft:da,filter:ip,filterWhen:rp,firstOf:lm,fit:wp,flatten:qt,floor:Xd,fm:ra,fmattack:ua,fmdecay:aa,fmenv:sa,fmh:na,fmi:ia,fmrelease:ca,fmsustain:oa,fmvelocity:la,focus:Qd,focusSpan:em,focusspan:tm,fractionalArgs:O1,frameRate:r0,frames:s0,freeze:jl,freq:cc,freqToMidi:vr,fromBipolar:zd,fshift:Il,fshiftnote:Vl,fshiftphase:Nl,ftype:xo,func:Ld,gain:Ju,gap:$n,gat:Cc,gate:vc,getControlName:Tr,getCurrentKeyboardState:lu,getEventOffsetMs:L1,getFreq:Us,getFrequency:Qs,getPerformanceTimeSeconds:U1,getPlayableNoteValue:Z1,getSoundIndex:X1,getTime:$r,getTrigger:vf,grow:up,gt:Bd,gte:xd,harmonic:xc,hash2code:H1,hbrick:n0,hcutoff:Go,hold:Ma,hours:u0,hp:Zo,hpa:co,hpattack:oo,hpd:go,hpdecay:po,hpe:io,hpenv:no,hpf:Xo,hpq:zo,hpr:So,hprelease:wo,hps:Co,hpsustain:vo,hresonance:Wo,hsl:np,hsla:tp,hurry:rm,id:On,imag:Hl,inhabit:Zg,inhabitmod:zg,innerBind:cd,inside:am,inv:Fm,invert:Dm,ir:ol,irand:cg,iresponse:cl,isNote:En,isNoteWithOctave:T1,isPattern:Br,isaw:Wi,isaw2:Lr,iter:Zm,iterBack:Wm,iterback:zm,itri:qp,itri2:Kp,jux:Vm,juxBy:km,juxby:Im,kcutoff:Ll,keep:pd,keepif:gd,keyAlias:cu,keyDown:kg,krush:Rl,label:wc,lastOf:cm,late:Cu,lbrick:i0,legato:m0,leslie:Pc,lfo:C0,linger:bm,listRange:Cr,lock:ec,logKey:Mr,logger:Ye,loop:Sa,loopAt:Fp,loopAtCps:Sp,loopBegin:Ba,loopEnd:xa,loopat:Ep,loopatcps:Bp,loopb:_a,loope:ka,lp:Qa,lpa:ao,lpattack:uo,lpd:mo,lpdecay:ho,lpe:to,lpenv:eo,lpf:Ya,lpq:jo,lpr:Eo,lprelease:Fo,lps:Mo,lpsustain:bo,lrate:Dc,lsize:Fc,lt:Sd,lte:_d,mapArgs:Dr,mask:rd,midi2note:G1,midiToFreq:wn,midibend:U0,midichan:T0,midicmd:G0,midimap:R0,midiport:L0,miditouch:J0,minutes:a0,mod:vd,mode:el,mouseX:Yp,mouseY:Up,mousex:Jp,mousey:Hp,mtranspose:Bc,mul:bd,n:qu,nanFallback:Ys,ne:Vd,net:Nd,never:Bg,noise:To,note:Ku,noteToMidi:ln,nothing:At,nrpnn:O0,nrpv:j0,nudge:Vc,numeralArgs:yt,objectMap:au,octave:Nc,octaveR:Ic,octaves:Qc,octer:Gl,octersub:Xl,octersubsub:Zl,off:wm,offset:Yc,often:Fg,or:Rd,orbit:Tc,outerBind:ld,outside:om,overgain:Rc,overshape:Lc,pace:Su,pairs:iu,palindrome:xm,pan:Gc,panchor:Mc,panorient:zc,panspan:Xc,pansplay:Zc,panwidth:Wc,parseFractional:nu,parseNumeral:Pr,partials:Jl,patt:fc,pattack:lc,pcurve:bc,pdec:dc,pdecay:hc,penv:Ac,perlin:pg,perlinWith:gf,ph:Ga,phasdp:qa,phaser:Xa,phasercenter:za,phaserdepth:ja,phaserrate:La,phasersweep:Za,phc:Oa,phd:$a,phs:Wa,pick:yf,pickF:Ig,pickOut:Ng,pickReset:Gg,pickRestart:Rg,pickSqueeze:Wg,pickmod:Af,pickmodF:Vg,pickmodOut:Tg,pickmodReset:Xg,pickmodRestart:Lg,pickmodSqueeze:Og,pipe:tu,pitchJump:M0,pitchJumpTime:v0,ply:nm,pm:ed,polyBind:dd,polyTouch:Y0,polymeter:Xi,polyrhythm:Y1,postgain:Yu,pow:Cd,pr:Q1,prel:yc,prelease:gc,press:_m,pressBy:Bm,progNum:$0,psus:pc,psustain:mc,pure:Ke,rand:ft,rand2:ug,randcat:fg,randrun:df,range:Od,range2:$d,rangex:jd,rarely:Eg,rate:Oc,ratio:qd,rdim:sl,real:Kl,ref:_p,register:R,registerControl:B,reify:K,rel:ba,release:Aa,removeUndefineds:zn,repeatCycles:Om,repeatTime:P0,repl:Hg,resonance:Oo,rev:Pu,rfade:al,rib:ep,ribbon:Qm,ring:Wl,ringdf:Ol,ringf:zl,rlp:il,room:tl,roomdim:rl,roomfade:ul,roomlp:nl,roomsize:ll,rotate:eu,round:Gd,rsize:dl,run:ff,s:zu,s_add:dp,s_alt:cp,s_cat:op,s_contract:yp,s_expand:pp,s_extend:gp,s_polymeter:lp,s_sub:mp,s_taper:fp,s_taperlist:hp,s_tour:Ap,s_zip:bp,saw:ui,saw2:Rr,scram:e0,scramble:sg,scrub:ef,seconds:o0,seg:vm,segment:Mm,semitone:$c,seq:Mu,seqPLoop:id,sequence:vt,sequenceP:mu,set:md,setStringParser:du,setTime:ji,shape:ml,shrink:Ru,shrinklist:Tu,shuffle:rg,signal:Ct,silence:_e,sine:sf,sine2:Gr,size:fl,slice:Xu,slide:jc,slow:sm,slowChunk:qm,slowcat:fn,slowcatPrime:_r,slowchunk:$m,smear:Ql,sol2note:j1,someCycles:Dg,someCyclesBy:Pg,sometimes:Cg,sometimesBy:vg,songPtr:c0,sound:Ou,source:ju,sparsity:um,speak:qg,speed:Vr,splice:Dp,splitAt:Fr,spread:rc,square:uf,square2:Op,squeeze:jg,squeezeBind:fd,squiz:Dl,src:$u,stack:Ie,stackBy:td,stackCentre:Au,stackLeft:gu,stackRight:yu,steady:Zp,stepBind:hd,stepalt:_u,stepcat:lt,steps:Mp,stepsPerOctave:kc,stretch:Cl,striate:Cp,struct:sd,stut:Xm,stutWith:Rm,stutwith:Lm,sub:Ad,superimpose:ud,sus:ya,sustain:ga,sustainpedal:Sl,swing:Pm,swingBy:Cm,sysex:q0,sysexdata:H0,sysexid:K0,sz:hl,take:xu,time:af,timeCat:Ir,timecat:ap,toBipolar:Wd,tokenizeNote:Hs,tour:Lu,tremdp:_l,tremolo:S0,tremolodepth:Bl,tremolorate:xl,tremr:kl,tri:jp,tri2:$p,triode:Tl,tsdelay:ql,uid:l0,undegrade:Mg,undegradeBy:bg,unicodeToBase64:su,uniq:$1,uniqsort:q1,uniqsortr:ru,unison:ic,unit:Pl,v:No,val:f0,valueToMidi:R1,velocity:Uu,vib:Io,vibmod:Ro,vibrato:Vo,vmod:Lo,voice:qc,vowel:Fl,waveloss:El,wchoose:dg,wchooseCycles:pf,when:Em,whenKey:xg,withValue:ad,within:sp,wrandcat:mg,xfade:Zu,xsdelay:$l,zcrush:E0,zdelay:w0,zip:Gu,zipWith:Er,zmod:F0,znoise:D0,zoom:pm,zoomArc:gm,zoomarc:ym,zrand:y0,zzfx:B0},Symbol.toStringTag,{value:"Module"}));if(typeof DelayNode<"u"){class e extends DelayNode{constructor(n,i,r,s){super(n),i=Math.abs(i),this.delayTime.value=r;const u=n.createGain();u.gain.value=Math.min(Math.abs(s),.995),this.feedback=u.gain;const a=n.createGain();return a.gain.value=i,this.delayGain=a,this.connect(u),this.connect(a),u.connect(this),this.connect=c=>a.connect(c),this}start(n){this.delayGain.gain.setValueAtTime(this.delayGain.gain.value,n+this.delayTime.value)}}AudioContext.prototype.createFeedbackDelay=function(t,n,i){return new e(this,t,n,i)}}var Cf={};Cf.generateReverb=function(e,t){for(var n=e.audioContext||new AudioContext,i=n.sampleRate,r=e.numChannels||2,s=e.decayTime*1.5,u=Math.round(e.decayTime*i),a=Math.round(s*i),c=Math.round((e.fadeInTime||0)*i),h=Math.pow(1/1e3,1/u),d=n.createBuffer(r,a,i),g=0;g<r;g++){for(var m=d.getChannelData(g),M=0;M<a;M++)m[M]=$b()*Math.pow(h,M);for(var M=0;M<c;M++)m[M]*=M/c}Ob(d,e.lpFreqStart||0,e.lpFreqEnd||0,e.decayTime,t)},Cf.generateGraph=function(e,t,n,i,r){var s=document.createElement("canvas");s.width=t,s.height=n;var u=s.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,s.width,s.height),u.fillStyle="#fff";for(var a=t/e.length,c=n/(r-i),h=0;h<e.length;h++)u.fillRect(h*a,n-(e[h]-i)*c,1,1);return s};var Ob=function(e,t,n,i,r){if(t==0){r(e);return}var s=jb(e),u=new OfflineAudioContext(e.numberOfChannels,s[0].length,e.sampleRate),a=u.createBufferSource();a.buffer=e;var c=u.createBiquadFilter();t=Math.min(t,e.sampleRate/2),n=Math.min(n,e.sampleRate/2),c.type="lowpass",c.Q.value=1e-4,c.frequency.setValueAtTime(t,0),c.frequency.linearRampToValueAtTime(n,i),a.connect(c),c.connect(u.destination),a.start(),u.oncomplete=function(h){r(h.renderedBuffer)},u.startRendering(),window.filterNode=c},jb=function(e){for(var t=[],n=0;n<e.numberOfChannels;n++)t[n]=e.getChannelData(n);return t},$b=function(){return Math.random()*2-1};typeof AudioContext<"u"&&(AudioContext.prototype.adjustLength=function(e,t){const n=t.sampleRate*e,i=this.createBuffer(t.numberOfChannels,t.length,t.sampleRate);for(let r=0;r<t.numberOfChannels;r++){let s=t.getChannelData(r),u=i.getChannelData(r);for(let a=0;a<n;a++)u[a]=s[a]||0}return i},AudioContext.prototype.createReverb=function(e,t,n,i,r){const s=this.createConvolver();return s.generate=(u=2,a=.1,c=15e3,h=1e3,d)=>{s.duration=u,s.fade=a,s.lp=c,s.dim=h,s.ir=d,d?s.buffer=this.adjustLength(u,d):Cf.generateReverb({audioContext:this,numChannels:2,decayTime:u,fadeInTime:a,lpFreqStart:c,lpFreqEnd:h},g=>{s.buffer=g})},s.generate(e,t,n,i,r),s});var Qg={a:{freqs:[660,1120,2750,3e3,3350],gains:[1,.5012,.0708,.0631,.0126],qs:[80,90,120,130,140]},e:{freqs:[440,1800,2700,3e3,3300],gains:[1,.1995,.1259,.1,.1],qs:[70,80,100,120,120]},i:{freqs:[270,1850,2900,3350,3590],gains:[1,.0631,.0631,.0158,.0158],qs:[40,90,100,120,120]},o:{freqs:[430,820,2700,3e3,3300],gains:[1,.3162,.0501,.0794,.01995],qs:[40,80,100,120,120]},u:{freqs:[370,630,2750,3e3,3400],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},ae:{freqs:[650,1515,2400,3e3,3350],gains:[1,.5,.1008,.0631,.0126],qs:[80,90,120,130,140]},aa:{freqs:[560,900,2570,3e3,3300],gains:[1,.5,.0708,.0631,.0126],qs:[80,90,120,130,140]},oe:{freqs:[500,1430,2300,3e3,3300],gains:[1,.2,.0708,.0316,.01995],qs:[40,60,100,120,120]},ue:{freqs:[250,1750,2150,3200,3300],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},y:{freqs:[400,1460,2400,3e3,3300],gains:[1,.2,.0708,.0316,.02995],qs:[40,60,100,120,120]},uh:{freqs:[600,1250,2100,3100,3500],gains:[1,.3,.0608,.0316,.01995],qs:[40,70,100,120,130]},un:{freqs:[500,1240,2280,3e3,3500],gains:[1,.1,.1708,.0216,.02995],qs:[40,60,100,120,120]},en:{freqs:[600,1480,2450,3200,3300],gains:[1,.15,.0708,.0316,.02995],qs:[40,60,100,120,120]},an:{freqs:[700,1050,2500,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},on:{freqs:[500,1080,2350,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},get æ(){return this.ae},get ø(){return this.oe},get ɑ(){return this.aa},get å(){return this.aa},get ö(){return this.oe},get ü(){return this.ue},get ı(){return this.y}};if(typeof GainNode<"u"){class e extends GainNode{constructor(n,i){if(super(n),!Qg[i])throw new Error("vowel: unknown vowel "+i);const{gains:r,qs:s,freqs:u}=Qg[i],a=n.createGain();for(let c=0;c<5;c++){const h=n.createGain();h.gain.value=r[c];const d=n.createBiquadFilter();d.type="bandpass",d.Q.value=s[c],d.frequency.value=u[c],this.connect(d),d.connect(h),h.connect(a)}return a.gain.value=8,this.connect=c=>a.connect(c),this}}AudioContext.prototype.createVowelFilter=function(t){return new e(this,t)}}let e2=e=>console.log(e);const Ft=(...e)=>e2(...e),Pf=e=>{e2=e},qb=e=>{if(typeof e!="string")return[];const[t,n="",i]=e.match(/^([a-gA-G])([#bsf]*)([0-9]*)$/)?.slice(1)||[];return t?[t,n,i?Number(i):void 0]:[]},Kb={c:0,d:2,e:4,f:5,g:7,a:9,b:11},Hb={"#":1,b:-1,s:1,f:-1},qr=(e,t=3)=>{const[n,i,r=t]=qb(e);if(!n)throw new Error('not a note: "'+e+'"');const s=Kb[n.toLowerCase()],u=i?.split("").reduce((a,c)=>a+Hb[c],0)||0;return(Number(r)+1)*12+s+u},t2=e=>Math.pow(2,(e-69)/12)*440,ai=(e,t,n)=>Math.min(Math.max(e,t),n),Ub=e=>12*Math.log(e/440)/Math.LN2+69,Jb=(e,t)=>{if(typeof e!="object")throw new Error("valueToMidi: expected object value");let{freq:n,note:i}=e;return typeof n=="number"?Ub(n):typeof i=="string"?qr(i):typeof i=="number"?i:t};function hn(e,t=0,n){return isNaN(Number(e))?(!n&&Ft(`"${e}" is not a number, falling back to ${t}`,"warning"),t):e}const n2=(e,t)=>(e%t+t)%t,i2=(e,t)=>n2(Math.round(hn(e,0)),t),Yb="data:text/javascript;base64,KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NsYXNzIHB0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuc3RhcnRlZD0hMSx0aGlzLm5iSW5wdXRzPXQubnVtYmVyT2ZJbnB1dHMsdGhpcy5uYk91dHB1dHM9dC5udW1iZXJPZk91dHB1dHMsdGhpcy5ibG9ja1NpemU9dC5wcm9jZXNzb3JPcHRpb25zLmJsb2NrU2l6ZSx0aGlzLmhvcFNpemU9MTI4LHRoaXMubmJPdmVybGFwcz10aGlzLmJsb2NrU2l6ZS90aGlzLmhvcFNpemUsdGhpcy5pbnB1dEJ1ZmZlcnM9bmV3IEFycmF5KHRoaXMubmJJbnB1dHMpLHRoaXMuaW5wdXRCdWZmZXJzSGVhZD1uZXcgQXJyYXkodGhpcy5uYklucHV0cyksdGhpcy5pbnB1dEJ1ZmZlcnNUb1NlbmQ9bmV3IEFycmF5KHRoaXMubmJJbnB1dHMpO2ZvcihsZXQgZT0wO2U8dGhpcy5uYklucHV0cztlKyspdGhpcy5hbGxvY2F0ZUlucHV0Q2hhbm5lbHMoZSwxKTt0aGlzLm91dHB1dEJ1ZmZlcnM9bmV3IEFycmF5KHRoaXMubmJPdXRwdXRzKSx0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlPW5ldyBBcnJheSh0aGlzLm5iT3V0cHV0cyk7Zm9yKGxldCBlPTA7ZTx0aGlzLm5iT3V0cHV0cztlKyspdGhpcy5hbGxvY2F0ZU91dHB1dENoYW5uZWxzKGUsMSl9cmVhbGxvY2F0ZUNoYW5uZWxzSWZOZWVkZWQodCxlKXtmb3IobGV0IHM9MDtzPHRoaXMubmJJbnB1dHM7cysrKXtsZXQgcj10W3NdLmxlbmd0aDtyIT10aGlzLmlucHV0QnVmZmVyc1tzXS5sZW5ndGgmJnRoaXMuYWxsb2NhdGVJbnB1dENoYW5uZWxzKHMscil9Zm9yKGxldCBzPTA7czx0aGlzLm5iT3V0cHV0cztzKyspe2xldCByPWVbc10ubGVuZ3RoO3IhPXRoaXMub3V0cHV0QnVmZmVyc1tzXS5sZW5ndGgmJnRoaXMuYWxsb2NhdGVPdXRwdXRDaGFubmVscyhzLHIpfX1hbGxvY2F0ZUlucHV0Q2hhbm5lbHModCxlKXt0aGlzLmlucHV0QnVmZmVyc1t0XT1uZXcgQXJyYXkoZSk7Zm9yKGxldCBzPTA7czxlO3MrKyl0aGlzLmlucHV0QnVmZmVyc1t0XVtzXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKzEyOCksdGhpcy5pbnB1dEJ1ZmZlcnNbdF1bc10uZmlsbCgwKTt0aGlzLmlucHV0QnVmZmVyc0hlYWRbdF09bmV3IEFycmF5KGUpLHRoaXMuaW5wdXRCdWZmZXJzVG9TZW5kW3RdPW5ldyBBcnJheShlKTtmb3IobGV0IHM9MDtzPGU7cysrKXRoaXMuaW5wdXRCdWZmZXJzSGVhZFt0XVtzXT10aGlzLmlucHV0QnVmZmVyc1t0XVtzXS5zdWJhcnJheSgwLHRoaXMuYmxvY2tTaXplKSx0aGlzLmlucHV0QnVmZmVyc1RvU2VuZFt0XVtzXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKX1hbGxvY2F0ZU91dHB1dENoYW5uZWxzKHQsZSl7dGhpcy5vdXRwdXRCdWZmZXJzW3RdPW5ldyBBcnJheShlKTtmb3IobGV0IHM9MDtzPGU7cysrKXRoaXMub3V0cHV0QnVmZmVyc1t0XVtzXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKSx0aGlzLm91dHB1dEJ1ZmZlcnNbdF1bc10uZmlsbCgwKTt0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlW3RdPW5ldyBBcnJheShlKTtmb3IobGV0IHM9MDtzPGU7cysrKXRoaXMub3V0cHV0QnVmZmVyc1RvUmV0cmlldmVbdF1bc109bmV3IEZsb2F0MzJBcnJheSh0aGlzLmJsb2NrU2l6ZSksdGhpcy5vdXRwdXRCdWZmZXJzVG9SZXRyaWV2ZVt0XVtzXS5maWxsKDApfXJlYWRJbnB1dHModCl7aWYodFswXS5sZW5ndGgmJnRbMF1bMF0ubGVuZ3RoPT0wKXtmb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbZV0ubGVuZ3RoO3MrKyl0aGlzLmlucHV0QnVmZmVyc1tlXVtzXS5maWxsKDAsdGhpcy5ibG9ja1NpemUpO3JldHVybn1mb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbZV0ubGVuZ3RoO3MrKyl7bGV0IHI9dFtlXVtzXTt0aGlzLmlucHV0QnVmZmVyc1tlXVtzXS5zZXQocix0aGlzLmJsb2NrU2l6ZSl9fXdyaXRlT3V0cHV0cyh0KXtmb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbZV0ubGVuZ3RoO3MrKyl7bGV0IHI9dGhpcy5vdXRwdXRCdWZmZXJzW2VdW3NdLnN1YmFycmF5KDAsMTI4KTt0W2VdW3NdLnNldChyKX19c2hpZnRJbnB1dEJ1ZmZlcnMoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJJbnB1dHM7dCsrKWZvcihsZXQgZT0wO2U8dGhpcy5pbnB1dEJ1ZmZlcnNbdF0ubGVuZ3RoO2UrKyl0aGlzLmlucHV0QnVmZmVyc1t0XVtlXS5jb3B5V2l0aGluKDAsMTI4KX1zaGlmdE91dHB1dEJ1ZmZlcnMoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJPdXRwdXRzO3QrKylmb3IobGV0IGU9MDtlPHRoaXMub3V0cHV0QnVmZmVyc1t0XS5sZW5ndGg7ZSsrKXRoaXMub3V0cHV0QnVmZmVyc1t0XVtlXS5jb3B5V2l0aGluKDAsMTI4KSx0aGlzLm91dHB1dEJ1ZmZlcnNbdF1bZV0uc3ViYXJyYXkodGhpcy5ibG9ja1NpemUtMTI4KS5maWxsKDApfXByZXBhcmVJbnB1dEJ1ZmZlcnNUb1NlbmQoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJJbnB1dHM7dCsrKWZvcihsZXQgZT0wO2U8dGhpcy5pbnB1dEJ1ZmZlcnNbdF0ubGVuZ3RoO2UrKyl0aGlzLmlucHV0QnVmZmVyc1RvU2VuZFt0XVtlXS5zZXQodGhpcy5pbnB1dEJ1ZmZlcnNIZWFkW3RdW2VdKX1oYW5kbGVPdXRwdXRCdWZmZXJzVG9SZXRyaWV2ZSgpe2ZvcihsZXQgdD0wO3Q8dGhpcy5uYk91dHB1dHM7dCsrKWZvcihsZXQgZT0wO2U8dGhpcy5vdXRwdXRCdWZmZXJzW3RdLmxlbmd0aDtlKyspZm9yKGxldCBzPTA7czx0aGlzLmJsb2NrU2l6ZTtzKyspdGhpcy5vdXRwdXRCdWZmZXJzW3RdW2VdW3NdKz10aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlW3RdW2VdW3NdL3RoaXMubmJPdmVybGFwc31wcm9jZXNzKHQsZSxzKXtjb25zdCBuPXRbMF1bMF0hPT12b2lkIDA7cmV0dXJuIHRoaXMuc3RhcnRlZCYmIW4/ITE6KHRoaXMuc3RhcnRlZD1uLHRoaXMucmVhbGxvY2F0ZUNoYW5uZWxzSWZOZWVkZWQodCxlKSx0aGlzLnJlYWRJbnB1dHModCksdGhpcy5zaGlmdElucHV0QnVmZmVycygpLHRoaXMucHJlcGFyZUlucHV0QnVmZmVyc1RvU2VuZCgpLHRoaXMucHJvY2Vzc09MQSh0aGlzLmlucHV0QnVmZmVyc1RvU2VuZCx0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlLHMpLHRoaXMuaGFuZGxlT3V0cHV0QnVmZmVyc1RvUmV0cmlldmUoKSx0aGlzLndyaXRlT3V0cHV0cyhlKSx0aGlzLnNoaWZ0T3V0cHV0QnVmZmVycygpLCEwKX1wcm9jZXNzT0xBKHQsZSxzKXtjb25zb2xlLmFzc2VydCghMSwiTm90IG92ZXJyaWRlbiIpfX1jbGFzcyBkdHtjb25zdHJ1Y3Rvcih0KXtpZih0aGlzLnNpemU9dHwwLHRoaXMuc2l6ZTw9MXx8dGhpcy5zaXplJnRoaXMuc2l6ZS0xKXRocm93IG5ldyBFcnJvcigiRkZUIHNpemUgbXVzdCBiZSBhIHBvd2VyIG9mIHR3byBhbmQgYmlnZ2VyIHRoYW4gMSIpO3RoaXMuX2NzaXplPXQ8PDE7Zm9yKHZhciBlPW5ldyBBcnJheSh0aGlzLnNpemUqMikscz0wO3M8ZS5sZW5ndGg7cys9Mil7Y29uc3Qgbz1NYXRoLlBJKnMvdGhpcy5zaXplO2Vbc109TWF0aC5jb3MobyksZVtzKzFdPS1NYXRoLnNpbihvKX10aGlzLnRhYmxlPWU7Zm9yKHZhciByPTAsbj0xO3RoaXMuc2l6ZT5uO248PD0xKXIrKzt0aGlzLl93aWR0aD1yJTI9PT0wP3ItMTpyLHRoaXMuX2JpdHJldj1uZXcgQXJyYXkoMTw8dGhpcy5fd2lkdGgpO2Zvcih2YXIgaT0wO2k8dGhpcy5fYml0cmV2Lmxlbmd0aDtpKyspe3RoaXMuX2JpdHJldltpXT0wO2Zvcih2YXIgYT0wO2E8dGhpcy5fd2lkdGg7YSs9Mil7dmFyIGw9dGhpcy5fd2lkdGgtYS0yO3RoaXMuX2JpdHJldltpXXw9KGk+Pj5hJjMpPDxsfX10aGlzLl9vdXQ9bnVsbCx0aGlzLl9kYXRhPW51bGwsdGhpcy5faW52PTB9ZnJvbUNvbXBsZXhBcnJheSh0LGUpe2Zvcih2YXIgcz1lfHxuZXcgQXJyYXkodC5sZW5ndGg+Pj4xKSxyPTA7cjx0Lmxlbmd0aDtyKz0yKXNbcj4+PjFdPXRbcl07cmV0dXJuIHN9Y3JlYXRlQ29tcGxleEFycmF5KCl7Y29uc3QgdD1uZXcgQXJyYXkodGhpcy5fY3NpemUpO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV09MDtyZXR1cm4gdH10b0NvbXBsZXhBcnJheSh0LGUpe2Zvcih2YXIgcz1lfHx0aGlzLmNyZWF0ZUNvbXBsZXhBcnJheSgpLHI9MDtyPHMubGVuZ3RoO3IrPTIpc1tyXT10W3I+Pj4xXSxzW3IrMV09MDtyZXR1cm4gc31jb21wbGV0ZVNwZWN0cnVtKHQpe2Zvcih2YXIgZT10aGlzLl9jc2l6ZSxzPWU+Pj4xLHI9MjtyPHM7cis9Mil0W2Utcl09dFtyXSx0W2UtcisxXT0tdFtyKzFdfXRyYW5zZm9ybSh0LGUpe2lmKHQ9PT1lKXRocm93IG5ldyBFcnJvcigiSW5wdXQgYW5kIG91dHB1dCBidWZmZXJzIG11c3QgYmUgZGlmZmVyZW50Iik7dGhpcy5fb3V0PXQsdGhpcy5fZGF0YT1lLHRoaXMuX2ludj0wLHRoaXMuX3RyYW5zZm9ybTQoKSx0aGlzLl9vdXQ9bnVsbCx0aGlzLl9kYXRhPW51bGx9cmVhbFRyYW5zZm9ybSh0LGUpe2lmKHQ9PT1lKXRocm93IG5ldyBFcnJvcigiSW5wdXQgYW5kIG91dHB1dCBidWZmZXJzIG11c3QgYmUgZGlmZmVyZW50Iik7dGhpcy5fb3V0PXQsdGhpcy5fZGF0YT1lLHRoaXMuX2ludj0wLHRoaXMuX3JlYWxUcmFuc2Zvcm00KCksdGhpcy5fb3V0PW51bGwsdGhpcy5fZGF0YT1udWxsfWludmVyc2VUcmFuc2Zvcm0odCxlKXtpZih0PT09ZSl0aHJvdyBuZXcgRXJyb3IoIklucHV0IGFuZCBvdXRwdXQgYnVmZmVycyBtdXN0IGJlIGRpZmZlcmVudCIpO3RoaXMuX291dD10LHRoaXMuX2RhdGE9ZSx0aGlzLl9pbnY9MSx0aGlzLl90cmFuc2Zvcm00KCk7Zm9yKHZhciBzPTA7czx0Lmxlbmd0aDtzKyspdFtzXS89dGhpcy5zaXplO3RoaXMuX291dD1udWxsLHRoaXMuX2RhdGE9bnVsbH1fdHJhbnNmb3JtNCgpe3ZhciB0PXRoaXMuX291dCxlPXRoaXMuX2NzaXplLHM9dGhpcy5fd2lkdGgscj0xPDxzLG49ZS9yPDwxLGksYSxsPXRoaXMuX2JpdHJldjtpZihuPT09NClmb3IoaT0wLGE9MDtpPGU7aSs9bixhKyspe2NvbnN0IGQ9bFthXTt0aGlzLl9zaW5nbGVUcmFuc2Zvcm0yKGksZCxyKX1lbHNlIGZvcihpPTAsYT0wO2k8ZTtpKz1uLGErKyl7Y29uc3QgZD1sW2FdO3RoaXMuX3NpbmdsZVRyYW5zZm9ybTQoaSxkLHIpfXZhciBvPXRoaXMuX2ludj8tMToxLHU9dGhpcy50YWJsZTtmb3Iocj4+PTI7cj49MjtyPj49Mil7bj1lL3I8PDE7dmFyIGY9bj4+PjI7Zm9yKGk9MDtpPGU7aSs9bilmb3IodmFyIHY9aStmLGM9aSxwPTA7Yzx2O2MrPTIscCs9cil7Y29uc3QgZD1jLGc9ZCtmLG09ZytmLEk9bStmLF89dFtkXSx3PXRbZCsxXSxCPXRbZ10sYj10W2crMV0sQT10W21dLFA9dFttKzFdLFQ9dFtJXSx5PXRbSSsxXSx4PV8sRj13LEM9dVtwXSxrPW8qdVtwKzFdLHo9QipDLWIqayxWPUIqaytiKkMsTj11WzIqcF0scT1vKnVbMipwKzFdLFc9QSpOLVAqcSxZPUEqcStQKk4sTD11WzMqcF0sVT1vKnVbMypwKzFdLEg9VCpMLXkqVSxLPVQqVSt5KkwsWj14K1csTT1GK1ksTz14LVcsRz1GLVksSj16K0gsRT1WK0ssUj1vKih6LUgpLFE9byooVi1LKSwkPVorSixldD1NK0Usc3Q9Wi1KLHJ0PU0tRSxpdD1PK1EsbnQ9Ry1SLG90PU8tUSxhdD1HK1I7dFtkXT0kLHRbZCsxXT1ldCx0W2ddPWl0LHRbZysxXT1udCx0W21dPXN0LHRbbSsxXT1ydCx0W0ldPW90LHRbSSsxXT1hdH19fV9zaW5nbGVUcmFuc2Zvcm0yKHQsZSxzKXtjb25zdCByPXRoaXMuX291dCxuPXRoaXMuX2RhdGEsaT1uW2VdLGE9bltlKzFdLGw9bltlK3NdLG89bltlK3MrMV0sdT1pK2wsZj1hK28sdj1pLWwsYz1hLW87clt0XT11LHJbdCsxXT1mLHJbdCsyXT12LHJbdCszXT1jfV9zaW5nbGVUcmFuc2Zvcm00KHQsZSxzKXtjb25zdCByPXRoaXMuX291dCxuPXRoaXMuX2RhdGEsaT10aGlzLl9pbnY/LTE6MSxhPXMqMixsPXMqMyxvPW5bZV0sdT1uW2UrMV0sZj1uW2Urc10sdj1uW2UrcysxXSxjPW5bZSthXSxwPW5bZSthKzFdLGQ9bltlK2xdLGc9bltlK2wrMV0sbT1vK2MsST11K3AsXz1vLWMsdz11LXAsQj1mK2QsYj12K2csQT1pKihmLWQpLFA9aSoodi1nKSxUPW0rQix5PUkrYix4PV8rUCxGPXctQSxDPW0tQixrPUktYix6PV8tUCxWPXcrQTtyW3RdPVQsclt0KzFdPXksclt0KzJdPXgsclt0KzNdPUYsclt0KzRdPUMsclt0KzVdPWssclt0KzZdPXosclt0KzddPVZ9X3JlYWxUcmFuc2Zvcm00KCl7dmFyIHQ9dGhpcy5fb3V0LGU9dGhpcy5fY3NpemUscz10aGlzLl93aWR0aCxyPTE8PHMsbj1lL3I8PDEsaSxhLGw9dGhpcy5fYml0cmV2O2lmKG49PT00KWZvcihpPTAsYT0wO2k8ZTtpKz1uLGErKyl7Y29uc3QgaHQ9bFthXTt0aGlzLl9zaW5nbGVSZWFsVHJhbnNmb3JtMihpLGh0Pj4+MSxyPj4+MSl9ZWxzZSBmb3IoaT0wLGE9MDtpPGU7aSs9bixhKyspe2NvbnN0IGh0PWxbYV07dGhpcy5fc2luZ2xlUmVhbFRyYW5zZm9ybTQoaSxodD4+PjEscj4+PjEpfXZhciBvPXRoaXMuX2ludj8tMToxLHU9dGhpcy50YWJsZTtmb3Iocj4+PTI7cj49MjtyPj49Mil7bj1lL3I8PDE7dmFyIGY9bj4+PjEsdj1mPj4+MSxjPXY+Pj4xO2ZvcihpPTA7aTxlO2krPW4pZm9yKHZhciBwPTAsZD0wO3A8PWM7cCs9MixkKz1yKXt2YXIgZz1pK3AsbT1nK3YsST1tK3YsXz1JK3Ysdz10W2ddLEI9dFtnKzFdLGI9dFttXSxBPXRbbSsxXSxQPXRbSV0sVD10W0krMV0seT10W19dLHg9dFtfKzFdLEY9dyxDPUIsaz11W2RdLHo9byp1W2QrMV0sVj1iKmstQSp6LE49Yip6K0EqayxxPXVbMipkXSxXPW8qdVsyKmQrMV0sWT1QKnEtVCpXLEw9UCpXK1QqcSxVPXVbMypkXSxIPW8qdVszKmQrMV0sSz15KlUteCpILFo9eSpIK3gqVSxNPUYrWSxPPUMrTCxHPUYtWSxKPUMtTCxFPVYrSyxSPU4rWixRPW8qKFYtSyksJD1vKihOLVopLGV0PU0rRSxzdD1PK1IscnQ9RyskLGl0PUotUTtpZih0W2ddPWV0LHRbZysxXT1zdCx0W21dPXJ0LHRbbSsxXT1pdCxwPT09MCl7dmFyIG50PU0tRSxvdD1PLVI7dFtJXT1udCx0W0krMV09b3Q7Y29udGludWV9aWYocCE9PWMpe3ZhciBhdD1HLGt0PS1KLHp0PU0sVnQ9LU8sTXQ9LW8qJCxPdD0tbypRLEV0PS1vKlIsUnQ9LW8qRSxEdD1hdCtNdCxOdD1rdCtPdCxxdD16dCtSdCxXdD1WdC1FdCxsdD1pK3YtcCxmdD1pK2YtcDt0W2x0XT1EdCx0W2x0KzFdPU50LHRbZnRdPXF0LHRbZnQrMV09V3R9fX19X3NpbmdsZVJlYWxUcmFuc2Zvcm0yKHQsZSxzKXtjb25zdCByPXRoaXMuX291dCxuPXRoaXMuX2RhdGEsaT1uW2VdLGE9bltlK3NdLGw9aSthLG89aS1hO3JbdF09bCxyW3QrMV09MCxyW3QrMl09byxyW3QrM109MH1fc2luZ2xlUmVhbFRyYW5zZm9ybTQodCxlLHMpe2NvbnN0IHI9dGhpcy5fb3V0LG49dGhpcy5fZGF0YSxpPXRoaXMuX2ludj8tMToxLGE9cyoyLGw9cyozLG89bltlXSx1PW5bZStzXSxmPW5bZSthXSx2PW5bZStsXSxjPW8rZixwPW8tZixkPXUrdixnPWkqKHUtdiksbT1jK2QsST1wLF89LWcsdz1jLWQsQj1wLGI9ZztyW3RdPW0sclt0KzFdPTAsclt0KzJdPUksclt0KzNdPV8sclt0KzRdPXcsclt0KzVdPTAsclt0KzZdPUIsclt0KzddPWJ9fWNvbnN0IFg9KGgsdCxlKT0+TWF0aC5taW4oTWF0aC5tYXgoaCx0KSxlKSx2dD0oaCx0KT0+KGgldCt0KSV0LEQ9MTI4O2Z1bmN0aW9uIG10KGgsdCl7cmV0dXJuIGg8dD8oaC89dCxoK2gtaCpoLTEpOmg+MS10PyhoPShoLTEpL3QsaCpoK2graCsxKTowfWNvbnN0IGo9e3RyaShoLHQ9LjUpe2NvbnN0IGU9MS10O3JldHVybiBoPj10PzEvZS1oL2U6aC90fSxzaW5lKGgpe3JldHVybiBNYXRoLnNpbihNYXRoLlBJKjIqaCkqLjUrLjV9LHJhbXAoaCl7cmV0dXJuIGh9LHNhdyhoKXtyZXR1cm4gMS1ofSxzcXVhcmUoaCx0PS41KXtyZXR1cm4gaD49dD8wOjF9LGN1c3RvbShoLHQ9WzAsMV0pe2NvbnN0IGU9dC5sZW5ndGgtMSxzPU1hdGguZmxvb3IoaCplKSxyPTEvZSxuPVgodFtzXSwwLDEpLGE9WCh0W3MrMV0sMCwxKSxsPW4sbz0wLHU9cjtyZXR1cm4oYS1sKS8odS1vKSooaC1yKnMpK259LHNhd2JsZXAoaCx0KXtyZXR1cm4gMipoLTEtbXQoaCx0KX19O2Z1bmN0aW9uIHR0KGgsdCl7cmV0dXJuIHQubGVuZ3RoPjE/dFtoXTp0WzBdfWNvbnN0IGd0PU9iamVjdC5rZXlzKGopO2NsYXNzIEl0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6InRpbWUiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToiZW5kIixkZWZhdWx0VmFsdWU6MH0se25hbWU6ImZyZXF1ZW5jeSIsZGVmYXVsdFZhbHVlOi41fSx7bmFtZToic2tldyIsZGVmYXVsdFZhbHVlOi41fSx7bmFtZToiZGVwdGgiLGRlZmF1bHRWYWx1ZToxfSx7bmFtZToicGhhc2VvZmZzZXQiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToic2hhcGUiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToiZGNvZmZzZXQiLGRlZmF1bHRWYWx1ZTowfV19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMucGhhc2V9aW5jcmVtZW50UGhhc2UodCl7dGhpcy5waGFzZSs9dCx0aGlzLnBoYXNlPjEmJih0aGlzLnBoYXNlPXRoaXMucGhhc2UtMSl9cHJvY2Vzcyh0LGUscyl7aWYoY3VycmVudFRpbWU+PXMuZW5kWzBdKXJldHVybiExO2NvbnN0IHI9ZVswXSxuPXMuZnJlcXVlbmN5WzBdLGk9cy50aW1lWzBdLGE9cy5kZXB0aFswXSxsPXMuc2tld1swXSxvPXMucGhhc2VvZmZzZXRbMF0sdT1zLmRjb2Zmc2V0WzBdLGY9Z3Rbcy5zaGFwZVswXV0sdj1yWzBdLmxlbmd0aD8/MDt0aGlzLnBoYXNlPT1udWxsJiYodGhpcy5waGFzZT12dChpKm4rbywxKSk7Y29uc3QgYz1uL3NhbXBsZVJhdGU7Zm9yKGxldCBwPTA7cDx2O3ArKyl7Zm9yKGxldCBkPTA7ZDxyLmxlbmd0aDtkKyspe2NvbnN0IGc9KGpbZl0odGhpcy5waGFzZSxsKSt1KSphO3JbZF1bcF09Z310aGlzLmluY3JlbWVudFBoYXNlKGMpfXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigibGZvLXByb2Nlc3NvciIsSXQpO2NsYXNzIEJ0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImNvYXJzZSIsZGVmYXVsdFZhbHVlOjF9XX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5zdGFydGVkPSExfXByb2Nlc3ModCxlLHMpe2NvbnN0IHI9dFswXSxuPWVbMF0saT1yWzBdIT09dm9pZCAwO2lmKHRoaXMuc3RhcnRlZCYmIWkpcmV0dXJuITE7dGhpcy5zdGFydGVkPWk7bGV0IGE9cy5jb2Fyc2VbMF0/PzA7YT1NYXRoLm1heCgxLGEpO2ZvcihsZXQgbD0wO2w8RDtsKyspZm9yKGxldCBvPTA7bzxyLmxlbmd0aDtvKyspbltvXVtsXT1sJWE9PT0wP3Jbb11bbF06bltvXVtsLTFdO3JldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiY29hcnNlLXByb2Nlc3NvciIsQnQpO2NsYXNzIGJ0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImNydXNoIixkZWZhdWx0VmFsdWU6MH1dfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnN0YXJ0ZWQ9ITF9cHJvY2Vzcyh0LGUscyl7Y29uc3Qgcj10WzBdLG49ZVswXSxpPXJbMF0hPT12b2lkIDA7aWYodGhpcy5zdGFydGVkJiYhaSlyZXR1cm4hMTt0aGlzLnN0YXJ0ZWQ9aTtsZXQgYT1zLmNydXNoWzBdPz84O2E9TWF0aC5tYXgoMSxhKTtmb3IobGV0IGw9MDtsPEQ7bCsrKWZvcihsZXQgbz0wO288ci5sZW5ndGg7bysrKXtjb25zdCB1PU1hdGgucG93KDIsYS0xKTtuW29dW2xdPU1hdGgucm91bmQocltvXVtsXSp1KS91fXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiY3J1c2gtcHJvY2Vzc29yIixidCk7Y2xhc3MgX3QgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToic2hhcGUiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToicG9zdGdhaW4iLGRlZmF1bHRWYWx1ZToxfV19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuc3RhcnRlZD0hMX1wcm9jZXNzKHQsZSxzKXtjb25zdCByPXRbMF0sbj1lWzBdLGk9clswXSE9PXZvaWQgMDtpZih0aGlzLnN0YXJ0ZWQmJiFpKXJldHVybiExO3RoaXMuc3RhcnRlZD1pO2xldCBhPXMuc2hhcGVbMF07YT1hPDE/YToxLTRlLTEwLGE9MiphLygxLWEpO2NvbnN0IGw9TWF0aC5tYXgoLjAwMSxNYXRoLm1pbigxLHMucG9zdGdhaW5bMF0pKTtmb3IobGV0IG89MDtvPEQ7bysrKWZvcihsZXQgdT0wO3U8ci5sZW5ndGg7dSsrKW5bdV1bb109KDErYSkqclt1XVtvXS8oMSthKk1hdGguYWJzKHJbdV1bb10pKSpsO3JldHVybiEwfX1yZWdpc3RlclByb2Nlc3Nvcigic2hhcGUtcHJvY2Vzc29yIixfdCk7ZnVuY3Rpb24gUyhoKXtjb25zdCB0PWgqaDtyZXR1cm4gaCooMjcrdCkvKDI3KzkqdCl9Y29uc3QgdXQ9My4xNDE1OTI2NTM1OTtjbGFzcyB3dCBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvcntzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCl7cmV0dXJuW3tuYW1lOiJmcmVxdWVuY3kiLGRlZmF1bHRWYWx1ZTo1MDB9LHtuYW1lOiJxIixkZWZhdWx0VmFsdWU6MX0se25hbWU6ImRyaXZlIixkZWZhdWx0VmFsdWU6LjY5fV19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuc3RhcnRlZD0hMSx0aGlzLnAwPVswLDBdLHRoaXMucDE9WzAsMF0sdGhpcy5wMj1bMCwwXSx0aGlzLnAzPVswLDBdLHRoaXMucDMyPVswLDBdLHRoaXMucDMzPVswLDBdLHRoaXMucDM0PVswLDBdfXByb2Nlc3ModCxlLHMpe2NvbnN0IHI9dFswXSxuPWVbMF0saT1yWzBdIT09dm9pZCAwO2lmKHRoaXMuc3RhcnRlZCYmIWkpcmV0dXJuITE7dGhpcy5zdGFydGVkPWk7Y29uc3QgYT1zLnFbMF0sbD1YKE1hdGguZXhwKHMuZHJpdmVbMF0pLC4xLDJlMyk7bGV0IG89cy5mcmVxdWVuY3lbMF07bz1vKjIqdXQvc2FtcGxlUmF0ZSxvPW8+MT8xOm87Y29uc3QgdT1NYXRoLm1pbig4LGEqLjQpO2xldCBmPTEvbCpNYXRoLm1pbigxLjc1LDErdSk7Zm9yKGxldCB2PTA7djxEO3YrKylmb3IobGV0IGM9MDtjPHIubGVuZ3RoO2MrKyl7Y29uc3QgcD10aGlzLnAzW2NdKi4zNjA4OTErdGhpcy5wMzJbY10qLjQxNzI5K3RoaXMucDMzW2NdKi4xNzc4OTYrdGhpcy5wMzRbY10qLjA0Mzk3MjU7dGhpcy5wMzRbY109dGhpcy5wMzNbY10sdGhpcy5wMzNbY109dGhpcy5wMzJbY10sdGhpcy5wMzJbY109dGhpcy5wM1tjXSx0aGlzLnAwW2NdKz0oUyhyW2NdW3ZdKmwtdSpwKS1TKHRoaXMucDBbY10pKSpvLHRoaXMucDFbY10rPShTKHRoaXMucDBbY10pLVModGhpcy5wMVtjXSkpKm8sdGhpcy5wMltjXSs9KFModGhpcy5wMVtjXSktUyh0aGlzLnAyW2NdKSkqbyx0aGlzLnAzW2NdKz0oUyh0aGlzLnAyW2NdKS1TKHRoaXMucDNbY10pKSpvLG5bY11bdl09cCpmfXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigibGFkZGVyLXByb2Nlc3NvciIsd3QpO2NsYXNzIFN0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImRpc3RvcnQiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToicG9zdGdhaW4iLGRlZmF1bHRWYWx1ZToxfV19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuc3RhcnRlZD0hMX1wcm9jZXNzKHQsZSxzKXtjb25zdCByPXRbMF0sbj1lWzBdLGk9clswXSE9PXZvaWQgMDtpZih0aGlzLnN0YXJ0ZWQmJiFpKXJldHVybiExO3RoaXMuc3RhcnRlZD1pO2NvbnN0IGE9TWF0aC5leHBtMShzLmRpc3RvcnRbMF0pLGw9TWF0aC5tYXgoLjAwMSxNYXRoLm1pbigxLHMucG9zdGdhaW5bMF0pKTtmb3IobGV0IG89MDtvPEQ7bysrKWZvcihsZXQgdT0wO3U8ci5sZW5ndGg7dSsrKW5bdV1bb109KDErYSkqclt1XVtvXS8oMSthKk1hdGguYWJzKHJbdV1bb10pKSpsO3JldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiZGlzdG9ydC1wcm9jZXNzb3IiLFN0KTtmdW5jdGlvbiBBdChoLHQsZSl7cmV0dXJuIGUqKHQtaCkraH1mdW5jdGlvbiBQdChoLHQsZSl7cmV0dXJuIGg8Mj8wOkF0KC10Ki41LHQqLjUsZS8oaC0xKSl9ZnVuY3Rpb24gY3QoaCx0KXtyZXR1cm4gaCpNYXRoLnBvdygyLHQvMTIpfWNsYXNzIFR0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnBoYXNlPVtdfXN0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImJlZ2luIixkZWZhdWx0VmFsdWU6MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1pbjowfSx7bmFtZToiZW5kIixkZWZhdWx0VmFsdWU6MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1pbjowfSx7bmFtZToiZnJlcXVlbmN5IixkZWZhdWx0VmFsdWU6NDQwLG1pbjpOdW1iZXIuRVBTSUxPTn0se25hbWU6InBhbnNwcmVhZCIsZGVmYXVsdFZhbHVlOi40LG1pbjowLG1heDoxfSx7bmFtZToiZnJlcXNwcmVhZCIsZGVmYXVsdFZhbHVlOi4yLG1pbjowfSx7bmFtZToiZGV0dW5lIixkZWZhdWx0VmFsdWU6MCxtaW46MH0se25hbWU6InZvaWNlcyIsZGVmYXVsdFZhbHVlOjUsbWluOjF9XX1wcm9jZXNzKHQsZSxzKXtpZihjdXJyZW50VGltZTw9cy5iZWdpblswXSlyZXR1cm4hMDtpZihjdXJyZW50VGltZT49cy5lbmRbMF0pcmV0dXJuITE7bGV0IHI9cy5mcmVxdWVuY3lbMF07cj1yKk1hdGgucG93KDIscy5kZXR1bmVbMF0vMTIwMCk7Y29uc3Qgbj1lWzBdLGk9cy52b2ljZXNbMF0sYT1zLmZyZXFzcHJlYWRbMF0sbD1zLnBhbnNwcmVhZFswXSouNSsuNSxvPU1hdGguc3FydCgxLWwpLHU9TWF0aC5zcXJ0KGwpO2ZvcihsZXQgZj0wO2Y8aTtmKyspe2NvbnN0IHY9KGYmMSk9PTEsYz1jdChyLFB0KGksYSxmKSk7bGV0IHA9byxkPXU7diYmKHA9dSxkPW8pO2NvbnN0IGc9Yy9zYW1wbGVSYXRlO2ZvcihsZXQgbT0wO208blswXS5sZW5ndGg7bSsrKXt0aGlzLnBoYXNlW2ZdPXRoaXMucGhhc2VbZl0/P01hdGgucmFuZG9tKCk7Y29uc3QgST1qLnNhd2JsZXAodGhpcy5waGFzZVtmXSxnKTtuWzBdW21dPW5bMF1bbV0rSSpwLG5bMV1bbV09blsxXVttXStJKmQsdGhpcy5waGFzZVtmXSs9Zyx0aGlzLnBoYXNlW2ZdPjEmJih0aGlzLnBoYXNlW2ZdPXRoaXMucGhhc2VbZl0tMSl9fXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3Nvcigic3VwZXJzYXctb3NjaWxsYXRvciIsVHQpO2NvbnN0IHl0PTIwNDg7ZnVuY3Rpb24geHQoaCl7bGV0IHQ9bmV3IEZsb2F0MzJBcnJheShoKTtmb3IodmFyIGU9MDtlPGg7ZSsrKXRbZV09LjUqKDEtTWF0aC5jb3MoMipNYXRoLlBJKmUvaCkpO3JldHVybiB0fWNsYXNzIEZ0IGV4dGVuZHMgcHR7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToicGl0Y2hGYWN0b3IiLGRlZmF1bHRWYWx1ZToxfV19Y29uc3RydWN0b3IodCl7dC5wcm9jZXNzb3JPcHRpb25zPXtibG9ja1NpemU6eXR9LHN1cGVyKHQpLHRoaXMuZmZ0U2l6ZT10aGlzLmJsb2NrU2l6ZSx0aGlzLnRpbWVDdXJzb3I9MCx0aGlzLmhhbm5XaW5kb3c9eHQodGhpcy5ibG9ja1NpemUpLHRoaXMuZmZ0PW5ldyBkdCh0aGlzLmZmdFNpemUpLHRoaXMuZnJlcUNvbXBsZXhCdWZmZXI9dGhpcy5mZnQuY3JlYXRlQ29tcGxleEFycmF5KCksdGhpcy5mcmVxQ29tcGxleEJ1ZmZlclNoaWZ0ZWQ9dGhpcy5mZnQuY3JlYXRlQ29tcGxleEFycmF5KCksdGhpcy50aW1lQ29tcGxleEJ1ZmZlcj10aGlzLmZmdC5jcmVhdGVDb21wbGV4QXJyYXkoKSx0aGlzLm1hZ25pdHVkZXM9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmZmdFNpemUvMisxKSx0aGlzLnBlYWtJbmRleGVzPW5ldyBJbnQzMkFycmF5KHRoaXMubWFnbml0dWRlcy5sZW5ndGgpLHRoaXMubmJQZWFrcz0wfXByb2Nlc3NPTEEodCxlLHMpe2xldCByPXMucGl0Y2hGYWN0b3Jbcy5waXRjaEZhY3Rvci5sZW5ndGgtMV07cjwwJiYocj1yKi4yNSkscj1NYXRoLm1heCgwLHIrMSk7Zm9yKHZhciBuPTA7bjx0aGlzLm5iSW5wdXRzO24rKylmb3IodmFyIGk9MDtpPHRbbl0ubGVuZ3RoO2krKyl7dmFyIGE9dFtuXVtpXSxsPWVbbl1baV07dGhpcy5hcHBseUhhbm5XaW5kb3coYSksdGhpcy5mZnQucmVhbFRyYW5zZm9ybSh0aGlzLmZyZXFDb21wbGV4QnVmZmVyLGEpLHRoaXMuY29tcHV0ZU1hZ25pdHVkZXMoKSx0aGlzLmZpbmRQZWFrcygpLHRoaXMuc2hpZnRQZWFrcyhyKSx0aGlzLmZmdC5jb21wbGV0ZVNwZWN0cnVtKHRoaXMuZnJlcUNvbXBsZXhCdWZmZXJTaGlmdGVkKSx0aGlzLmZmdC5pbnZlcnNlVHJhbnNmb3JtKHRoaXMudGltZUNvbXBsZXhCdWZmZXIsdGhpcy5mcmVxQ29tcGxleEJ1ZmZlclNoaWZ0ZWQpLHRoaXMuZmZ0LmZyb21Db21wbGV4QXJyYXkodGhpcy50aW1lQ29tcGxleEJ1ZmZlcixsKSx0aGlzLmFwcGx5SGFubldpbmRvdyhsKX10aGlzLnRpbWVDdXJzb3IrPXRoaXMuaG9wU2l6ZX1hcHBseUhhbm5XaW5kb3codCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmJsb2NrU2l6ZTtlKyspdFtlXT10W2VdKnRoaXMuaGFubldpbmRvd1tlXSoxLjYyfWNvbXB1dGVNYWduaXR1ZGVzKCl7Zm9yKHZhciB0PTAsZT0wO3Q8dGhpcy5tYWduaXR1ZGVzLmxlbmd0aDspe2xldCBzPXRoaXMuZnJlcUNvbXBsZXhCdWZmZXJbZV0scj10aGlzLmZyZXFDb21wbGV4QnVmZmVyW2UrMV07dGhpcy5tYWduaXR1ZGVzW3RdPXMqKjIrcioqMix0Kz0xLGUrPTJ9fWZpbmRQZWFrcygpe3RoaXMubmJQZWFrcz0wO3ZhciB0PTI7bGV0IGU9dGhpcy5tYWduaXR1ZGVzLmxlbmd0aC0yO2Zvcig7dDxlOyl7bGV0IHM9dGhpcy5tYWduaXR1ZGVzW3RdO2lmKHRoaXMubWFnbml0dWRlc1t0LTFdPj1zfHx0aGlzLm1hZ25pdHVkZXNbdC0yXT49cyl7dCsrO2NvbnRpbnVlfWlmKHRoaXMubWFnbml0dWRlc1t0KzFdPj1zfHx0aGlzLm1hZ25pdHVkZXNbdCsyXT49cyl7dCsrO2NvbnRpbnVlfXRoaXMucGVha0luZGV4ZXNbdGhpcy5uYlBlYWtzXT10LHRoaXMubmJQZWFrcysrLHQrPTJ9fXNoaWZ0UGVha3ModCl7dGhpcy5mcmVxQ29tcGxleEJ1ZmZlclNoaWZ0ZWQuZmlsbCgwKTtmb3IodmFyIGU9MDtlPHRoaXMubmJQZWFrcztlKyspe2xldCBpPXRoaXMucGVha0luZGV4ZXNbZV0sYT1NYXRoLnJvdW5kKGkqdCk7aWYoYT50aGlzLm1hZ25pdHVkZXMubGVuZ3RoKWJyZWFrO3ZhciBzPTAscj10aGlzLmZmdFNpemU7aWYoZT4wKXtsZXQgdT10aGlzLnBlYWtJbmRleGVzW2UtMV07cz1pLU1hdGguZmxvb3IoKGktdSkvMil9aWYoZTx0aGlzLm5iUGVha3MtMSl7bGV0IHU9dGhpcy5wZWFrSW5kZXhlc1tlKzFdO3I9aStNYXRoLmNlaWwoKHUtaSkvMil9bGV0IGw9cy1pLG89ci1pO2Zvcih2YXIgbj1sO248bztuKyspe2xldCB1PWkrbixmPWErbjtpZihmPj10aGlzLm1hZ25pdHVkZXMubGVuZ3RoKWJyZWFrO2xldCB2PTIqTWF0aC5QSSooZi11KS90aGlzLmZmdFNpemUsYz1NYXRoLmNvcyh2KnRoaXMudGltZUN1cnNvcikscD1NYXRoLnNpbih2KnRoaXMudGltZUN1cnNvciksZD11KjIsZz1kKzEsbT10aGlzLmZyZXFDb21wbGV4QnVmZmVyW2RdLEk9dGhpcy5mcmVxQ29tcGxleEJ1ZmZlcltnXSxfPW0qYy1JKnAsdz1tKnArSSpjLEI9ZioyLGI9QisxO3RoaXMuZnJlcUNvbXBsZXhCdWZmZXJTaGlmdGVkW0JdKz1fLHRoaXMuZnJlcUNvbXBsZXhCdWZmZXJTaGlmdGVkW2JdKz13fX19fXJlZ2lzdGVyUHJvY2Vzc29yKCJwaGFzZS12b2NvZGVyLXByb2Nlc3NvciIsRnQpO2NsYXNzIEN0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnBpPXV0LHRoaXMucGhpPS10aGlzLnBpLHRoaXMuWTA9MCx0aGlzLlkxPTAsdGhpcy5QVz10aGlzLnBpLHRoaXMuQj0yLjMsdGhpcy5kcGhpZj0wLHRoaXMuZW52Zj0wfXN0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImJlZ2luIixkZWZhdWx0VmFsdWU6MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1pbjowfSx7bmFtZToiZW5kIixkZWZhdWx0VmFsdWU6MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1pbjowfSx7bmFtZToiZnJlcXVlbmN5IixkZWZhdWx0VmFsdWU6NDQwLG1pbjpOdW1iZXIuRVBTSUxPTn0se25hbWU6ImRldHVuZSIsZGVmYXVsdFZhbHVlOjAsbWluOk51bWJlci5ORUdBVElWRV9JTkZJTklUWSxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfSx7bmFtZToicHVsc2V3aWR0aCIsZGVmYXVsdFZhbHVlOjEsbWluOjAsbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWX1dfXByb2Nlc3ModCxlLHMpe2lmKHRoaXMuZGlzY29ubmVjdGVkKXJldHVybiExO2lmKGN1cnJlbnRUaW1lPD1zLmJlZ2luWzBdKXJldHVybiEwO2lmKGN1cnJlbnRUaW1lPj1zLmVuZFswXSlyZXR1cm4hMTtjb25zdCByPWVbMF07bGV0IG49MSxpO2ZvcihsZXQgYT0wO2E8KHJbMF0ubGVuZ3RoPz8wKTthKyspe2NvbnN0IGw9KDEtWCh0dChhLHMucHVsc2V3aWR0aCksLS45OSwuOTkpKSp0aGlzLnBpLG89dHQoYSxzLmRldHVuZSksdT1jdCh0dChhLHMuZnJlcXVlbmN5KSxvLzEwMCk7aT11Kih0aGlzLnBpLyhzYW1wbGVSYXRlKi41KSksdGhpcy5kcGhpZis9LjEqKGktdGhpcy5kcGhpZiksbio9Ljk5OTgsdGhpcy5lbnZmKz0uMSoobi10aGlzLmVudmYpLHRoaXMuQj0yLjMqKDEtMWUtNCp1KSx0aGlzLkI8MCYmKHRoaXMuQj0wKSx0aGlzLnBoaSs9dGhpcy5kcGhpZix0aGlzLnBoaT49dGhpcy5waSYmKHRoaXMucGhpLT0yKnRoaXMucGkpO2xldCBmPU1hdGguY29zKHRoaXMucGhpK3RoaXMuQip0aGlzLlkwKTt0aGlzLlkwPS41KihmK3RoaXMuWTApO2xldCB2PU1hdGguY29zKHRoaXMucGhpK3RoaXMuQip0aGlzLlkxK2wpO3RoaXMuWTE9LjUqKHYrdGhpcy5ZMSk7Zm9yKGxldCBjPTA7YzxyLmxlbmd0aDtjKyspcltjXVthXT0uMTUqKGYtdikqdGhpcy5lbnZmfXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigicHVsc2Utb3NjaWxsYXRvciIsQ3QpfSkoKTsK";function Ht(e){const t=Ee().createGain();return t.gain.value=e,t}const r2=(e,t,n,i)=>i-n===0?0:(t-e)/(i-n);function Rt(e,t,n,i){const r=new AudioWorkletNode(e,t,i);return Object.entries(n).forEach(([s,u])=>{r.parameters.get(s).value=u}),r}const Ut=(e,t,n,i,r,s,u,a,c,h="exponential")=>{t=hn(t),n=hn(n),i=hn(i),r=hn(r);const d=h==="exponential"?"exponentialRampToValueAtTime":"linearRampToValueAtTime";h==="exponential"&&(s=s===0?.001:s,u=u===0?.001:u);const g=u-s,m=u,M=s+i*g,v=c-a,P=w=>{let V;if(t>w){let k=r2(s,m,0,t);V=w*k+(s>m?s:0)}else V=(w-t)*r2(m,M,0,n)+m;return h==="exponential"&&(V=V||.001),V};e.setValueAtTime(s,a),t>v?e[d](P(v),c):t+n>v?(e[d](P(t),a+t),e[d](P(v),c)):(e[d](P(t),a+t),e[d](P(t+n),a+t+n),e.setValueAtTime(M,c)),e[d](s,c+r)};function Df(e,t,n,i,r,s){const u={threshold:t??-3,ratio:n??10,knee:i??10,attack:r??.005,release:s??.05};return new DynamicsCompressorNode(e,u)}const Jt=(e,t="linear",n)=>{const[u,a,c,h]=e;if(u==null&&a==null&&c==null&&h==null)return n??[.001,.001,1,.01];const d=c??(u!=null&&a==null||u==null&&a==null?1:.001);return[Math.max(u??0,.001),Math.max(a??0,.001),Math.min(d,1),Math.max(h??0,.01)]};function $i(e,t,n,i,r,s,u,a,c,h,d,g,m,M){const v="exponential",[P,w,V,k]=Jt([r,s,u,a],v,[.005,.14,0,.1]);let Z,_;if(m==="ladder"?(Z=Rt(e,"ladder-processor",{frequency:n,q:i,drive:M}),_=Z.parameters.get("frequency")):(Z=e.createBiquadFilter(),Z.type=t,Z.Q.value=i,Z.frequency.value=n,_=Z.frequency),(r??s??u??a??c)!==void 0){c=hn(c,1,!0),g=hn(g,0,!0);const x=Math.abs(c),I=x*g;let N=ai(2**-I*n,0,2e4),H=ai(2**(x-I)*n,0,2e4);return c<0&&([N,H]=[H,N]),Ut(_,P,w,V,k,N,H,h,d,v),Z}return Z}let s2=e=>e<.5?1:1-(e-.5)/.5;function Ff(e,t,n=0){const i=Ee();if(!n)return e;let r=i.createGain(),s=i.createGain();e.connect(r),t.connect(s),r.gain.value=s2(n),s.gain.value=s2(1-n);let u=i.createGain();return r.connect(u),s.connect(u),u}let Qb=["linear","exponential"];function oi(e,t,n,i){if(!(t.pattack??t.pdecay??t.psustain??t.prelease??t.penv))return;const s=hn(t.penv,1,!0),u=Qb[t.pcurve??0];let[a,c,h,d]=Jt([t.pattack,t.pdecay,t.psustain,t.prelease],u,[.2,.001,1,.001]),g=t.panchor??h;const m=s*100,M=0-m*g,v=m-m*g;Ut(e,a,c,h,d,M,v,n,i,u)}function ci(e,t,n){const{vibmod:i=.5,vib:r}=t;let s;if(r>0){s=Ee().createOscillator(),s.frequency.value=r;const u=Ee().createGain();return u.gain.value=i*100,s.connect(u),u.connect(e),s.start(n),s}}function Kr(e,t,n,i){const r=e.createConstantSource();return r.start(n),r.stop(i),r.onended=()=>{t()},r}const eM=(e,t=1,n="sine")=>{const i=Ee(),r=i.createOscillator();r.type=n,r.frequency.value=e,r.start();const s=new GainNode(i,{gain:t});return r.connect(s),{node:s,stop:u=>r.stop(u)}},tM=(e,t,n,i="sine")=>{const s=e.value*t,u=s*n;return eM(s,u,i)};function qi(e,t,n){const{fmh:i=1,fmi:r,fmenv:s="exp",fmattack:u,fmdecay:a,fmsustain:c,fmrelease:h,fmvelocity:d,fmwave:g="sine",duration:m}=t;let M,v=()=>{};if(r){const w=Ee().createGain(),V=tM(e,i,r,g);if(M=V.node,v=V.stop,![u,a,c,h,d].find(k=>k!==void 0))M.connect(e);else{const[k,Z,_,S]=Jt([u,a,c,h]),x=n+m;Ut(w.gain,k,Z,_,S,0,1,n,x,s==="exp"?"exponential":"linear"),M.connect(w),w.connect(e)}}return{stop:v}}let Lt=[],Sn=0;const Hr=4;let nM=e=>{let t=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(i){return n.lc=t.push(i),()=>{for(let s=Sn+Hr;s<Lt.length;)Lt[s]===i?Lt.splice(s,Hr):s+=Hr;let r=t.indexOf(i);~r&&(t.splice(r,1),--n.lc||n.off())}},notify(i,r){let s=!Lt.length;for(let u of t)Lt.push(u,n.value,i,r);if(s){for(Sn=0;Sn<Lt.length;Sn+=Hr)Lt[Sn](Lt[Sn+1],Lt[Sn+2],Lt[Sn+3]);Lt.length=0}},off(){},set(i){let r=n.value;r!==i&&(n.value=i,n.notify(r))},subscribe(i){let r=n.listen(i);return i(n.value),r},value:e};return n},iM=(e={})=>{let t=nM(e);return t.setKey=function(n,i){let r=t.value;typeof i>"u"&&n in t.value?(t.value={...t.value},delete t.value[n],t.notify(r,n)):t.value[n]!==i&&(t.value={...t.value,[n]:i},t.notify(r,n))},t};const Ef={},wf={},u2=e=>Ef[e];function rM(e,t){var n=1024;if(e<n)return e+" B";var i=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],r=-1;do e/=n,++r;while(e>=n);return e.toFixed(1)+" "+i[r]}function Sf(e,t){const{s:n,n:i=0,speed:r=1}=e;let s=Jb(e,36),u=s-36,a,c=0;if(Array.isArray(t))c=i2(i,t.length),a=t[c];else{const g=M=>qr(M)-s,m=Object.keys(t).filter(M=>!M.startsWith("_")).reduce((M,v,P)=>!M||Math.abs(g(v))<Math.abs(g(M))?v:M,null);u=-g(m),c=i2(i,t[m].length),a=t[m][c]}const h=`${n}:${c}`;let d=Math.abs(r)*Math.pow(2,u/12);return{transpose:u,sampleUrl:a,index:c,midi:s,label:h,playbackRate:d}}const Bf=async(e,t,n)=>{let{sampleUrl:i,label:r,playbackRate:s}=Sf(e,t);n&&(i=await n(i));const u=Ee(),a=await Ur(i,u,r);return e.unit==="c"&&(s=s*a.duration),{buffer:a,playbackRate:s}},_f=async(e,t,n)=>{let{buffer:i,playbackRate:r}=await Bf(e,t,n);e.speed<0&&(i=xf(i));const u=Ee().createBufferSource();u.buffer=i,u.playbackRate.value=r;const{s:a,loopBegin:c=0,loopEnd:h=1,begin:d=0,end:g=1}=e,m=d*u.buffer.duration;(a.startsWith("wt_")?1:e.loop)&&(u.loop=!0,u.loopStart=c*u.buffer.duration-m,u.loopEnd=h*u.buffer.duration-m);const v=u.buffer.duration/u.playbackRate.value,P=(g-d)*v;return{bufferSource:u,offset:m,bufferDuration:v,sliceDuration:P}},Ur=(e,t,n,i=0)=>{const r=n?`sound "${n}:${i}"`:"sample";if(e=e.replace("#","%23"),!wf[e]){Ft(`[sampler] load ${r}..`,"load-sample",{url:e});const s=Date.now();wf[e]=fetch(e).then(u=>u.arrayBuffer()).then(async u=>{const a=Date.now()-s,c=rM(u.byteLength);Ft(`[sampler] load ${r}... done! loaded ${c} in ${a}ms`,"loaded-sample",{url:e});const h=await t.decodeAudioData(u);return Ef[e]=h,h})}return wf[e]};function xf(e){const t=Ee(),n=t.createBuffer(e.numberOfChannels,e.length,t.sampleRate);for(let i=0;i<e.numberOfChannels;i++)n.copyToChannel(e.getChannelData(i).slice().reverse(),i,i);return n}const a2=e=>Ef[e];function o2(e){if(e.startsWith("bubo:")){const[t,n]=e.split(":");e=`github:Bubobubobubobubo/dough-${n}`}return e}function c2(e,t=""){if(!e.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let[n,i]=e.split("github:");return i=i.endsWith("/")?i.slice(0,-1):i,i.split("/").length===2&&(i+="/main"),`https://raw.githubusercontent.com/${i}/${t}`}const kf=(e,t,n=e._base||"")=>Object.entries(e).forEach(([i,r])=>{if(typeof r=="string"&&(r=[r]),typeof r!="object")throw new Error("wrong sample map format for "+i);n=r._base||n,n=o2(n),n.startsWith("github:")&&(n=c2(n,""));const s=u=>n+u;Array.isArray(r)?r=r.map(s):r=Object.fromEntries(Object.entries(r).map(([u,a])=>[u,(typeof a=="string"?[a]:a).map(s)])),t(i,r)});let l2={};function f2(e,t){l2[e]=t}function sM(e){const t=Object.entries(l2).find(([n])=>e.startsWith(n));if(t)return t[1]}const If=async(e,t=e._base||"",n={})=>{if(typeof e=="string"){const s=sM(e);if(s)return s(e);if(e=o2(e),e.startsWith("github:")&&(e=c2(e,"strudel.json")),e.startsWith("local:")&&(e="http://localhost:5432"),e.startsWith("shabda:")){let[a,c]=e.split("shabda:");e=`https://shabda.ndre.gr/${c}.json?strudel=1`}if(e.startsWith("shabda/speech")){let[a,c]=e.split("shabda/speech");c=c.startsWith("/")?c.substring(1):c;let[h,d]=c.split(":"),g="f",m="en-GB";h&&([m,g]=h.split("/")),e=`https://shabda.ndre.gr/speech/${d}.json?gender=${g}&language=${m}&strudel=1'`}if(typeof fetch!="function")return;const u=e.split("/").slice(0,-1).join("/");return typeof fetch>"u"?void 0:fetch(e).then(a=>a.json()).then(a=>If(a,t||a._base||u,n)).catch(a=>{throw console.error(a),new Error(`error loading "${e}"`)})}const{prebake:i,tag:r}=n;kf(e,(s,u)=>Bn(s,(a,c,h)=>Vf(a,c,h,u),{type:"sample",samples:u,baseUrl:t,prebake:i,tag:r}),t)},h2=[];async function Vf(e,t,n,i,r){let{s,nudge:u=0,cut:a,loop:c,clip:h=void 0,n:d=0,speed:g=1,duration:m}=t;if(g===0)return;const M=Ee();let[v,P,w,V]=Jt([t.attack,t.decay,t.sustain,t.release]);const{bufferSource:k,sliceDuration:Z,offset:_}=await _f(t,i,r);if(M.currentTime>e){Ft(`[sampler] still loading sound "${s}:${d}"`,"highlight");return}if(!k){Ft(`[sampler] could not load "${s}:${d}"`,"error");return}let S=ci(k.detune,t,e);const x=e+u;k.start(x,_);const I=M.createGain(),N=k.connect(I);h==null&&c==null&&t.release==null&&(m=Z);let H=e+m;Ut(N.gain,v,P,w,V,0,1,e,H,"linear"),oi(k.detune,t,e,H);const X=M.createGain();N.connect(X),k.onended=function(){k.disconnect(),S?.stop(),N.disconnect(),X.disconnect(),n()};let ee=H+V+.01;k.stop(ee);const O={node:X,bufferSource:k,stop:ne=>{k.stop(ne)}};if(a!==void 0){const ne=h2[a];ne&&(ne.node.gain.setValueAtTime(1,x),ne.node.gain.linearRampToValueAtTime(0,x+.01)),h2[a]=O}return O}const Jr=128,Nf="System Standard";let d2=Jr;function Tf(e){d2=parseInt(e)??Jr}const qn=iM();function Bn(e,t,n={}){e=e.toLowerCase().replace(/\s+/g,"_"),qn.setKey(e,{onTrigger:t,data:n})}let m2=e=>e;function _n(e){return m2(e)}function p2(e){m2=e}function Rf(e){for(const n in e)e[n.toLowerCase()]=e[n];const t=qn.get();for(const n in t){const[i,r]=n.split("_");if(!r)continue;const s=e[i];if(s){if(typeof s=="string")t[`${s}_${r}`.toLowerCase()]=t[n];else if(Array.isArray(s))for(const u of s)t[`${u}_${r}`.toLowerCase()]=t[n]}}qn.set({...t})}async function uM(e){const n=await(await fetch(e)).json();Rf(n)}async function g2(...e){switch(e.length){case 1:return typeof e[0]=="string"?uM(e[0]):Rf(e[0]);case 2:return Rf({[e[0]]:e[1]});default:throw new Error("aliasMap expects 1 or 2 arguments, received "+e.length)}}function Ki(e){return qn.get()[e.toLowerCase()]}const Lf=async()=>{await navigator.mediaDevices.getUserMedia({audio:!0});let e=await navigator.mediaDevices.enumerateDevices();e=e.filter(n=>n.kind==="audiooutput"&&n.deviceId!=="default");const t=new Map;return t.set(Nf,""),e.forEach(n=>{t.set(n.label,n.deviceId)}),t},y2={s:"triangle",gain:.8,postgain:1,density:".03",ftype:"12db",fanchor:0,resonance:1,hresonance:1,bandq:1,channels:[1,2],phaserdepth:.75,shapevol:1,distortvol:1,delay:0,delayfeedback:.5,delaytime:.25,orbit:1,i:1,velocity:1,fft:8};let Gf=new Map(Object.entries(y2));function Yr(e,t){Gf.set(e,t)}function He(e){return Gf.get(e)}function A2(e){Object.keys(e).forEach(t=>{Yr(t,e[t])})}function Xf(){Gf=new Map(Object.entries(y2))}function b2(e){Xf(),e==="1.0"&&Yr("fanchor",.5)}const M2=()=>qn.set({});let Qr;const Zf=()=>(Qr=new AudioContext,Qr),Ee=()=>Qr||Zf();function v2(){return Ee().currentTime}let Wf;function aM(){return Wf||(Wf=Ee().audioWorklet.addModule(Yb)),Wf}async function zf(e={}){const{disableWorklets:t=!1,maxPolyphony:n,audioDeviceName:i=Nf}=e;if(Tf(n),typeof window>"u")return;const r=Ee();if(i!=null&&i!=Nf)try{const u=(await Lf()).get(i),a=(u??"").length>0;r.sinkId!==u&&a&&await r.setSinkId(u),Ft(`[superdough] Audio Device set to ${i}, it might take a few seconds before audio plays on all output channels`)}catch{Ft("[superdough] failed to set audio interface","warning")}if(await r.resume(),t){Ft("[superdough]: AudioWorklets disabled with disableWorklets");return}try{await aM(),Ft("[superdough] AudioWorklets loaded")}catch(s){console.warn("could not load AudioWorklet effects",s)}Ft("[superdough] ready")}let Of;async function jf(e){return Of||(Of=new Promise(t=>{document.addEventListener("click",async function n(){document.removeEventListener("click",n),await zf(e),t()})})),Of}let xn={},es,li;function $f(){const e=Ee(),t=e.destination.maxChannelCount;e.destination.channelCount=t,es=new ChannelMergerNode(e,{numberOfInputs:e.destination.channelCount}),li=new GainNode(e),es.connect(li),li.connect(e.destination)}const Hi=(e,t=[0,1])=>{const n=Ee();es==null&&$f();const i=new StereoPannerNode(n);e.connect(i);const r=new ChannelSplitterNode(n,{numberOfOutputs:i.channelCount});i.connect(r),t.forEach((s,u)=>{r.connect(es,u%i.channelCount,ai(s,0,n.destination.channelCount-1))})},C2=()=>{li!=null&&(li.gain.linearRampToValueAtTime(0,Ee().currentTime+.01),li=null)};function oM(e,t,n,i){if(n=ai(n,0,.98),!xn[e]){const s=Ee().createFeedbackDelay(1,t,n);s.start?.(i),Hi(s,[0,1]),xn[e]=s}return xn[e].delayTime.value!==t&&xn[e].delayTime.setValueAtTime(t,i),xn[e].feedback.value!==n&&xn[e].feedback.setValueAtTime(n,i),xn[e]}function cM(e,t,n=1,i=.5,r=1e3,s=2e3){const u=Ee(),a=u.createGain();a.gain.value=s*2,Rt(u,"lfo-processor",{frequency:n,depth:1,skew:0,phaseoffset:0,time:e,end:t,shape:1,dcoffset:-.5}).connect(a);const h=2;let d=0;const g=[];for(let m=0;m<h;m++){const M=u.createBiquadFilter();M.type="notch",M.gain.value=1,M.frequency.value=r+d,M.Q.value=2-Math.min(Math.max(i*2,0),1.9),a.connect(M.detune),d+=282,m>0&&g[m-1].connect(M),g.push(M)}return g[g.length-1]}function lM(e){e=e??0;const t=["12db","ladder","24db"];return typeof e=="number"?t[Math.floor(n2(e,t.length))]:e}let Yt={},ts=(e,t)=>e!==void 0&&e!==t;function fM(e,t,n,i,r,s){if(!Yt[e]){const a=Ee().createReverb(t,n,i,r,s);Hi(a,[0,1]),Yt[e]=a}return(ts(t,Yt[e].duration)||ts(n,Yt[e].fade)||ts(i,Yt[e].lp)||ts(r,Yt[e].dim)||Yt[e].ir!==s)&&Yt[e].generate(t,n,i,r,s),Yt[e]}o.analysers={},o.analysersData={};function qf(e,t=1024,n=.5){if(!o.analysers[e]){const i=Ee().createAnalyser();i.fftSize=t,i.smoothingTimeConstant=n,o.analysers[e]=i,o.analysersData[e]=new Float32Array(o.analysers[e].frequencyBinCount)}return o.analysers[e].fftSize!==t&&(o.analysers[e].fftSize=t,o.analysersData[e]=new Float32Array(o.analysers[e].frequencyBinCount)),o.analysers[e]}function Ui(e="time",t=1){const n={time:()=>o.analysers[t]?.getFloatTimeDomainData(o.analysersData[t]),frequency:()=>o.analysers[t]?.getFloatFrequencyData(o.analysersData[t])}[e];if(!n)throw new Error(`getAnalyzerData: ${e} not supported. use one of ${Object.keys(n).join(", ")}`);return n(),o.analysersData[t]}function Kf(e,t,n){const i=Ht(n);return e.connect(i),i.connect(t),i}function P2(){xn={},Yt={},o.analysers={},o.analysersData={}}let Ji=new Map;const Yi=async(e,t,n)=>{const i=Ee();t=typeof t=="string"&&t.startsWith("=")?Number(t.slice(1)):i.currentTime+t;let{stretch:r}=e;if(r!=null&&(t=t-.04),typeof e!="object")throw new Error(`expected hap.value to be an object, but got "${e}". Hint: append .note() or .s() to the end`,"error");if(e.duration=n,t<i.currentTime){console.warn(`[superdough]: cannot schedule sounds in the past (target: ${t.toFixed(2)}, now: ${i.currentTime.toFixed(2)})`);return}let{s=He("s"),bank:u,source:a,gain:c=He("gain"),postgain:h=He("postgain"),density:d=He("density"),fanchor:g=He("fanchor"),drive:m=.69,cutoff:M,lpenv:v,lpattack:P,lpdecay:w,lpsustain:V,lprelease:k,resonance:Z=He("resonance"),hpenv:_,hcutoff:S,hpattack:x,hpdecay:I,hpsustain:N,hprelease:H,hresonance:X=He("hresonance"),bpenv:ee,bandf:z,bpattack:O,bpdecay:ne,bpsustain:be,bprelease:pe,bandq:he=He("bandq"),channels:te=He("channels"),phaserrate:Ve,phaserdepth:ce=He("phaserdepth"),phasersweep:ye,phasercenter:q,coarse:De,crush:at,shape:Ue,shapevol:Me=He("shapevol"),distort:Qe,distortvol:Se=He("distortvol"),pan:Je,vowel:kt,delay:dt=He("delay"),delayfeedback:Ne=He("delayfeedback"),delaytime:bn=He("delaytime"),orbit:Ze=He("orbit"),room:sn,roomfade:zt,roomlp:Ot,roomdim:Mn,roomsize:ni,ir:un,i:vn=He("i"),velocity:an=He("velocity"),analyze:Pt,fft:Gn=He("fft"),compressor:Ae,compressorRatio:ze,compressorKnee:ae,compressorAttack:je,compressorRelease:xe}=e;c=_n(hn(c,1)),h=_n(h),Me=_n(Me),Se=_n(Se),dt=_n(dt),an=_n(an),c*=an;const ii=Math.round(Math.random()*1e6);for(let le=0;le<=Ji.size-d2;le++){const mt=Ji.entries().next(),rt=mt.value[1],pt=mt.value[0],Si=t+.25;rt?.node?.gain?.linearRampToValueAtTime(0,Si),rt?.stop?.(Si),Ji.delete(pt)}te=(Array.isArray(te)?te:[te]).map(le=>le-1);let on=[];u&&s&&(s=`${u}_${s}`,e.s=s);let ot;if(a)ot=a(t,e,n);else if(Ki(s)){const{onTrigger:le}=Ki(s),rt=await le(t,e,()=>{on.forEach(pt=>pt?.disconnect()),Ji.delete(ii)});rt&&(ot=rt.node,Ji.set(ii,rt))}else throw new Error(`sound ${s} not found! Is it loaded?`);if(!ot)return;if(i.currentTime>t){Ft("[webaudio] skip hap: still loading",i.currentTime-t);return}const Te=[];Te.push(ot),r!==void 0&&Te.push(Rt(i,"phase-vocoder-processor",{pitchFactor:r})),Te.push(Ht(c));const Dt=lM(e.ftype);if(M!==void 0){let le=()=>$i(i,"lowpass",M,Z,P,w,V,k,v,t,t+n,g,Dt,m);Te.push(le()),Dt==="24db"&&Te.push(le())}if(S!==void 0){let le=()=>$i(i,"highpass",S,X,x,I,N,H,_,t,t+n,g);Te.push(le()),Dt==="24db"&&Te.push(le())}if(z!==void 0){let le=()=>$i(i,"bandpass",z,he,O,ne,be,pe,ee,t,t+n,g);Te.push(le()),Dt==="24db"&&Te.push(le())}if(kt!==void 0){const le=i.createVowelFilter(kt);Te.push(le)}if(De!==void 0&&Te.push(Rt(i,"coarse-processor",{coarse:De})),at!==void 0&&Te.push(Rt(i,"crush-processor",{crush:at})),Ue!==void 0&&Te.push(Rt(i,"shape-processor",{shape:Ue,postgain:Me})),Qe!==void 0&&Te.push(Rt(i,"distort-processor",{distort:Qe,postgain:Se})),Ae!==void 0&&Te.push(Df(i,Ae,ze,ae,je,xe)),Je!==void 0){const le=i.createStereoPanner();le.pan.value=2*Je-1,Te.push(le)}if(Ve!==void 0&&ce>0){const le=cM(t,t+n,Ve,ce,q,ye);Te.push(le)}const ke=new GainNode(i,{gain:h});Te.push(ke),Hi(ke,te);let ri;if(dt>0&&bn>0&&Ne>0){const le=oM(Ze,bn,Ne,t);ri=Kf(ke,le,dt),on.push(ri)}let wi;if(sn>0){let le;if(un!==void 0){let rt,pt=Ki(un);Array.isArray(pt)?rt=pt.data.samples[vn%pt.data.samples.length]:typeof pt=="object"&&(rt=Object.values(pt.data.samples).flat()[vn%Object.values(pt.data.samples).length]),le=await Ur(rt,i,un,0)}const mt=fM(Ze,ni,zt,Ot,Mn,le);wi=Kf(ke,mt,sn),on.push(wi)}let Le;if(Pt){const le=qf(Pt,2**(Gn+5));Le=Kf(ke,le,1),on.push(Le)}Te.slice(1).reduce((le,mt)=>le.connect(mt),Te[0]),on=on.concat(Te)},D2=(e,t,n,i)=>{Yi(t,e-n,t.duration/i)};let Hf={};function hM(e,t){const n=Ee();if(Hf[e])return Hf[e];const i=2*n.sampleRate,r=n.createBuffer(1,i,n.sampleRate),s=r.getChannelData(0);let u=0,a,c,h,d,g,m,M;a=c=h=d=g=m=M=0;for(let v=0;v<i;v++)if(e==="white")s[v]=Math.random()*2-1;else if(e==="brown"){let P=Math.random()*2-1;s[v]=(u+.02*P)/1.02,u=s[v]}else if(e==="pink"){let P=Math.random()*2-1;a=.99886*a+P*.0555179,c=.99332*c+P*.0750759,h=.969*h+P*.153852,d=.8665*d+P*.3104856,g=.55*g+P*.5329522,m=-.7616*m-P*.016898,s[v]=a+c+h+d+g+m+M+P*.5362,s[v]*=.11,M=P*.115926}else if(e==="crackle"){const P=t*.01;Math.random()<P?s[v]=Math.random()*2-1:s[v]=0}return e!=="crackle"&&(Hf[e]=r),r}function F2(e="white",t,n=.02){const r=Ee().createBufferSource();return r.buffer=hM(e,n),r.loop=!0,r.start(t),{node:r,stop:s=>r.stop(s)}}function dM(e,t,n){const i=F2("pink",n);return{node:Ff(e,i.node,t),stop:s=>i?.stop(s)}}const Uf=e=>{let{note:t,freq:n}=e;return t=t||36,typeof t=="string"&&(t=qr(t)),!n&&typeof t=="number"&&(n=t2(t)),Number(n)};function E2(e){e.disconnect(),e.parameters.get("end")?.setValueAtTime(0,0)}const mM=["triangle","square","sawtooth","sine"],pM=["pink","white","brown","crackle"];function Jf(){[...mM].forEach(e=>{Bn(e,(t,n,i)=>{const[r,s,u,a]=Jt([n.attack,n.decay,n.sustain,n.release],"linear",[.001,.05,.6,.01]);let c=Qf(e,t,n),{node:h,stop:d,triggerRelease:g}=c;const m=Ht(.3),{duration:M}=n;h.onended=()=>{h.disconnect(),m.disconnect(),i()};const v=Ht(1);let P=h.connect(m).connect(v);const w=t+M;Ut(P.gain,r,s,u,a,0,1,t,w,"linear");const V=w+a+.01;return g?.(V),d(V),{node:P,stop:k=>{d(k)}}},{type:"synth",prebake:!0})}),Bn("supersaw",(e,t,n)=>{const i=Ee();let{duration:r,n:s,unison:u=5,spread:a=.6,detune:c}=t;c=c??s??.18;const h=Uf(t),[d,g,m,M]=Jt([t.attack,t.decay,t.sustain,t.release],"linear",[.001,.05,.6,.01]),v=e+r,P=v+M+.01,w=ai(u,1,100);let V=w>1?ai(a,0,1):0,k=Rt(i,"supersaw-oscillator",{frequency:h,begin:e,end:P,freqspread:c,voices:w,panspread:V},{outputChannelCount:[2]});const Z=1/Math.sqrt(w);oi(k.parameters.get("detune"),t,e,v);const _=ci(k.parameters.get("detune"),t,e),S=qi(k.parameters.get("frequency"),t,e);let x=Ht(1);x=k.connect(x),Ut(x.gain,d,g,m,M,0,.3*Z,e,v,"linear");let I=Kr(i,()=>{E2(k),x.disconnect(),n(),S?.stop(),_?.stop()},e,P);return{node:x,stop:N=>{I.stop(N)}}},{prebake:!0,type:"synth"}),Bn("pulse",(e,t,n)=>{const i=Ee();let{duration:r,n:s=.5}=t;const u=Uf(t),[a,c,h,d]=Jt([t.attack,t.decay,t.sustain,t.release],"linear",[.001,.05,.6,.01]),g=e+r,m=g+d+.01;let M=Rt(i,"pulse-oscillator",{frequency:u,begin:e,end:m,pulsewidth:s},{outputChannelCount:[2]});oi(M.parameters.get("detune"),t,e,g);const v=ci(M.parameters.get("detune"),t,e),P=qi(M.parameters.get("frequency"),t,e);let w=Ht(1);w=M.connect(w),Ut(w.gain,a,c,h,d,0,1,e,g,"linear");let V=Kr(i,()=>{E2(M),w.disconnect(),n(),P?.stop(),v?.stop()},e,m);return{node:w,stop:k=>{V.stop(k)}}},{prebake:!0,type:"synth"}),[...pM].forEach(e=>{Bn(e,(t,n,i)=>{const[r,s,u,a]=Jt([n.attack,n.decay,n.sustain,n.release],"linear",[.001,.05,.6,.01]);let c,{density:h}=n;c=F2(e,t,h);let{node:d,stop:g,triggerRelease:m}=c;const M=Ht(.3),{duration:v}=n;d.onended=()=>{d.disconnect(),M.disconnect(),i()};const P=Ht(1);let w=d.connect(M).connect(P);const V=t+v;Ut(w.gain,r,s,u,a,0,1,t,V,"linear");const k=V+a+.01;return m?.(k),g(k),{node:w,stop:Z=>{g(Z)}}},{type:"synth",prebake:!0})})}function Yf(e,t){const n=new Float32Array(e+1),i=new Float32Array(e+1),r=Ee(),s=r.createOscillator(),u={sawtooth:h=>[0,-1/h],square:h=>[0,h%2===0?0:1/h],triangle:h=>[h%2===0?0:1/(h*h),0]};if(!u[t])throw new Error(`unknown wave type ${t}`);n[0]=0,i[0]=0;let a=1;for(;a<=e;){const[h,d]=u[t](a);n[a]=h,i[a]=d,a++}const c=r.createPeriodicWave(n,i);return s.setPeriodicWave(c),s}function Qf(e,t,n){let{n:i,duration:r,noise:s=0}=n,u;!i||e==="sine"?(u=Ee().createOscillator(),u.type=e||"triangle"):u=Yf(i,e),u.frequency.value=Uf(n),u.start(t);let a=ci(u.detune,n,t);oi(u.detune,n,t,t+r);const c=qi(u.frequency,n,t);let h;return s&&(h=dM(u,s,t)),{node:h?.node||u,stop:d=>{c.stop(d),a?.stop(d),h?.stop(d),u.stop(d)},triggerRelease:d=>{}}}function gM(e=1,t=.05,n=220,i=0,r=0,s=.1,u=0,a=1,c=0,h=0,d=0,g=0,m=0,M=0,v=0,P=0,w=0,V=1,k=0,Z=0){let _=Math.PI*2,S=Ee().sampleRate,x=Ve=>Ve>0?1:-1,I=c*=500*_/S/S,N=n*=(1+t*2*Math.random()-t)*_/S,H=[],X=0,ee=0,z=0,O=1,ne=0,be=0,pe=0,he,te;for(i=i*S+9,k*=S,r*=S,s*=S,w*=S,h*=500*_/S**3,v*=_/S,d*=_/S,g*=S,m=m*S|0,te=i+k+r+s+w|0;z<te;H[z++]=pe)++be%(P*100|0)||(pe=u?u>1?u>2?u>3?Math.sin((X%_)**3):Math.max(Math.min(Math.tan(X),1),-1):1-(2*X/_%2+2)%2:1-4*Math.abs(Math.round(X/_)-X/_):Math.sin(X),pe=(m?1-Z+Z*Math.sin(_*z/m):1)*x(pe)*Math.abs(pe)**a*e*1*(z<i?z/i:z<i+k?1-(z-i)/k*(1-V):z<i+k+r?V:z<te-w?(te-z-w)/s*V:0),pe=w?pe/2+(w>z?0:(z<te-w?1:(te-z)/w)*H[z-w|0]/2):pe),he=(n+=c+=h)*Math.cos(v*ee++),X+=he-he*M*(1-(Math.sin(z)+1)*1e9%2),O&&++O>g&&(n+=d,N+=d,O=0),m&&!(++ne%m)&&(n=N,c=I,O||=1);return H}const eh=(e,t)=>{let{s:n,note:i=36,freq:r,zrand:s=0,attack:u=0,decay:a=0,sustain:c=.8,release:h=.1,curve:d=1,slide:g=0,deltaSlide:m=0,pitchJump:M=0,pitchJumpTime:v=0,lfo:P=0,znoise:w=0,zmod:V=0,zcrush:k=0,zdelay:Z=0,tremolo:_=0,duration:S=.2,zzfx:x}=e;const I=Math.max(S-u-a,0);typeof i=="string"&&(i=qr(i)),!r&&typeof i=="number"&&(r=t2(i)),n=n.replace("z_","");const N=["sine","triangle","sawtooth","tan","noise"].indexOf(n)||0;d=n==="square"?0:d;const X=gM(...x||[.25,s,r,u,I,h,N,d,g,m,M,v,P,w,V,k,Z,c,a,_]),ee=Ee(),z=ee.createBuffer(1,X.length,ee.sampleRate);z.getChannelData(0).set(X);const O=Ee().createBufferSource();return O.buffer=z,O.start(t),{node:O}};function w2(){["zzfx","z_sine","z_sawtooth","z_triangle","z_square","z_tan","z_noise"].forEach(e=>{Bn(e,(t,n,i)=>{const{node:r}=eh({s:e,...n},t);return r.onended=()=>{r.disconnect(),i()},{node:r,stop:()=>{}}},{type:"synth",prebake:!0})})}let fi;async function th(e,t){const n=`dsp-worklet-${Date.now()}`,i=`${t}
let __q = []; // trigger queue
class MyProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.t = 0;
    this.stopped = false;
    this.port.onmessage = (e) => {
      if(e.data==='stop') {
        this.stopped = true;
      } else if(e.data?.dough) {
        __q.push(e.data)
      } else {
        msg?.(e.data)
      }
    };
  }
  process(inputs, outputs, parameters) {
    const output = outputs[0];
    if(__q.length) {
      for(let i=0;i<__q.length;++i) {
        const deadline = __q[i].time-currentTime;
        if(deadline<=0) {
          trigger(__q[i].dough)
          __q.splice(i,1)
        }
      }
    }
    for (let i = 0; i < output[0].length; i++) {
      const out = dsp(this.t / sampleRate);
      output.forEach((channel) => {
        channel[i] = out;
      });
      this.t++;
    }
  return !this.stopped;
  }
}
registerProcessor('${n}', MyProcessor);
`,s=`data:text/javascript;base64,${btoa(i)}`;await e.audioWorklet.addModule(s);const u=new AudioWorkletNode(e,n);return{node:u,stop:()=>u.port.postMessage("stop")}}const S2=()=>{fi&&(fi?.stop(),fi?.node?.disconnect())};typeof window<"u"&&window.addEventListener("message",e=>{e.data==="strudel-stop"?S2():e.data?.dough&&fi?.node.port.postMessage(e.data)});const B2=async e=>{const t=Ee();S2(),fi=await th(t,e),fi.node.connect(t.destination)};function nh(e,t,n,i,r){window.postMessage({time:r,dough:t.value,currentTime:n,duration:t.duration,cps:i})}const{Pattern:_2,logger:yM,repl:AM}=Yg;Pf(yM);const x2=e=>(e.ensureObjectValue(),e.value),ih=(e,t,n,i)=>Yi(x2(t),e-n,t.duration/i),rh=(e,t,n,i,r)=>Yi(x2(e),r?`=${r}`:t,n);_2.prototype.webaudio=function(){return this.onTrigger(ih)};function sh(e={}){return e={getTime:()=>Ee().currentTime,defaultOutput:rh,...e},AM(e)}_2.prototype.dough=function(){return this.onTrigger(nh,1)};const Kn=(e="test-canvas",t)=>{let{contextType:n="2d",pixelated:i=!1,pixelRatio:r=window.devicePixelRatio}={},s=document.querySelector("#"+e);if(!s){s=document.createElement("canvas"),s.id=e,s.width=window.innerWidth*r,s.height=window.innerHeight*r,s.style="pointer-events:none;width:100%;height:100%;position:fixed;top:0;left:0",i&&(s.style.imageRendering="pixelated"),document.body.prepend(s);let u;window.addEventListener("resize",()=>{u&&clearTimeout(u),u=setTimeout(()=>{s.width=window.innerWidth*r,s.height=window.innerHeight*r},200)})}return s.getContext(n,{willReadFrequently:!0})};let Qi={};function bM(e){Qi[e]!==void 0&&(cancelAnimationFrame(Qi[e]),delete Qi[e])}let dn={};j.prototype.draw=function(e,t){if(typeof window>"u")return this;let{id:n=1,lookbehind:i=0,lookahead:r=0}=t,s=Math.max($r(),0);bM(n),i=Math.abs(i),dn[n]=(dn[n]||[]).filter(h=>!h.isInFuture(s));let u=this.queryArc(s,s+r).filter(h=>h.hasOnset());dn[n]=dn[n].concat(u);let a;const c=()=>{const h=$r(),d=h+r;dn[n]=dn[n].filter(M=>M.isInNearPast(i,h));let g=Math.max(a||d,d-1/10);const m=this.queryArc(g,d).filter(M=>M.hasOnset());dn[n]=dn[n].concat(m),a=d,e(dn[n],h,d,this),Qi[n]=requestAnimationFrame(c)};return Qi[n]=requestAnimationFrame(c),this},j.prototype.onPaint=function(e){return this.withState(t=>{t.controls.painters||(t.controls.painters=[]),t.controls.painters.push(e)})},j.prototype.getPainters=function(){let e=[];return this.queryArc(0,0,{painters:e}),e};let MM={background:"#222",foreground:"#75baff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"};function mn(){return MM}let k2="#22222210";j.prototype.animate=function({callback:e,sync:t=!1,smear:n=.5}={}){window.frame&&cancelAnimationFrame(window.frame);const i=Kn();let{clientWidth:r,clientHeight:s}=i.canvas;r*=window.devicePixelRatio,s*=window.devicePixelRatio;let u=n===0?"99":Number((1-n)*100).toFixed(0);u=u.length===1?`0${u}`:u,k2=`#200010${u}`;const a=c=>{let h;c=Math.round(c),h=this.slow(1e3).queryArc(c,c),i.fillStyle=k2,i.fillRect(0,0,r,s),h.forEach(d=>{let{x:g,y:m,w:M,h:v,s:P,r:w,angle:V=0,fill:k="darkseagreen"}=d.value;if(M*=r,v*=s,w!==void 0&&V!==void 0){const _=V*2*Math.PI,[S,x]=[(r-M)/2,(s-v)/2];g=S+Math.cos(_)*w*S,m=x+Math.sin(_)*w*x}else g*=r-M,m*=s-v;const Z={...d.value,x:g,y:m,w:M,h:v};i.fillStyle=k,P==="rect"?i.fillRect(g,m,M,v):P==="ellipse"&&(i.beginPath(),i.ellipse(g+M/2,m+v/2,M/2,v/2,0,0,2*Math.PI),i.fill()),e&&e(i,Z,d)}),window.frame=requestAnimationFrame(a)};return window.frame=requestAnimationFrame(a),_e};const{x:I2,y:J9,w:Y9,h:Q9,angle:eF,r:tF,fill:nF,smear:iF}=Nr("x","y","w","h","angle","r","fill","smear");R("rescale",function(e,t){return t.mul(I2(e).w(e).y(e).h(e))}),R("moveXY",function(e,t,n){return n.add(I2(e).y(t))}),R("zoomIn",function(e,t){const n=Ke(1).sub(e).div(2);return t.rescale(e).move(n,n)});const er=(e,t,n)=>e*(n-t)+t,V2=e=>{let{value:t}=e;typeof e.value!="object"&&(t={value:t});let{note:n,n:i,freq:r,s}=t;if(r)return vr(r);if(n=n??i,typeof n=="string")try{return ln(n)}catch{return 0}return typeof n=="number"?n:s?"_"+s:t};j.prototype.pianoroll=function(e={}){let{cycles:t=4,playhead:n=.5,overscan:i=0,hideNegative:r=!1,ctx:s=Kn(),id:u=1}=e,a=-t*n,c=t*(1-n);const h=(d,g)=>(!r||d.whole.begin>=0)&&d.isWithinTime(g+a,g+c);return this.draw((d,g)=>{N2({...e,time:g,ctx:s,haps:d.filter(m=>h(m,g))})},{lookbehind:a-i,lookahead:c+i,id:u}),this};function N2({time:e,haps:t,cycles:n=4,playhead:i=.5,flipTime:r=0,flipValues:s=0,hideNegative:u=!1,inactive:a=mn().foreground,active:c=mn().foreground,background:h="transparent",smear:d=0,playheadColor:g=mn().foreground,minMidi:m=10,maxMidi:M=90,autorange:v=0,timeframe:P,fold:w=1,vertical:V=0,labels:k=!1,fill:Z=1,fillActive:_=!1,strokeActive:S=!0,stroke:x,hideInactive:I=0,colorizeInactive:N=1,fontFamily:H,ctx:X,id:ee}={}){const z=X.canvas.width,O=X.canvas.height;let ne=-n*i,be=n*(1-i);ee&&(t=t.filter(Se=>Se.hasTag(ee))),P&&(console.warn("timeframe is deprecated! use from/to instead"),ne=0,be=P);const pe=V?O:z,he=V?z:O;let te=V?[pe,0]:[0,pe];const Ve=be-ne,ce=V?[0,he]:[he,0];let ye=M-m+1,q=he/ye,De=[];r&&te.reverse(),s&&ce.reverse();const{min:at,max:Ue,values:Me}=t.reduce(({min:Se,max:Je,values:kt},dt)=>{const Ne=V2(dt);return{min:Ne<Se?Ne:Se,max:Ne>Je?Ne:Je,values:kt.includes(Ne)?kt:[...kt,Ne]}},{min:1/0,max:-1/0,values:[]});v&&(m=at,M=Ue,ye=M-m+1),De=Me.sort((Se,Je)=>typeof Se=="number"&&typeof Je=="number"?Se-Je:typeof Se=="number"?1:String(Se).localeCompare(String(Je))),q=w?he/De.length:he/ye,X.fillStyle=h,X.globalAlpha=1,d||(X.clearRect(0,0,z,O),X.fillRect(0,0,z,O)),t.forEach(Se=>{const Je=Se.whole.begin<=e&&Se.endClipped>e;let kt=x??(S&&Je),dt=!Je&&Z||Je&&_;if(I&&!Je)return;let Ne=Se.value?.color;c=Ne||c,a=N&&Ne||a,Ne=Je?c:a,X.fillStyle=dt?Ne:"transparent",X.strokeStyle=Ne;const{velocity:bn=1,gain:Ze=1}=Se.value||{};X.globalAlpha=bn*Ze;const sn=(Se.whole.begin-(r?be:ne))/Ve,zt=er(sn,...te);let Ot=er(Se.duration/Ve,0,pe);const Mn=V2(Se),ni=w?De.indexOf(Mn)/De.length:(Number(Mn)-m)/ye,un=er(ni,...ce);let vn=0;const an=er(e/Ve,...te);let Pt;if(V?Pt=[un+1-(s?q:0),pe-an+zt+vn+1-(r?0:Ot),q-2,Ot-2]:Pt=[zt-an+vn+1-(r?Ot:0),un+1-(s?0:q),Ot-2,q-2],kt&&X.strokeRect(...Pt),dt&&X.fillRect(...Pt),k){const Gn=Se.value.note??Se.value.s+(Se.value.n?`:${Se.value.n}`:""),{label:Ae,activeLabel:ze}=Se.value,je=(Je&&ze||Ae)??Gn;let xe=V?Ot:q*.75;X.font=`${xe}px ${H||"monospace"}`,X.fillStyle=dt?"black":Ne,X.textBaseline="top",X.fillText(je,...Pt)}}),X.globalAlpha=1;const Qe=er(-ne/Ve,...te);return X.strokeStyle=g,X.beginPath(),V?(X.moveTo(0,Qe),X.lineTo(he,Qe)):(X.moveTo(Qe,0),X.lineTo(Qe,he)),X.stroke(),this}function vM(e,t={}){let[n,i]=e;n=Math.abs(n);const r=i+n,s=r!==0?n/r:0;return{fold:1,...t,cycles:r,playhead:s}}const CM=(e={})=>(t,n,i,r)=>N2({ctx:t,time:n,haps:i,...vM(r,e)});j.prototype.punchcard=function(e){return this.onPaint(CM(e))},j.prototype.wordfall=function(e){return this.punchcard({vertical:1,labels:1,stroke:0,fillActive:1,active:"white",...e})};function PM(e,t,n,i){const r=(e-90)*Math.PI/180;return[n+Math.cos(r)*t,i+Math.sin(r)*t]}const T2=(e,t,n,i,r=0)=>PM((e+r)*360,t*e,n,i);function R2(e){let{ctx:t,from:n=0,to:i=3,margin:r=50,cx:s=100,cy:u=100,rotate:a=0,thickness:c=r/2,color:h=mn().foreground,cap:d="round",stretch:g=1,fromOpacity:m=1,toOpacity:M=1}=e;n*=g,i*=g,a*=g,t.lineWidth=c,t.lineCap=d,t.strokeStyle=h,t.globalAlpha=m,t.beginPath();let[v,P]=T2(n,r,s,u,a);t.moveTo(v,P);const w=1/60;let V=n;for(;V<=i;){const[k,Z]=T2(V,r,s,u,a);t.globalAlpha=(V-n)/(i-n)*M,t.lineTo(k,Z),V+=w}t.stroke()}function DM(e){let{stretch:t=1,size:n=80,thickness:i=n/2,cap:r="butt",inset:s=3,playheadColor:u="#ffffff",playheadLength:a=.02,playheadThickness:c=i,padding:h=0,steady:d=1,activeColor:g=mn().foreground,inactiveColor:m=mn().gutterForeground,colorizeInactive:M=0,fade:v=!0,ctx:P,time:w,haps:V,drawTime:k,id:Z}=e;Z&&(V=V.filter(z=>z.hasTag(Z)));const[_,S]=[P.canvas.width,P.canvas.height];P.clearRect(0,0,_*2,S*2);const[x,I]=[_/2,S/2],N={margin:n/t,cx:x,cy:I,stretch:t,cap:r,thickness:i},H={...N,thickness:c,from:s-a,to:s,color:u},[X]=k,ee=d*w;V.forEach(z=>{const O=z.whole.begin<=w&&z.endClipped>w,ne=z.whole.begin-w+s,be=z.endClipped-w+s-h,pe=z.value?.color||g,he=M||O?pe:m,te=v?1-Math.abs((z.whole.begin-w)/X):1;R2({ctx:P,...N,from:ne,to:be,rotate:ee,color:he,fromOpacity:te,toOpacity:te})}),R2({ctx:P,...H,rotate:ee})}j.prototype.spiral=function(e={}){return this.onPaint((t,n,i,r)=>DM({ctx:t,time:n,haps:i,drawTime:r,...e}))};const FM=wn(36),L2=(e,t,n,i)=>{i=i*Math.PI*2;const r=Math.sin(i)*n+e,s=Math.cos(i)*n+t;return[r,s]},G2=(e,t)=>.5-Math.log2(e/t)%1;function EM({haps:e,ctx:t,id:n,hapcircles:i=1,circle:r=0,edo:s=12,root:u=FM,thickness:a=3,hapRadius:c=6,mode:h="flake",margin:d=10}={}){const g=h==="polygon",m=h==="flake",M=t.canvas.width,v=t.canvas.height;t.clearRect(0,0,M,v);const P=mn().foreground,V=Math.min(M,v)/2-a/2-c-d,k=M/2,Z=v/2;n&&(e=e.filter(S=>S.hasTag(n))),t.strokeStyle=P,t.fillStyle=P,t.globalAlpha=1,t.lineWidth=a,r&&(t.beginPath(),t.arc(k,Z,V,0,2*Math.PI),t.stroke()),s&&(Array.from({length:s},(S,x)=>{const I=G2(u*Math.pow(2,x/s),u),[N,H]=L2(k,Z,V,I);t.beginPath(),t.arc(N,H,c,0,2*Math.PI),t.fill()}),t.stroke());let _=[];t.lineWidth=c,e.forEach(S=>{let x;try{x=Qs(S)}catch{return}const I=G2(x,u),[N,H]=L2(k,Z,V,I),X=S.value.color||P;t.strokeStyle=X,t.fillStyle=X;const{velocity:ee=1,gain:z=1}=S.value||{},O=ee*z;t.globalAlpha=O,_.push([N,H,I,X,O]),t.beginPath(),i&&(t.moveTo(N+c,H),t.arc(N,H,c,0,2*Math.PI),t.fill()),m&&(t.moveTo(k,Z),t.lineTo(N,H)),t.stroke()}),t.strokeStyle=P,t.globalAlpha=1,g&&_.length&&(_=_.sort((S,x)=>S[2]-x[2]),t.beginPath(),t.moveTo(_[0][0],_[0][1]),_.forEach(([S,x,I,N,H])=>{t.strokeStyle=N,t.globalAlpha=H,t.lineTo(S,x)}),t.lineTo(_[0][0],_[0][1]),t.stroke())}j.prototype.pitchwheel=function(e={}){let{ctx:t=Kn(),id:n=1}=e;return this.tag(n).onPaint((i,r,s)=>EM({...e,time:r,ctx:t,haps:s.filter(u=>u.isActive(r)),id:n}))};function uh(e,{align:t=!0,color:n="white",thickness:i=3,scale:r=.25,pos:s=.75,trigger:u=0,ctx:a=Kn(),id:c=1}={}){a.lineWidth=i,a.strokeStyle=n;let h=a.canvas;if(!e){a.beginPath();let P=s*h.height;a.moveTo(0,P),a.lineTo(h.width,P),a.stroke();return}const d=Ui("time",c);a.beginPath();const g=e.frequencyBinCount;let m=t?Array.from(d).findIndex((P,w,V)=>w&&V[w-1]>-u&&P<=-u):0;m=Math.max(m,0);const M=h.width*1/g;let v=0;for(let P=m;P<g;P++){const w=d[P]+1,V=(s-r*(w-1))*h.height;P===0?a.moveTo(v,V):a.lineTo(v,V),v+=M}a.stroke()}function ah(e,{color:t="white",scale:n=.25,pos:i=.75,lean:r=.5,min:s=-150,max:u=0,ctx:a=Kn(),id:c=1}={}){if(!e){a.beginPath();let v=i*d.height;a.moveTo(0,v),a.lineTo(d.width,v),a.stroke();return}const h=Ui("frequency",c),d=a.canvas;a.fillStyle=t;const g=e.frequencyBinCount,m=d.width*1/g;let M=0;for(let v=0;v<g;v++){const w=Ri((h[v]-s)/(u-s),0,1)*n,V=w*d.height,k=(i-w*r)*d.height;a.fillRect(M,k,Math.max(m,1),V),M+=m}}function X2(e=0,t="0,0,0",n=Kn()){e?(n.fillStyle=`rgba(${t},${1-e})`,n.fillRect(0,0,n.canvas.width,n.canvas.height)):n.clearRect(0,0,n.canvas.width,n.canvas.height)}j.prototype.fscope=function(e={}){let t=e.id??1;return this.analyze(t).draw(()=>{X2(e.smear,"0,0,0",e.ctx),o.analysers[t]&&ah(o.analysers[t],e)},{id:t})},j.prototype.tscope=function(e={}){let t=e.id??1;return this.analyze(t).draw(n=>{e.color=n[0]?.value?.color||mn().foreground,e.color,X2(e.smear,"0,0,0",e.ctx),uh(o.analysers[t],e)},{id:t})},j.prototype.scope=j.prototype.tscope;let Z2={};j.prototype.spectrum=function(e={}){let t=e.id??1;return this.analyze(t).draw(n=>{e.color=n[0]?.value?.color||Z2[t]||mn().foreground,Z2[t]=e.color,wM(o.analysers[t],e)},{id:t})},j.prototype.scope=j.prototype.tscope;const oh=new Map;function wM(e,{thickness:t=3,speed:n=1,min:i=-80,max:r=0,ctx:s=Kn(),id:u=1,color:a}={}){if(s.lineWidth=t,s.strokeStyle=a,!e)return;const c=n,h=Ui("frequency",u),d=s.canvas;s.fillStyle=a;const g=e.frequencyBinCount;let m=oh.get(u)||s.getImageData(0,0,d.width,d.height);oh.set(u,m),s.clearRect(0,0,s.canvas.width,s.canvas.height),s.putImageData(m,-c,0);let M=d.width-n;for(let v=0;v<g;v++){const P=Ri((h[v]-i)/(r-i),0,1);s.globalAlpha=P;const w=Math.log(v+1)/Math.log(g)*d.height;s.fillRect(M,d.height-w,c,2)}oh.set(u,s.getImageData(0,0,d.width,d.height))}const SM=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_MAX_POLYPHONY:Jr,aliasBank:g2,get analysers(){return o.analysers},get analysersData(){return o.analysersData},applyFM:qi,applyGainCurve:_n,connectToDestination:Hi,createFilter:$i,dough:B2,doughTrigger:nh,drawFrequencyScope:ah,drawTimeScope:uh,drywet:Ff,dspWorklet:th,gainNode:Ht,getADSRValues:Jt,getAnalyserById:qf,getAnalyzerData:Ui,getAudioContext:Ee,getAudioContextCurrentTime:v2,getAudioDevices:Lf,getCachedBuffer:u2,getCompressor:Df,getDefaultValue:He,getLoadedBuffer:a2,getOscillator:Qf,getParamADSR:Ut,getPitchEnvelope:oi,getSampleBuffer:Bf,getSampleBufferSource:_f,getSampleInfo:Sf,getSound:Ki,getVibratoOscillator:ci,getWorklet:Rt,getZZFX:eh,initAudio:zf,initAudioOnFirstClick:jf,initializeAudioOutput:$f,loadBuffer:Ur,logger:Ft,onTriggerSample:Vf,panic:C2,processSampleMap:kf,registerSamplesPrefix:f2,registerSound:Bn,registerSynthSounds:Jf,registerZZFXSounds:w2,resetDefaultValues:Xf,resetGlobalEffects:P2,resetLoadedSounds:M2,reverseBuffer:xf,samples:If,setDefaultAudioContext:Zf,setDefaultValue:Yr,setDefaultValues:A2,setGainCurve:p2,setLogger:Pf,setMaxPolyphony:Tf,setVersionDefaults:b2,soundMap:qn,superdough:Yi,superdoughTrigger:D2,waveformN:Yf,webAudioTimeout:Kr,webaudioOutput:rh,webaudioOutputTrigger:ih,webaudioRepl:sh},Symbol.toStringTag,{value:"Module"}));function BM(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function kn(e,t,n,i){var r=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(r,kn.prototype),r.expected=t,r.found=n,r.location=i,r.name="SyntaxError",r}BM(kn,Error);function ch(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,n+=n.repeat(t),e+n.slice(0,t))}kn.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n=null,i;for(i=0;i<e.length;i++)if(e[i].source===this.location.source){n=e[i].text.split(/\r\n|\n|\r/g);break}var r=this.location.start,s=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(r):r,u=this.location.source+":"+s.line+":"+s.column;if(n){var a=this.location.end,c=ch("",s.line.toString().length," "),h=n[r.line-1],d=r.line===a.line?a.column:h.length+1,g=d-r.column||1;t+=`
 --> `+u+`
`+c+` |
`+s.line+" | "+h+`
`+c+" | "+ch("",r.column-1," ")+ch("",g,"^")}else t+=`
 at `+u}return t},kn.buildMessage=function(e,t){var n={literal:function(h){return'"'+r(h.text)+'"'},class:function(h){var d=h.parts.map(function(g){return Array.isArray(g)?s(g[0])+"-"+s(g[1]):s(g)});return"["+(h.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(h){return h.description}};function i(h){return h.charCodeAt(0).toString(16).toUpperCase()}function r(h){return h.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+i(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+i(d)})}function s(h){return h.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+i(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+i(d)})}function u(h){return n[h.type](h)}function a(h){var d=h.map(u),g,m;if(d.sort(),d.length>0){for(g=1,m=1;g<d.length;g++)d[g-1]!==d[g]&&(d[m]=d[g],m++);d.length=m}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function c(h){return h?'"'+r(h)+'"':"end of input"}return"Expected "+a(e)+" but "+c(t)+" found."};function lh(e,t){t=t!==void 0?t:{};var n={},i=t.grammarSource,r={start:rb},s=rb,u=".",a="-",c="0",h=",",d="|",g="[",m="]",M="{",v="}",P="%",w="<",V=">",k="!",Z="(",_=")",S="/",x="*",I="?",N=":",H="..",X="^",ee="struct",z="target",O="euclid",ne="slow",be="rotL",pe="rotR",he="fast",te="scale",Ve="//",ce="cat",ye="$",q="setcps",De="setbpm",at="hush",Ue=/^[1-9]/,Me=/^[eE]/,Qe=/^[+\-]/,Se=/^[0-9]/,Je=/^[ \n\r\t\xA0]/,kt=/^["']/,dt=/^[#\--.0-9A-Z\^-_a-z~\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376-\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4-\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u09FC\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E46\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7B9\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD-\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,Ne=/^[@_]/,bn=/^[^\n]/,Ze=S1("number"),sn=Fe(".",!1),zt=Pn([["1","9"]],!1,!1),Ot=Pn(["e","E"],!1,!1),Mn=Pn(["+","-"],!1,!1),ni=Fe("-",!1),un=Fe("0",!1),vn=Pn([["0","9"]],!1,!1),an=S1("whitespace"),Pt=Pn([" ",`
`,"\r","	"," "],!1,!1),Gn=Fe(",",!1),Ae=Fe("|",!1),ze=Pn(['"',"'"],!1,!1),ae=S1('a letter, a number, "-", "#", ".", "^", "_"'),je=Pn(["#",["-","."],["0","9"],["A","Z"],["^","_"],["a","z"],"~","ª","µ","º",["À","Ö"],["Ø","ö"],["ø","ˁ"],["ˆ","ˑ"],["ˠ","ˤ"],"ˬ","ˮ",["Ͱ","ʹ"],["Ͷ","ͷ"],["ͺ","ͽ"],"Ϳ","Ά",["Έ","Ί"],"Ό",["Ύ","Ρ"],["Σ","ϵ"],["Ϸ","ҁ"],["Ҋ","ԯ"],["Ա","Ֆ"],"ՙ",["ՠ","ֈ"],["א","ת"],["ׯ","ײ"],["ؠ","ي"],["ٮ","ٯ"],["ٱ","ۓ"],"ە",["ۥ","ۦ"],["ۮ","ۯ"],["ۺ","ۼ"],"ۿ","ܐ",["ܒ","ܯ"],["ݍ","ޥ"],"ޱ",["ߊ","ߪ"],["ߴ","ߵ"],"ߺ",["ࠀ","ࠕ"],"ࠚ","ࠤ","ࠨ",["ࡀ","ࡘ"],["ࡠ","ࡪ"],["ࢠ","ࢴ"],["ࢶ","ࢽ"],["ऄ","ह"],"ऽ","ॐ",["क़","ॡ"],["ॱ","ঀ"],["অ","ঌ"],["এ","ঐ"],["ও","ন"],["প","র"],"ল",["শ","হ"],"ঽ","ৎ",["ড়","ঢ়"],["য়","ৡ"],["ৰ","ৱ"],"ৼ",["ਅ","ਊ"],["ਏ","ਐ"],["ਓ","ਨ"],["ਪ","ਰ"],["ਲ","ਲ਼"],["ਵ","ਸ਼"],["ਸ","ਹ"],["ਖ਼","ੜ"],"ਫ਼",["ੲ","ੴ"],["અ","ઍ"],["એ","ઑ"],["ઓ","ન"],["પ","ર"],["લ","ળ"],["વ","હ"],"ઽ","ૐ",["ૠ","ૡ"],"ૹ",["ଅ","ଌ"],["ଏ","ଐ"],["ଓ","ନ"],["ପ","ର"],["ଲ","ଳ"],["ଵ","ହ"],"ଽ",["ଡ଼","ଢ଼"],["ୟ","ୡ"],"ୱ","ஃ",["அ","ஊ"],["எ","ஐ"],["ஒ","க"],["ங","ச"],"ஜ",["ஞ","ட"],["ண","த"],["ந","ப"],["ம","ஹ"],"ௐ",["అ","ఌ"],["ఎ","ఐ"],["ఒ","న"],["ప","హ"],"ఽ",["ౘ","ౚ"],["ౠ","ౡ"],"ಀ",["ಅ","ಌ"],["ಎ","ಐ"],["ಒ","ನ"],["ಪ","ಳ"],["ವ","ಹ"],"ಽ","ೞ",["ೠ","ೡ"],["ೱ","ೲ"],["അ","ഌ"],["എ","ഐ"],["ഒ","ഺ"],"ഽ","ൎ",["ൔ","ൖ"],["ൟ","ൡ"],["ൺ","ൿ"],["අ","ඖ"],["ක","න"],["ඳ","ර"],"ල",["ව","ෆ"],["ก","ะ"],["า","ำ"],["เ","ๆ"],["ກ","ຂ"],"ຄ",["ງ","ຈ"],"ຊ","ຍ",["ດ","ທ"],["ນ","ຟ"],["ມ","ຣ"],"ລ","ວ",["ສ","ຫ"],["ອ","ະ"],["າ","ຳ"],"ຽ",["ເ","ໄ"],"ໆ",["ໜ","ໟ"],"ༀ",["ཀ","ཇ"],["ཉ","ཬ"],["ྈ","ྌ"],["က","ဪ"],"ဿ",["ၐ","ၕ"],["ၚ","ၝ"],"ၡ",["ၥ","ၦ"],["ၮ","ၰ"],["ၵ","ႁ"],"ႎ",["Ⴀ","Ⴥ"],"Ⴧ","Ⴭ",["ა","ჺ"],["ჼ","ቈ"],["ቊ","ቍ"],["ቐ","ቖ"],"ቘ",["ቚ","ቝ"],["በ","ኈ"],["ኊ","ኍ"],["ነ","ኰ"],["ኲ","ኵ"],["ኸ","ኾ"],"ዀ",["ዂ","ዅ"],["ወ","ዖ"],["ዘ","ጐ"],["ጒ","ጕ"],["ጘ","ፚ"],["ᎀ","ᎏ"],["Ꭰ","Ᏽ"],["ᏸ","ᏽ"],["ᐁ","ᙬ"],["ᙯ","ᙿ"],["ᚁ","ᚚ"],["ᚠ","ᛪ"],["ᛮ","ᛸ"],["ᜀ","ᜌ"],["ᜎ","ᜑ"],["ᜠ","ᜱ"],["ᝀ","ᝑ"],["ᝠ","ᝬ"],["ᝮ","ᝰ"],["ក","ឳ"],"ៗ","ៜ",["ᠠ","ᡸ"],["ᢀ","ᢄ"],["ᢇ","ᢨ"],"ᢪ",["ᢰ","ᣵ"],["ᤀ","ᤞ"],["ᥐ","ᥭ"],["ᥰ","ᥴ"],["ᦀ","ᦫ"],["ᦰ","ᧉ"],["ᨀ","ᨖ"],["ᨠ","ᩔ"],"ᪧ",["ᬅ","ᬳ"],["ᭅ","ᭋ"],["ᮃ","ᮠ"],["ᮮ","ᮯ"],["ᮺ","ᯥ"],["ᰀ","ᰣ"],["ᱍ","ᱏ"],["ᱚ","ᱽ"],["ᲀ","ᲈ"],["Ა","Ჺ"],["Ჽ","Ჿ"],["ᳩ","ᳬ"],["ᳮ","ᳱ"],["ᳵ","ᳶ"],["ᴀ","ᶿ"],["Ḁ","ἕ"],["Ἐ","Ἕ"],["ἠ","ὅ"],["Ὀ","Ὅ"],["ὐ","ὗ"],"Ὑ","Ὓ","Ὕ",["Ὗ","ώ"],["ᾀ","ᾴ"],["ᾶ","ᾼ"],"ι",["ῂ","ῄ"],["ῆ","ῌ"],["ῐ","ΐ"],["ῖ","Ί"],["ῠ","Ῥ"],["ῲ","ῴ"],["ῶ","ῼ"],"ⁱ","ⁿ",["ₐ","ₜ"],"ℂ","ℇ",["ℊ","ℓ"],"ℕ",["ℙ","ℝ"],"ℤ","Ω","ℨ",["K","ℭ"],["ℯ","ℹ"],["ℼ","ℿ"],["ⅅ","ⅉ"],"ⅎ",["Ⅰ","ↈ"],["Ⰰ","Ⱞ"],["ⰰ","ⱞ"],["Ⱡ","ⳤ"],["Ⳬ","ⳮ"],["Ⳳ","ⳳ"],["ⴀ","ⴥ"],"ⴧ","ⴭ",["ⴰ","ⵧ"],"ⵯ",["ⶀ","ⶖ"],["ⶠ","ⶦ"],["ⶨ","ⶮ"],["ⶰ","ⶶ"],["ⶸ","ⶾ"],["ⷀ","ⷆ"],["ⷈ","ⷎ"],["ⷐ","ⷖ"],["ⷘ","ⷞ"],"ⸯ",["々","〇"],["〡","〩"],["〱","〵"],["〸","〼"],["ぁ","ゖ"],["ゝ","ゟ"],["ァ","ヺ"],["ー","ヿ"],["ㄅ","ㄯ"],["ㄱ","ㆎ"],["ㆠ","ㆺ"],["ㇰ","ㇿ"],["㐀","䶵"],["一","鿯"],["ꀀ","ꒌ"],["ꓐ","ꓽ"],["ꔀ","ꘌ"],["ꘐ","ꘟ"],["ꘪ","ꘫ"],["Ꙁ","ꙮ"],["ꙿ","ꚝ"],["ꚠ","ꛯ"],["ꜗ","ꜟ"],["Ꜣ","ꞈ"],["Ꞌ","ꞹ"],["ꟷ","ꠁ"],["ꠃ","ꠅ"],["ꠇ","ꠊ"],["ꠌ","ꠢ"],["ꡀ","ꡳ"],["ꢂ","ꢳ"],["ꣲ","ꣷ"],"ꣻ",["ꣽ","ꣾ"],["ꤊ","ꤥ"],["ꤰ","ꥆ"],["ꥠ","ꥼ"],["ꦄ","ꦲ"],"ꧏ",["ꧠ","ꧤ"],["ꧦ","ꧯ"],["ꧺ","ꧾ"],["ꨀ","ꨨ"],["ꩀ","ꩂ"],["ꩄ","ꩋ"],["ꩠ","ꩶ"],"ꩺ",["ꩾ","ꪯ"],"ꪱ",["ꪵ","ꪶ"],["ꪹ","ꪽ"],"ꫀ","ꫂ",["ꫛ","ꫝ"],["ꫠ","ꫪ"],["ꫲ","ꫴ"],["ꬁ","ꬆ"],["ꬉ","ꬎ"],["ꬑ","ꬖ"],["ꬠ","ꬦ"],["ꬨ","ꬮ"],["ꬰ","ꭚ"],["ꭜ","ꭥ"],["ꭰ","ꯢ"],["가","힣"],["ힰ","ퟆ"],["ퟋ","ퟻ"],["豈","舘"],["並","龎"],["ﬀ","ﬆ"],["ﬓ","ﬗ"],"יִ",["ײַ","ﬨ"],["שׁ","זּ"],["טּ","לּ"],"מּ",["נּ","סּ"],["ףּ","פּ"],["צּ","ﮱ"],["ﯓ","ﴽ"],["ﵐ","ﶏ"],["ﶒ","ﷇ"],["ﷰ","ﷻ"],["ﹰ","ﹴ"],["ﹶ","ﻼ"],["Ａ","Ｚ"],["ａ","ｚ"],["ｦ","ﾾ"],["ￂ","ￇ"],["ￊ","ￏ"],["ￒ","ￗ"],["ￚ","ￜ"]],!1,!1),xe=Fe("[",!1),ii=Fe("]",!1),on=Fe("{",!1),ot=Fe("}",!1),Te=Fe("%",!1),Dt=Fe("<",!1),ke=Fe(">",!1),ri=Pn(["@","_"],!1,!1),wi=Fe("!",!1),Le=Fe("(",!1),le=Fe(")",!1),mt=Fe("/",!1),rt=Fe("*",!1),pt=Fe("?",!1),Si=Fe(":",!1),w1=Fe("..",!1),l=Fe("^",!1),y=Fe("struct",!1),p=Fe("target",!1),A=Fe("euclid",!1),D=Fe("slow",!1),T=Fe("rotL",!1),G=Fe("rotR",!1),W=Fe("fast",!1),J=Fe("scale",!1),ve=Fe("//",!1),$e=Pn([`
`],!0,!1),Cn=Fe("cat",!1),Xn=Fe("$",!1),Xs=Fe("setcps",!1),Zs=Fe("setbpm",!1),It=Fe("hush",!1),b5=function(){return parseFloat(r9())},M5=function(f){const C=f.join("");return C==="."||C==="_"},v5=function(f){return new q9(f.join(""))},C5=function(f){return f},P5=function(f,C){return f.arguments_.stepsPerCycle=C,f},D5=function(f){return f},F5=function(f){return f.arguments_.alignment="polymeter_slowcat",f},E5=function(f){return C=>C.options_.weight=(C.options_.weight??1)+(f??2)-1},w5=function(f){return C=>{const E=(C.options_.reps??1)+(f??2)-1;C.options_.reps=E,C.options_.ops=C.options_.ops.filter(L=>L.type_!=="replicate"),C.options_.ops.push({type_:"replicate",arguments_:{amount:E}}),C.options_.weight=E}},S5=function(f,C,E){return L=>L.options_.ops.push({type_:"bjorklund",arguments_:{pulse:f,step:C,rotation:E}})},B5=function(f){return C=>C.options_.ops.push({type_:"stretch",arguments_:{amount:f,type:"slow"}})},_5=function(f){return C=>C.options_.ops.push({type_:"stretch",arguments_:{amount:f,type:"fast"}})},x5=function(f){return C=>C.options_.ops.push({type_:"degradeBy",arguments_:{amount:f,seed:k1++}})},k5=function(f){return C=>C.options_.ops.push({type_:"tail",arguments_:{element:f}})},I5=function(f){return C=>C.options_.ops.push({type_:"range",arguments_:{element:f}})},V5=function(f,C){const E=new H9(f,{ops:[],weight:1,reps:1});for(const L of C)L(E);return E},N5=function(f,C){return new js(C,"fastcat",void 0,!!f)},T5=function(f){return{alignment:"stack",list:f}},R5=function(f){return{alignment:"rand",list:f,seed:k1++}},L5=function(f){return{alignment:"feet",list:f,seed:k1++}},G5=function(f,C){return C&&C.list.length>0?new js([f,...C.list],C.alignment,C.seed):f},X5=function(f,C){return new js(C?[f,...C.list]:[f],"polymeter")},Z5=function(f){return f},W5=function(f){return{name:"struct",args:{mini:f}}},z5=function(f){return{name:"target",args:{name:f}}},O5=function(f,C,E){return{name:"bjorklund",args:{pulse:f,step:parseInt(C)}}},j5=function(f){return{name:"stretch",args:{amount:f}}},$5=function(f){return{name:"shift",args:{amount:"-"+f}}},q5=function(f){return{name:"shift",args:{amount:f}}},K5=function(f){return{name:"stretch",args:{amount:"1/"+f}}},H5=function(f){return{name:"scale",args:{scale:f.join("")}}},tb=function(f,C){return C},U5=function(f,C){return C.unshift(f),new js(C,"slowcat")},J5=function(f){return f},Y5=function(f,C){return new K9(f.name,f.args,C)},Q5=function(f){return f},e9=function(f){return f},t9=function(f){return new x1("setcps",{value:f})},n9=function(f){return new x1("setcps",{value:f/120/2})},i9=function(){return new x1("hush")},F=t.peg$currPos|0,de=F,Bi=[{line:1,column:1}],jt=F,Ws=t.peg$maxFailExpected||[],ie=t.peg$silentFails|0,Ar;if(t.startRule){if(!(t.startRule in r))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');s=r[t.startRule]}function r9(){return e.substring(de,F)}function nb(){return B1(de,F)}function Fe(f,C){return{type:"literal",text:f,ignoreCase:C}}function Pn(f,C,E){return{type:"class",parts:f,inverted:C,ignoreCase:E}}function s9(){return{type:"end"}}function S1(f){return{type:"other",description:f}}function ib(f){var C=Bi[f],E;if(C)return C;if(f>=Bi.length)E=Bi.length-1;else for(E=f;!Bi[--E];);for(C=Bi[E],C={line:C.line,column:C.column};E<f;)e.charCodeAt(E)===10?(C.line++,C.column=1):C.column++,E++;return Bi[f]=C,C}function B1(f,C,E){var L=ib(f),re=ib(C),We={source:i,start:{offset:f,line:L.line,column:L.column},end:{offset:C,line:re.line,column:re.column}};return We}function ue(f){F<jt||(F>jt&&(jt=F,Ws=[]),Ws.push(f))}function u9(f,C,E){return new kn(kn.buildMessage(f,C),f,C,E)}function rb(){var f;return f=$9(),f}function Dn(){var f,C;return ie++,f=F,h9(),C=zs(),C!==n?(f9(),l9(),de=f,f=b5()):(F=f,f=n),ie--,f===n&&ie===0&&ue(Ze),f}function a9(){var f;return e.charCodeAt(F)===46?(f=u,F++):(f=n,ie===0&&ue(sn)),f}function o9(){var f;return f=e.charAt(F),Ue.test(f)?F++:(f=n,ie===0&&ue(zt)),f}function c9(){var f;return f=e.charAt(F),Me.test(f)?F++:(f=n,ie===0&&ue(Ot)),f}function l9(){var f,C,E,L,re;if(f=F,C=c9(),C!==n){if(E=e.charAt(F),Qe.test(E)?F++:(E=n,ie===0&&ue(Mn)),E===n&&(E=null),L=[],re=_i(),re!==n)for(;re!==n;)L.push(re),re=_i();else L=n;L!==n?(C=[C,E,L],f=C):(F=f,f=n)}else F=f,f=n;return f}function f9(){var f,C,E,L;if(f=F,C=a9(),C!==n){if(E=[],L=_i(),L!==n)for(;L!==n;)E.push(L),L=_i();else E=n;E!==n?(C=[C,E],f=C):(F=f,f=n)}else F=f,f=n;return f}function zs(){var f,C,E,L;if(f=d9(),f===n)if(f=F,C=o9(),C!==n){for(E=[],L=_i();L!==n;)E.push(L),L=_i();C=[C,E],f=C}else F=f,f=n;return f}function h9(){var f;return e.charCodeAt(F)===45?(f=a,F++):(f=n,ie===0&&ue(ni)),f}function d9(){var f;return e.charCodeAt(F)===48?(f=c,F++):(f=n,ie===0&&ue(un)),f}function _i(){var f;return f=e.charAt(F),Se.test(f)?F++:(f=n,ie===0&&ue(vn)),f}function oe(){var f,C;for(ie++,f=[],C=e.charAt(F),Je.test(C)?F++:(C=n,ie===0&&ue(Pt));C!==n;)f.push(C),C=e.charAt(F),Je.test(C)?F++:(C=n,ie===0&&ue(Pt));return ie--,C=n,ie===0&&ue(an),f}function xi(){var f,C,E,L;return f=F,C=oe(),e.charCodeAt(F)===44?(E=h,F++):(E=n,ie===0&&ue(Gn)),E!==n?(L=oe(),C=[C,E,L],f=C):(F=f,f=n),f}function sb(){var f,C,E,L;return f=F,C=oe(),e.charCodeAt(F)===124?(E=d,F++):(E=n,ie===0&&ue(Ae)),E!==n?(L=oe(),C=[C,E,L],f=C):(F=f,f=n),f}function ub(){var f,C,E,L;return f=F,C=oe(),e.charCodeAt(F)===46?(E=u,F++):(E=n,ie===0&&ue(sn)),E!==n?(L=oe(),C=[C,E,L],f=C):(F=f,f=n),f}function ki(){var f;return f=e.charAt(F),kt.test(f)?F++:(f=n,ie===0&&ue(ze)),f}function Os(){var f;return ie++,f=e.charAt(F),dt.test(f)?F++:(f=n,ie===0&&ue(je)),ie--,f===n&&ie===0&&ue(ae),f}function ab(){var f,C,E,L;if(f=F,oe(),C=[],E=Os(),E!==n)for(;E!==n;)C.push(E),E=Os();else C=n;return C!==n?(E=oe(),de=F,L=M5(C),L?L=n:L=void 0,L!==n?(de=f,f=v5(C)):(F=f,f=n)):(F=f,f=n),f}function m9(){var f,C,E,L;return f=F,oe(),e.charCodeAt(F)===91?(C=g,F++):(C=n,ie===0&&ue(xe)),C!==n?(oe(),E=lb(),E!==n?(oe(),e.charCodeAt(F)===93?(L=m,F++):(L=n,ie===0&&ue(ii)),L!==n?(oe(),de=f,f=C5(E)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function p9(){var f,C,E,L,re;return f=F,oe(),e.charCodeAt(F)===123?(C=M,F++):(C=n,ie===0&&ue(on)),C!==n?(oe(),E=fb(),E!==n?(oe(),e.charCodeAt(F)===125?(L=v,F++):(L=n,ie===0&&ue(ot)),L!==n?(re=g9(),re===n&&(re=null),oe(),de=f,f=P5(E,re)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function g9(){var f,C,E;return f=F,e.charCodeAt(F)===37?(C=P,F++):(C=n,ie===0&&ue(Te)),C!==n?(E=Ii(),E!==n?(de=f,f=D5(E)):(F=f,f=n)):(F=f,f=n),f}function y9(){var f,C,E,L;return f=F,oe(),e.charCodeAt(F)===60?(C=w,F++):(C=n,ie===0&&ue(Dt)),C!==n?(oe(),E=fb(),E!==n?(oe(),e.charCodeAt(F)===62?(L=V,F++):(L=n,ie===0&&ue(ke)),L!==n?(oe(),de=f,f=F5(E)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function Ii(){var f;return f=ab(),f===n&&(f=m9(),f===n&&(f=p9(),f===n&&(f=y9()))),f}function ob(){var f;return f=A9(),f===n&&(f=M9(),f===n&&(f=v9(),f===n&&(f=C9(),f===n&&(f=b9(),f===n&&(f=P9(),f===n&&(f=D9(),f===n&&(f=F9()))))))),f}function A9(){var f,C,E;return f=F,oe(),C=e.charAt(F),Ne.test(C)?F++:(C=n,ie===0&&ue(ri)),C!==n?(E=Dn(),E===n&&(E=null),de=f,f=E5(E)):(F=f,f=n),f}function b9(){var f,C,E;return f=F,oe(),e.charCodeAt(F)===33?(C=k,F++):(C=n,ie===0&&ue(wi)),C!==n?(E=Dn(),E===n&&(E=null),de=f,f=w5(E)):(F=f,f=n),f}function M9(){var f,C,E,L,re,We,$t;return f=F,e.charCodeAt(F)===40?(C=Z,F++):(C=n,ie===0&&ue(Le)),C!==n?(oe(),E=br(),E!==n?(oe(),L=xi(),L!==n?(oe(),re=br(),re!==n?(oe(),xi(),oe(),We=br(),We===n&&(We=null),oe(),e.charCodeAt(F)===41?($t=_,F++):($t=n,ie===0&&ue(le)),$t!==n?(de=f,f=S5(E,re,We)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function v9(){var f,C,E;return f=F,e.charCodeAt(F)===47?(C=S,F++):(C=n,ie===0&&ue(mt)),C!==n?(E=Ii(),E!==n?(de=f,f=B5(E)):(F=f,f=n)):(F=f,f=n),f}function C9(){var f,C,E;return f=F,e.charCodeAt(F)===42?(C=x,F++):(C=n,ie===0&&ue(rt)),C!==n?(E=Ii(),E!==n?(de=f,f=_5(E)):(F=f,f=n)):(F=f,f=n),f}function P9(){var f,C,E;return f=F,e.charCodeAt(F)===63?(C=I,F++):(C=n,ie===0&&ue(pt)),C!==n?(E=Dn(),E===n&&(E=null),de=f,f=x5(E)):(F=f,f=n),f}function D9(){var f,C,E;return f=F,e.charCodeAt(F)===58?(C=N,F++):(C=n,ie===0&&ue(Si)),C!==n?(E=Ii(),E!==n?(de=f,f=k5(E)):(F=f,f=n)):(F=f,f=n),f}function F9(){var f,C,E;return f=F,e.substr(F,2)===H?(C=H,F+=2):(C=n,ie===0&&ue(w1)),C!==n?(E=Ii(),E!==n?(de=f,f=I5(E)):(F=f,f=n)):(F=f,f=n),f}function br(){var f,C,E,L;if(f=F,C=Ii(),C!==n){for(E=[],L=ob();L!==n;)E.push(L),L=ob();de=f,f=V5(C,E)}else F=f,f=n;return f}function Zn(){var f,C,E,L;if(f=F,e.charCodeAt(F)===94?(C=X,F++):(C=n,ie===0&&ue(l)),C===n&&(C=null),E=[],L=br(),L!==n)for(;L!==n;)E.push(L),L=br();else E=n;return E!==n?(de=f,f=N5(C,E)):(F=f,f=n),f}function cb(){var f,C,E,L,re;if(f=F,C=[],E=F,L=xi(),L!==n?(re=Zn(),re!==n?E=re:(F=E,E=n)):(F=E,E=n),E!==n)for(;E!==n;)C.push(E),E=F,L=xi(),L!==n?(re=Zn(),re!==n?E=re:(F=E,E=n)):(F=E,E=n);else C=n;return C!==n&&(de=f,C=T5(C)),f=C,f}function E9(){var f,C,E,L,re;if(f=F,C=[],E=F,L=sb(),L!==n?(re=Zn(),re!==n?E=re:(F=E,E=n)):(F=E,E=n),E!==n)for(;E!==n;)C.push(E),E=F,L=sb(),L!==n?(re=Zn(),re!==n?E=re:(F=E,E=n)):(F=E,E=n);else C=n;return C!==n&&(de=f,C=R5(C)),f=C,f}function w9(){var f,C,E,L,re;if(f=F,C=[],E=F,L=ub(),L!==n?(re=Zn(),re!==n?E=re:(F=E,E=n)):(F=E,E=n),E!==n)for(;E!==n;)C.push(E),E=F,L=ub(),L!==n?(re=Zn(),re!==n?E=re:(F=E,E=n)):(F=E,E=n);else C=n;return C!==n&&(de=f,C=L5(C)),f=C,f}function lb(){var f,C,E;return f=F,C=Zn(),C!==n?(E=cb(),E===n&&(E=E9(),E===n&&(E=w9())),E===n&&(E=null),de=f,f=G5(C,E)):(F=f,f=n),f}function fb(){var f,C,E;return f=F,C=Zn(),C!==n?(E=cb(),E===n&&(E=null),de=f,f=X5(C,E)):(F=f,f=n),f}function S9(){var f,C,E,L;return f=F,oe(),C=ki(),C!==n?(oe(),E=lb(),E!==n?(oe(),L=ki(),L!==n?(de=f,f=Z5(E)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function B9(){var f;return f=R9(),f===n&&(f=I9(),f===n&&(f=T9(),f===n&&(f=x9(),f===n&&(f=k9(),f===n&&(f=_9(),f===n&&(f=N9(),f===n&&(f=V9()))))))),f}function _9(){var f,C,E;return f=F,e.substr(F,6)===ee?(C=ee,F+=6):(C=n,ie===0&&ue(y)),C!==n?(oe(),E=Vi(),E!==n?(de=f,f=W5(E)):(F=f,f=n)):(F=f,f=n),f}function x9(){var f,C,E,L,re;return f=F,e.substr(F,6)===z?(C=z,F+=6):(C=n,ie===0&&ue(p)),C!==n?(oe(),E=ki(),E!==n?(L=ab(),L!==n?(re=ki(),re!==n?(de=f,f=z5(L)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function k9(){var f,C,E,L;return f=F,e.substr(F,6)===O?(C=O,F+=6):(C=n,ie===0&&ue(A)),C!==n?(oe(),E=zs(),E!==n?(oe(),L=zs(),L!==n?(oe(),zs(),de=f,f=O5(E,L)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function I9(){var f,C,E;return f=F,e.substr(F,4)===ne?(C=ne,F+=4):(C=n,ie===0&&ue(D)),C!==n?(oe(),E=Dn(),E!==n?(de=f,f=j5(E)):(F=f,f=n)):(F=f,f=n),f}function V9(){var f,C,E;return f=F,e.substr(F,4)===be?(C=be,F+=4):(C=n,ie===0&&ue(T)),C!==n?(oe(),E=Dn(),E!==n?(de=f,f=$5(E)):(F=f,f=n)):(F=f,f=n),f}function N9(){var f,C,E;return f=F,e.substr(F,4)===pe?(C=pe,F+=4):(C=n,ie===0&&ue(G)),C!==n?(oe(),E=Dn(),E!==n?(de=f,f=q5(E)):(F=f,f=n)):(F=f,f=n),f}function T9(){var f,C,E;return f=F,e.substr(F,4)===he?(C=he,F+=4):(C=n,ie===0&&ue(W)),C!==n?(oe(),E=Dn(),E!==n?(de=f,f=K5(E)):(F=f,f=n)):(F=f,f=n),f}function R9(){var f,C,E,L,re;if(f=F,e.substr(F,5)===te?(C=te,F+=5):(C=n,ie===0&&ue(J)),C!==n)if(oe(),E=ki(),E!==n){if(L=[],re=Os(),re!==n)for(;re!==n;)L.push(re),re=Os();else L=n;L!==n?(re=ki(),re!==n?(de=f,f=H5(L)):(F=f,f=n)):(F=f,f=n)}else F=f,f=n;else F=f,f=n;return f}function _1(){var f,C,E,L;if(f=F,e.substr(F,2)===Ve?(C=Ve,F+=2):(C=n,ie===0&&ue(ve)),C!==n){for(E=[],L=e.charAt(F),bn.test(L)?F++:(L=n,ie===0&&ue($e));L!==n;)E.push(L),L=e.charAt(F),bn.test(L)?F++:(L=n,ie===0&&ue($e));C=[C,E],f=C}else F=f,f=n;return f}function L9(){var f,C,E,L,re,We,$t,Ni;if(f=F,e.substr(F,3)===ce?(C=ce,F+=3):(C=n,ie===0&&ue(Cn)),C!==n)if(oe(),e.charCodeAt(F)===91?(E=g,F++):(E=n,ie===0&&ue(xe)),E!==n)if(oe(),L=Vi(),L!==n){for(re=[],We=F,$t=xi(),$t!==n?(Ni=Vi(),Ni!==n?(de=We,We=tb(L,Ni)):(F=We,We=n)):(F=We,We=n);We!==n;)re.push(We),We=F,$t=xi(),$t!==n?(Ni=Vi(),Ni!==n?(de=We,We=tb(L,Ni)):(F=We,We=n)):(F=We,We=n);We=oe(),e.charCodeAt(F)===93?($t=m,F++):($t=n,ie===0&&ue(ii)),$t!==n?(de=f,f=U5(L,re)):(F=f,f=n)}else F=f,f=n;else F=f,f=n;else F=f,f=n;return f}function G9(){var f;return f=L9(),f===n&&(f=S9()),f}function Vi(){var f,C,E,L,re;if(f=F,C=G9(),C!==n){for(oe(),E=[],L=_1();L!==n;)E.push(L),L=_1();de=f,f=J5(C)}else F=f,f=n;return f===n&&(f=F,C=B9(),C!==n?(oe(),e.charCodeAt(F)===36?(E=ye,F++):(E=n,ie===0&&ue(Xn)),E!==n?(L=oe(),re=Vi(),re!==n?(de=f,f=Y5(C,re)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n)),f}function X9(){var f,C;return f=F,C=Vi(),C!==n&&(de=f,C=Q5(C)),f=C,f===n&&(f=_1()),f}function Z9(){var f;return f=X9(),f}function W9(){var f,C;return f=F,oe(),C=z9(),C===n&&(C=O9(),C===n&&(C=j9())),C!==n?(oe(),de=f,f=e9(C)):(F=f,f=n),f}function z9(){var f,C,E;return f=F,e.substr(F,6)===q?(C=q,F+=6):(C=n,ie===0&&ue(Xs)),C!==n?(oe(),E=Dn(),E!==n?(de=f,f=t9(E)):(F=f,f=n)):(F=f,f=n),f}function O9(){var f,C,E;return f=F,e.substr(F,6)===De?(C=De,F+=6):(C=n,ie===0&&ue(Zs)),C!==n?(oe(),E=Dn(),E!==n?(de=f,f=n9(E)):(F=f,f=n)):(F=f,f=n),f}function j9(){var f,C;return f=F,e.substr(F,4)===at?(C=at,F+=4):(C=n,ie===0&&ue(It)),C!==n&&(de=f,C=i9()),f=C,f}function $9(){var f;return f=Z9(),f===n&&(f=W9()),f}var q9=function(f){this.type_="atom",this.source_=f,this.location_=nb()},js=function(f,C,E,L){this.type_="pattern",this.arguments_={alignment:C,_steps:L},E!==void 0&&(this.arguments_.seed=E),this.source_=f},K9=function(f,C,E){this.type_=f,this.arguments_=C,this.source_=E},H9=function(f,C){this.type_="element",this.source_=f,this.options_=C,this.location_=nb()},x1=function(f,C){this.type_="command",this.name_=f,this.options_=C},k1=0;if(Ar=s(),t.peg$library)return{peg$result:Ar,peg$currPos:F,peg$FAILED:n,peg$maxFailExpected:Ws,peg$maxFailPos:jt};if(Ar!==n&&F===e.length)return Ar;throw Ar!==n&&F<e.length&&ue(s9()),u9(Ws,jt<e.length?e.charAt(jt):null,jt<e.length?B1(jt,jt+1):B1(jt,jt))}const W2=["start"],z2=3e-4,_M=(e,t)=>(n,i)=>{const u=e.source_[i].options_?.ops,a=n.__steps_source;if(u)for(const c of u)switch(c.type_){case"stretch":{const h=["fast","slow"],{type:d,amount:g}=c.arguments_;if(!h.includes(d))throw new Error(`mini: stretch: type must be one of ${h.join("|")} but got ${d}`);n=K(n)[d](t(g));break}case"replicate":{const{amount:h}=c.arguments_;n=K(n),n=n._repeatCycles(h)._fast(h);break}case"bjorklund":{c.arguments_.rotation?n=n.euclidRot(t(c.arguments_.pulse),t(c.arguments_.step),t(c.arguments_.rotation)):n=n.euclid(t(c.arguments_.pulse),t(c.arguments_.step));break}case"degradeBy":{n=K(n)._degradeByWith(ft.early(z2*c.arguments_.seed),c.arguments_.amount??.5);break}case"tail":{const h=t(c.arguments_.element);n=n.fmap(d=>g=>Array.isArray(d)?[...d,g]:[d,g]).appLeft(h);break}case"range":{const h=t(c.arguments_.element);n=K(n);const d=(m,M,v=1)=>Array.from({length:Math.abs(M-m)/v+1},(P,w)=>m<M?m+w*v:m-w*v);n=((m,M)=>m.squeezeBind(v=>M.bind(P=>ct(...d(v,P)))))(n,h);break}default:console.warn(`operator "${c.type_}" not implemented`)}return n.__steps_source=n.__steps_source||a,n};function Hn(e,t,n,i=0){n?.(e);const r=s=>Hn(s,t,n,i);switch(e.type_){case"pattern":{const s=e.source_.map(h=>r(h)).map(_M(e,r)),u=e.arguments_.alignment,a=s.filter(h=>h.__steps_source);let c;switch(u){case"stack":{c=Ie(...s),a.length&&(c._steps=Nt(...a.map(h=>$(h._steps))));break}case"polymeter_slowcat":{c=Ie(...s.map(h=>h._slow(h.__weight))),a.length&&(c._steps=Nt(...a.map(h=>$(h._steps))));break}case"polymeter":{const h=e.arguments_.stepsPerCycle?r(e.arguments_.stepsPerCycle).fmap(g=>$(g)):Ke($(s.length>0?s[0].__weight:1)),d=s.map(g=>g.fast(h.fmap(m=>m.div(g.__weight))));c=Ie(...d);break}case"rand":{c=zr(ft.early(z2*e.arguments_.seed).segment(1),s),a.length&&(c._steps=Nt(...a.map(h=>$(h._steps))));break}case"feet":{c=ct(...s);break}default:{if(e.source_.some(d=>!!d.options_?.weight)){const d=e.source_.reduce((g,m)=>g.add(m.options_?.weight||$(1)),$(0));c=Ir(...e.source_.map((g,m)=>[g.options_?.weight||$(1),s[m]])),c.__weight=d,c._steps=d,a.length&&(c._steps=c._steps.mul(Nt(...a.map(g=>$(g._steps)))))}else c=vt(...s),c._steps=s.length;e.arguments_._steps&&(c.__steps_source=!0)}}return a.length&&(c.__steps_source=!0),c}case"element":return r(e.source_);case"atom":{if(e.source_==="~"||e.source_==="-")return _e;if(!e.location_)return console.warn("no location for",e),e.source_;const s=isNaN(Number(e.source_))?e.source_:Number(e.source_);if(i===-1)return Ke(s);const[u,a]=ns(t,e,i);return Ke(s).withLoc(u,a)}case"stretch":return r(e.source_).slow(r(e.arguments_.amount));default:return console.warn(`node type "${e.type_}" not implemented -> returning silence`),_e}}const ns=(e,t,n=0)=>{const{start:i,end:r}=t.location_,s=e?.split("").slice(i.offset,r.offset).join(""),[u=0,a=0]=s?s.split(t.source_).map(c=>c.split("").filter(h=>h===" ").length):[];return[i.offset+u+n,r.offset-a+n]},hi=(e,t=0,n=e)=>{try{return lh(e)}catch(i){const r=[i.location.start.offset+t,i.location.end.offset+t],s=n.slice(0,r[0]).split(`
`).length;throw new Error(`[mini] parse error at line ${s}: ${i.message}`)}},fh=(e,t,n)=>{const i=hi(e,t,n);let r=[];return Hn(i,e,s=>{s.type_==="atom"&&r.push(s)},-1),r},is=(e,t=0,n)=>fh(e,t,n).map(i=>ns(e,i,t)),rs=(...e)=>{const t=e.map(n=>{const i=`"${n}"`,r=hi(i);return Hn(r,i)});return vt(...t)},O2=(e,t)=>{const n=`"${e}"`,i=hi(n);return Hn(i,n,null,t)},j2=e=>{const t=hi(e);return Hn(t,e)};function $2(e){return typeof e=="string"?rs(e):K(e)}function hh(){du(rs)}const xM=Object.freeze(Object.defineProperty({__proto__:null,StartRules:W2,SyntaxError:kn,getLeafLocation:ns,getLeafLocations:is,getLeaves:fh,h:j2,m:O2,mini:rs,mini2ast:hi,miniAllStrings:hh,minify:$2,parse:lh,patternifyAST:Hn},Symbol.toStringTag,{value:"Module"}));var kM=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],q2=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],IM="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",K2="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟍꟐꟑꟓꟕ-Ƛꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",dh={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},mh="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",VM={5:mh,"5module":mh+" export import",6:mh+" const class extends export import super"},NM=/^in(stanceof)?$/,TM=new RegExp("["+K2+"]"),RM=new RegExp("["+K2+IM+"]");function ph(e,t){for(var n=65536,i=0;i<t.length;i+=2){if(n+=t[i],n>e)return!1;if(n+=t[i+1],n>=e)return!0}return!1}function pn(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&TM.test(String.fromCharCode(e)):t===!1?!1:ph(e,q2)}function di(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&RM.test(String.fromCharCode(e)):t===!1?!1:ph(e,q2)||ph(e,kM)}var we=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function Et(e,t){return new we(e,{beforeExpr:!0,binop:t})}var wt={beforeExpr:!0},bt={startsExpr:!0},gh={};function Pe(e,t){return t===void 0&&(t={}),t.keyword=e,gh[e]=new we(e,t)}var b={num:new we("num",bt),regexp:new we("regexp",bt),string:new we("string",bt),name:new we("name",bt),privateId:new we("privateId",bt),eof:new we("eof"),bracketL:new we("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new we("]"),braceL:new we("{",{beforeExpr:!0,startsExpr:!0}),braceR:new we("}"),parenL:new we("(",{beforeExpr:!0,startsExpr:!0}),parenR:new we(")"),comma:new we(",",wt),semi:new we(";",wt),colon:new we(":",wt),dot:new we("."),question:new we("?",wt),questionDot:new we("?."),arrow:new we("=>",wt),template:new we("template"),invalidTemplate:new we("invalidTemplate"),ellipsis:new we("...",wt),backQuote:new we("`",bt),dollarBraceL:new we("${",{beforeExpr:!0,startsExpr:!0}),eq:new we("=",{beforeExpr:!0,isAssign:!0}),assign:new we("_=",{beforeExpr:!0,isAssign:!0}),incDec:new we("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new we("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Et("||",1),logicalAND:Et("&&",2),bitwiseOR:Et("|",3),bitwiseXOR:Et("^",4),bitwiseAND:Et("&",5),equality:Et("==/!=/===/!==",6),relational:Et("</>/<=/>=",7),bitShift:Et("<</>>/>>>",8),plusMin:new we("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Et("%",10),star:Et("*",10),slash:Et("/",10),starstar:new we("**",{beforeExpr:!0}),coalesce:Et("??",1),_break:Pe("break"),_case:Pe("case",wt),_catch:Pe("catch"),_continue:Pe("continue"),_debugger:Pe("debugger"),_default:Pe("default",wt),_do:Pe("do",{isLoop:!0,beforeExpr:!0}),_else:Pe("else",wt),_finally:Pe("finally"),_for:Pe("for",{isLoop:!0}),_function:Pe("function",bt),_if:Pe("if"),_return:Pe("return",wt),_switch:Pe("switch"),_throw:Pe("throw",wt),_try:Pe("try"),_var:Pe("var"),_const:Pe("const"),_while:Pe("while",{isLoop:!0}),_with:Pe("with"),_new:Pe("new",{beforeExpr:!0,startsExpr:!0}),_this:Pe("this",bt),_super:Pe("super",bt),_class:Pe("class",bt),_extends:Pe("extends",wt),_export:Pe("export"),_import:Pe("import",bt),_null:Pe("null",bt),_true:Pe("true",bt),_false:Pe("false",bt),_in:Pe("in",{beforeExpr:!0,binop:7}),_instanceof:Pe("instanceof",{beforeExpr:!0,binop:7}),_typeof:Pe("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Pe("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Pe("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},St=/\r\n?|\n|\u2028|\u2029/,LM=new RegExp(St.source,"g");function mi(e){return e===10||e===13||e===8232||e===8233}function H2(e,t,n){n===void 0&&(n=e.length);for(var i=t;i<n;i++){var r=e.charCodeAt(i);if(mi(r))return i<n-1&&r===13&&e.charCodeAt(i+1)===10?i+2:i+1}return-1}var U2=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Bt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,J2=Object.prototype,GM=J2.hasOwnProperty,XM=J2.toString,pi=Object.hasOwn||function(e,t){return GM.call(e,t)},Y2=Array.isArray||function(e){return XM.call(e)==="[object Array]"},Q2=Object.create(null);function In(e){return Q2[e]||(Q2[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function gn(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var ZM=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,tr=function(t,n){this.line=t,this.column=n};tr.prototype.offset=function(t){return new tr(this.line,this.column+t)};var ss=function(t,n,i){this.start=n,this.end=i,t.sourceFile!==null&&(this.source=t.sourceFile)};function ey(e,t){for(var n=1,i=0;;){var r=H2(e,i,t);if(r<0)return new tr(n,t-i);++n,i=r}}var yh={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},ty=!1;function WM(e){var t={};for(var n in yh)t[n]=e&&pi(e,n)?e[n]:yh[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!ty&&typeof console=="object"&&console.warn&&(ty=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),Y2(t.onToken)){var i=t.onToken;t.onToken=function(r){return i.push(r)}}return Y2(t.onComment)&&(t.onComment=zM(t,t.onComment)),t}function zM(e,t){return function(n,i,r,s,u,a){var c={type:n?"Block":"Line",value:i,start:r,end:s};e.locations&&(c.loc=new ss(this,u,a)),e.ranges&&(c.range=[r,s]),t.push(c)}}var nr=1,gi=2,Ah=4,ny=8,iy=16,ry=32,bh=64,sy=128,ir=256,Mh=nr|gi|ir;function vh(e,t){return gi|(e?Ah:0)|(t?ny:0)}var us=0,Ch=1,yn=2,uy=3,ay=4,oy=5,et=function(t,n,i){this.options=t=WM(t),this.sourceFile=t.sourceFile,this.keywords=In(VM[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var r="";t.allowReserved!==!0&&(r=dh[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(r+=" await")),this.reservedWords=In(r);var s=(r?r+" ":"")+dh.strict;this.reservedWordsStrict=In(s),this.reservedWordsStrictBind=In(s+" "+dh.strictBind),this.input=String(n),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf(`
`,i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(St).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=b.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(nr),this.regexpState=null,this.privateNameStack=[]},Qt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};et.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},Qt.inFunction.get=function(){return(this.currentVarScope().flags&gi)>0},Qt.inGenerator.get=function(){return(this.currentVarScope().flags&ny)>0&&!this.currentVarScope().inClassFieldInit},Qt.inAsync.get=function(){return(this.currentVarScope().flags&Ah)>0&&!this.currentVarScope().inClassFieldInit},Qt.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&ir)return!1;if(t.flags&gi)return(t.flags&Ah)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},Qt.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&bh)>0||n||this.options.allowSuperOutsideMethod},Qt.allowDirectSuper.get=function(){return(this.currentThisScope().flags&sy)>0},Qt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Qt.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(gi|ir))>0||n},Qt.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&ir)>0},et.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var i=this,r=0;r<t.length;r++)i=t[r](i);return i},et.parse=function(t,n){return new this(n,t).parse()},et.parseExpressionAt=function(t,n,i){var r=new this(i,t,n);return r.nextToken(),r.parseExpression()},et.tokenizer=function(t,n){return new this(n,t)},Object.defineProperties(et.prototype,Qt);var ht=et.prototype,OM=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;ht.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){Bt.lastIndex=e,e+=Bt.exec(this.input)[0].length;var t=OM.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){Bt.lastIndex=e+t[0].length;var n=Bt.exec(this.input),i=n.index+n[0].length,r=this.input.charAt(i);return r===";"||r==="}"||St.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||r==="!"&&this.input.charAt(i+1)==="=")}e+=t[0].length,Bt.lastIndex=e,e+=Bt.exec(this.input)[0].length,this.input[e]===";"&&e++}},ht.eat=function(e){return this.type===e?(this.next(),!0):!1},ht.isContextual=function(e){return this.type===b.name&&this.value===e&&!this.containsEsc},ht.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1},ht.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},ht.canInsertSemicolon=function(){return this.type===b.eof||this.type===b.braceR||St.test(this.input.slice(this.lastTokEnd,this.start))},ht.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},ht.semicolon=function(){!this.eat(b.semi)&&!this.insertSemicolon()&&this.unexpected()},ht.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},ht.expect=function(e){this.eat(e)||this.unexpected()},ht.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var as=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};ht.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}},ht.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,i=e.doubleProto;if(!t)return n>=0||i>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")},ht.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},ht.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var Q=et.prototype;Q.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==b.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var i=0,r=Object.keys(this.undefinedExports);i<r.length;i+=1){var s=r[i];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var Ph={kind:"loop"},jM={kind:"switch"};Q.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Bt.lastIndex=this.pos;var t=Bt.exec(this.input),n=this.pos+t[0].length,i=this.input.charCodeAt(n);if(i===91||i===92)return!0;if(e)return!1;if(i===123||i>55295&&i<56320)return!0;if(pn(i,!0)){for(var r=n+1;di(i=this.input.charCodeAt(r),!0);)++r;if(i===92||i>55295&&i<56320)return!0;var s=this.input.slice(n,r);if(!NM.test(s))return!0}return!1},Q.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Bt.lastIndex=this.pos;var e=Bt.exec(this.input),t=this.pos+e[0].length,n;return!St.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(di(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))},Q.parseStatement=function(e,t,n){var i=this.type,r=this.startNode(),s;switch(this.isLet(e)&&(i=b._var,s="let"),i){case b._break:case b._continue:return this.parseBreakContinueStatement(r,i.keyword);case b._debugger:return this.parseDebuggerStatement(r);case b._do:return this.parseDoStatement(r);case b._for:return this.parseForStatement(r);case b._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!e);case b._class:return e&&this.unexpected(),this.parseClass(r,!0);case b._if:return this.parseIfStatement(r);case b._return:return this.parseReturnStatement(r);case b._switch:return this.parseSwitchStatement(r);case b._throw:return this.parseThrowStatement(r);case b._try:return this.parseTryStatement(r);case b._const:case b._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(r,s);case b._while:return this.parseWhileStatement(r);case b._with:return this.parseWithStatement(r);case b.braceL:return this.parseBlock(!0,r);case b.semi:return this.parseEmptyStatement(r);case b._export:case b._import:if(this.options.ecmaVersion>10&&i===b._import){Bt.lastIndex=this.pos;var u=Bt.exec(this.input),a=this.pos+u[0].length,c=this.input.charCodeAt(a);if(c===40||c===46)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===b._import?this.parseImport(r):this.parseExport(r,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!e);var h=this.value,d=this.parseExpression();return i===b.name&&d.type==="Identifier"&&this.eat(b.colon)?this.parseLabeledStatement(r,h,d,e):this.parseExpressionStatement(r,d)}},Q.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(b.semi)||this.insertSemicolon()?e.label=null:this.type!==b.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var r=this.labels[i];if((e.label==null||r.name===e.label.name)&&(r.kind!=null&&(n||r.kind==="loop")||e.label&&n))break}return i===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},Q.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},Q.parseDoStatement=function(e){return this.next(),this.labels.push(Ph),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(b._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(b.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},Q.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Ph),this.enterScope(0),this.expect(b.parenL),this.type===b.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===b._var||this.type===b._const||n){var i=this.startNode(),r=n?"let":this.value;return this.next(),this.parseVar(i,!0,r),this.finishNode(i,"VariableDeclaration"),(this.type===b._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&i.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===b._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,i)):(t>-1&&this.unexpected(t),this.parseFor(e,i))}var s=this.isContextual("let"),u=!1,a=this.containsEsc,c=new as,h=this.start,d=t>-1?this.parseExprSubscripts(c,"await"):this.parseExpression(!0,c);return this.type===b._in||(u=this.options.ecmaVersion>=6&&this.isContextual("of"))?(t>-1?(this.type===b._in&&this.unexpected(t),e.await=!0):u&&this.options.ecmaVersion>=8&&(d.start===h&&!a&&d.type==="Identifier"&&d.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(e.await=!1)),s&&u&&this.raise(d.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(d,!1,c),this.checkLValPattern(d),this.parseForIn(e,d)):(this.checkExpressionErrors(c,!0),t>-1&&this.unexpected(t),this.parseFor(e,d))},Q.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,rr|(n?0:Dh),!1,t)},Q.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(b._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},Q.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(b.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},Q.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(b.braceL),this.labels.push(jM),this.enterScope(0);for(var t,n=!1;this.type!==b.braceR;)if(this.type===b._case||this.type===b._default){var i=this.type===b._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),i?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(b.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},Q.parseThrowStatement=function(e){return this.next(),St.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var $M=[];Q.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?ry:0),this.checkLValPattern(e,t?ay:yn),this.expect(b.parenR),e},Q.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===b._catch){var t=this.startNode();this.next(),this.eat(b.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(b._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},Q.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")},Q.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(Ph),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},Q.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},Q.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},Q.parseLabeledStatement=function(e,t,n,i){for(var r=0,s=this.labels;r<s.length;r+=1){var u=s[r];u.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===b._switch?"switch":null,c=this.labels.length-1;c>=0;c--){var h=this.labels[c];if(h.statementStart===e.start)h.statementStart=this.start,h.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(i?i.indexOf("label")===-1?i+"label":i:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},Q.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},Q.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(b.braceL),e&&this.enterScope(0);this.type!==b.braceR;){var i=this.parseStatement(null);t.body.push(i)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},Q.parseFor=function(e,t){return e.init=t,this.expect(b.semi),e.test=this.type===b.semi?null:this.parseExpression(),this.expect(b.semi),e.update=this.type===b.parenR?null:this.parseExpression(),this.expect(b.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},Q.parseForIn=function(e,t){var n=this.type===b._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(b.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},Q.parseVar=function(e,t,n,i){for(e.declarations=[],e.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(b.eq)?r.init=this.parseMaybeAssign(t):!i&&n==="const"&&!(this.type===b._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!i&&r.id.type!=="Identifier"&&!(t&&(this.type===b._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):r.init=null,e.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(b.comma))break}return e},Q.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?Ch:yn,!1)};var rr=1,Dh=2,cy=4;Q.parseFunction=function(e,t,n,i,r){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===b.star&&t&Dh&&this.unexpected(),e.generator=this.eat(b.star)),this.options.ecmaVersion>=8&&(e.async=!!i),t&rr&&(e.id=t&cy&&this.type!==b.name?null:this.parseIdent(),e.id&&!(t&Dh)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?Ch:yn:uy));var s=this.yieldPos,u=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(vh(e.async,e.generator)),t&rr||(e.id=this.type===b.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,r),this.yieldPos=s,this.awaitPos=u,this.awaitIdentPos=a,this.finishNode(e,t&rr?"FunctionDeclaration":"FunctionExpression")},Q.parseFunctionParams=function(e){this.expect(b.parenL),e.params=this.parseBindingList(b.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Q.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var i=this.enterClassBody(),r=this.startNode(),s=!1;for(r.body=[],this.expect(b.braceL);this.type!==b.braceR;){var u=this.parseClassElement(e.superClass!==null);u&&(r.body.push(u),u.type==="MethodDefinition"&&u.kind==="constructor"?(s&&this.raiseRecoverable(u.start,"Duplicate constructor in the same class"),s=!0):u.key&&u.key.type==="PrivateIdentifier"&&qM(i,u)&&this.raiseRecoverable(u.key.start,"Identifier '#"+u.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},Q.parseClassElement=function(e){if(this.eat(b.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),i="",r=!1,s=!1,u="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(b.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===b.star?a=!0:i="static"}if(n.static=a,!i&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===b.star)&&!this.canInsertSemicolon()?s=!0:i="async"),!i&&(t>=9||!s)&&this.eat(b.star)&&(r=!0),!i&&!s&&!r){var c=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?u=c:i=c)}if(i?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=i,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===b.parenL||u!=="method"||r||s){var h=!n.static&&os(n,"constructor"),d=h&&e;h&&u!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=h?"constructor":u,this.parseClassMethod(n,r,s,d)}else this.parseClassField(n);return n},Q.isClassElementNameStart=function(){return this.type===b.name||this.type===b.privateId||this.type===b.num||this.type===b.string||this.type===b.bracketL||this.type.keyword},Q.parseClassElementName=function(e){this.type===b.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},Q.parseClassMethod=function(e,t,n,i){var r=e.key;e.kind==="constructor"?(t&&this.raise(r.start,"Constructor can't be a generator"),n&&this.raise(r.start,"Constructor can't be an async method")):e.static&&os(e,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,i);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")},Q.parseClassField=function(e){if(os(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&os(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(b.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")},Q.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(ir|bh);this.type!==b.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")},Q.parseClassId=function(e,t){this.type===b.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,yn,!1)):(t===!0&&this.unexpected(),e.id=null)},Q.parseClassSuper=function(e){e.superClass=this.eat(b._extends)?this.parseExprSubscripts(null,!1):null},Q.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared},Q.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var i=this.privateNameStack.length,r=i===0?null:this.privateNameStack[i-1],s=0;s<n.length;++s){var u=n[s];pi(t,u.name)||(r?r.used.push(u):this.raiseRecoverable(u.start,"Private field '#"+u.name+"' must be declared in an enclosing class"))}};function qM(e,t){var n=t.key.name,i=e[n],r="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(r=(t.static?"s":"i")+t.kind),i==="iget"&&r==="iset"||i==="iset"&&r==="iget"||i==="sget"&&r==="sset"||i==="sset"&&r==="sget"?(e[n]="true",!1):i?!0:(e[n]=r,!1)}function os(e,t){var n=e.computed,i=e.key;return!n&&(i.type==="Identifier"&&i.name===t||i.type==="Literal"&&i.value===t)}Q.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==b.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")},Q.parseExport=function(e,t){if(this.next(),this.eat(b.star))return this.parseExportAllDeclaration(e,t);if(this.eat(b._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==b.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause());else{for(var n=0,i=e.specifiers;n<i.length;n+=1){var r=i[n];this.checkUnreserved(r.local),this.checkLocalExport(r.local),r.local.type==="Literal"&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},Q.parseExportDeclaration=function(e){return this.parseStatement(null)},Q.parseExportDefaultDeclaration=function(){var e;if(this.type===b._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,rr|cy,!1,e)}else if(this.type===b._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var i=this.parseMaybeAssign();return this.semicolon(),i}},Q.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),pi(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},Q.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var i=0,r=t.properties;i<r.length;i+=1){var s=r[i];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var u=0,a=t.elements;u<a.length;u+=1){var c=a[u];c&&this.checkPatternExport(e,c)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)},Q.checkVariableExport=function(e,t){if(e)for(var n=0,i=t;n<i.length;n+=1){var r=i[n];this.checkPatternExport(e,r.id)}},Q.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},Q.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")},Q.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(b.braceL);!this.eat(b.braceR);){if(n)n=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;t.push(this.parseExportSpecifier(e))}return t},Q.parseImport=function(e){return this.next(),this.type===b.string?(e.specifiers=$M,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===b.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},Q.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,yn),this.finishNode(e,"ImportSpecifier")},Q.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,yn),this.finishNode(e,"ImportDefaultSpecifier")},Q.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,yn),this.finishNode(e,"ImportNamespaceSpecifier")},Q.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===b.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(b.comma)))return e;if(this.type===b.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(b.braceL);!this.eat(b.braceR);){if(t)t=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;e.push(this.parseImportSpecifier())}return e},Q.parseWithClause=function(){var e=[];if(!this.eat(b._with))return e;this.expect(b.braceL);for(var t={},n=!0;!this.eat(b.braceR);){if(n)n=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;var i=this.parseImportAttribute(),r=i.key.type==="Identifier"?i.key.name:i.key.value;pi(t,r)&&this.raiseRecoverable(i.key.start,"Duplicate attribute key '"+r+"'"),t[r]=!0,e.push(i)}return e},Q.parseImportAttribute=function(){var e=this.startNode();return e.key=this.type===b.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(b.colon),this.type!==b.string&&this.unexpected(),e.value=this.parseExprAtom(),this.finishNode(e,"ImportAttribute")},Q.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===b.string){var e=this.parseLiteral(this.value);return ZM.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)},Q.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},Q.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var _t=et.prototype;_t.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var i=0,r=e.properties;i<r.length;i+=1){var s=r[i];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},_t.toAssignableList=function(e,t){for(var n=e.length,i=0;i<n;i++){var r=e[i];r&&this.toAssignable(r,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e},_t.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},_t.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==b.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},_t.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case b.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(b.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case b.braceL:return this.parseObj(!0)}return this.parseIdent()},_t.parseBindingList=function(e,t,n,i){for(var r=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(b.comma),t&&this.type===b.comma)r.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===b.ellipsis){var u=this.parseRestBinding();this.parseBindingListItem(u),r.push(u),this.type===b.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else r.push(this.parseAssignableListItem(i))}return r},_t.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t},_t.parseBindingListItem=function(e){return e},_t.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(b.eq))return n;var i=this.startNodeAt(e,t);return i.left=n,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},_t.checkLValSimple=function(e,t,n){t===void 0&&(t=us);var i=t!==us;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(i?"Binding ":"Assigning to ")+e.name+" in strict mode"),i&&(t===yn&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(pi(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==oy&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":i&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return i&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(i?"Binding":"Assigning to")+" rvalue")}},_t.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=us),e.type){case"ObjectPattern":for(var i=0,r=e.properties;i<r.length;i+=1){var s=r[i];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var u=0,a=e.elements;u<a.length;u+=1){var c=a[u];c&&this.checkLValInnerPattern(c,t,n)}break;default:this.checkLValSimple(e,t,n)}},_t.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=us),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var Gt=function(t,n,i,r,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!i,this.override=r,this.generator=!!s},Xe={b_stat:new Gt("{",!1),b_expr:new Gt("{",!0),b_tmpl:new Gt("${",!1),p_stat:new Gt("(",!1),p_expr:new Gt("(",!0),q_tmpl:new Gt("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new Gt("function",!1),f_expr:new Gt("function",!0),f_expr_gen:new Gt("function",!0,!1,null,!0),f_gen:new Gt("function",!1,!1,null,!0)},yi=et.prototype;yi.initialContext=function(){return[Xe.b_stat]},yi.curContext=function(){return this.context[this.context.length-1]},yi.braceIsBlock=function(e){var t=this.curContext();return t===Xe.f_expr||t===Xe.f_stat?!0:e===b.colon&&(t===Xe.b_stat||t===Xe.b_expr)?!t.isExpr:e===b._return||e===b.name&&this.exprAllowed?St.test(this.input.slice(this.lastTokEnd,this.start)):e===b._else||e===b.semi||e===b.eof||e===b.parenR||e===b.arrow?!0:e===b.braceL?t===Xe.b_stat:e===b._var||e===b._const||e===b.name?!1:!this.exprAllowed},yi.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1},yi.updateContext=function(e){var t,n=this.type;n.keyword&&e===b.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},yi.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)},b.parenR.updateContext=b.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===Xe.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr},b.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?Xe.b_stat:Xe.b_expr),this.exprAllowed=!0},b.dollarBraceL.updateContext=function(){this.context.push(Xe.b_tmpl),this.exprAllowed=!0},b.parenL.updateContext=function(e){var t=e===b._if||e===b._for||e===b._with||e===b._while;this.context.push(t?Xe.p_stat:Xe.p_expr),this.exprAllowed=!0},b.incDec.updateContext=function(){},b._function.updateContext=b._class.updateContext=function(e){e.beforeExpr&&e!==b._else&&!(e===b.semi&&this.curContext()!==Xe.p_stat)&&!(e===b._return&&St.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===b.colon||e===b.braceL)&&this.curContext()===Xe.b_stat)?this.context.push(Xe.f_expr):this.context.push(Xe.f_stat),this.exprAllowed=!1},b.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},b.backQuote.updateContext=function(){this.curContext()===Xe.q_tmpl?this.context.pop():this.context.push(Xe.q_tmpl),this.exprAllowed=!1},b.star.updateContext=function(e){if(e===b._function){var t=this.context.length-1;this.context[t]===Xe.f_expr?this.context[t]=Xe.f_expr_gen:this.context[t]=Xe.f_gen}this.exprAllowed=!0},b.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==b.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var fe=et.prototype;fe.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var i=e.key,r;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){r==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);return}r="$"+r;var u=t[r];if(u){var a;s==="init"?a=this.strict&&u.init||u.get||u.set:a=u.init||u[s],a&&this.raiseRecoverable(i.start,"Redefinition of property")}else u=t[r]={init:!1,get:!1,set:!1};u[s]=!0}},fe.parseExpression=function(e,t){var n=this.start,i=this.startLoc,r=this.parseMaybeAssign(e,t);if(this.type===b.comma){var s=this.startNodeAt(n,i);for(s.expressions=[r];this.eat(b.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return r},fe.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var i=!1,r=-1,s=-1,u=-1;t?(r=t.parenthesizedAssign,s=t.trailingComma,u=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new as,i=!0);var a=this.start,c=this.startLoc;(this.type===b.parenL||this.type===b.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var h=this.parseMaybeConditional(e,t);if(n&&(h=n.call(this,h,a,c)),this.type.isAssign){var d=this.startNodeAt(a,c);return d.operator=this.value,this.type===b.eq&&(h=this.toAssignable(h,!1,t)),i||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=h.start&&(t.shorthandAssign=-1),this.type===b.eq?this.checkLValPattern(h):this.checkLValSimple(h),d.left=h,this.next(),d.right=this.parseMaybeAssign(e),u>-1&&(t.doubleProto=u),this.finishNode(d,"AssignmentExpression")}else i&&this.checkExpressionErrors(t,!0);return r>-1&&(t.parenthesizedAssign=r),s>-1&&(t.trailingComma=s),h},fe.parseMaybeConditional=function(e,t){var n=this.start,i=this.startLoc,r=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return r;if(this.eat(b.question)){var s=this.startNodeAt(n,i);return s.test=r,s.consequent=this.parseMaybeAssign(),this.expect(b.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return r},fe.parseExprOps=function(e,t){var n=this.start,i=this.startLoc,r=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||r.start===n&&r.type==="ArrowFunctionExpression"?r:this.parseExprOp(r,n,i,-1,e)},fe.parseExprOp=function(e,t,n,i,r){var s=this.type.binop;if(s!=null&&(!r||this.type!==b._in)&&s>i){var u=this.type===b.logicalOR||this.type===b.logicalAND,a=this.type===b.coalesce;a&&(s=b.logicalAND.binop);var c=this.value;this.next();var h=this.start,d=this.startLoc,g=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),h,d,s,r),m=this.buildBinary(t,n,e,g,c,u||a);return(u&&this.type===b.coalesce||a&&(this.type===b.logicalOR||this.type===b.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(m,t,n,i,r)}return e},fe.buildBinary=function(e,t,n,i,r,s){i.type==="PrivateIdentifier"&&this.raise(i.start,"Private identifier can only be left side of binary expression");var u=this.startNodeAt(e,t);return u.left=n,u.operator=r,u.right=i,this.finishNode(u,s?"LogicalExpression":"BinaryExpression")},fe.parseMaybeUnary=function(e,t,n,i){var r=this.start,s=this.startLoc,u;if(this.isContextual("await")&&this.canAwait)u=this.parseAwait(i),t=!0;else if(this.type.prefix){var a=this.startNode(),c=this.type===b.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,c,i),this.checkExpressionErrors(e,!0),c?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&ly(a.argument)?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&Fh(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,u=this.finishNode(a,c?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===b.privateId)(i||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),u=this.parsePrivateIdent(),this.type!==b._in&&this.unexpected();else{if(u=this.parseExprSubscripts(e,i),this.checkExpressionErrors(e))return u;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(r,s);h.operator=this.value,h.prefix=!1,h.argument=u,this.checkLValSimple(u),this.next(),u=this.finishNode(h,"UpdateExpression")}}if(!n&&this.eat(b.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(r,s,u,this.parseMaybeUnary(null,!1,!1,i),"**",!1);else return u};function ly(e){return e.type==="Identifier"||e.type==="ParenthesizedExpression"&&ly(e.expression)}function Fh(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&Fh(e.expression)||e.type==="ParenthesizedExpression"&&Fh(e.expression)}fe.parseExprSubscripts=function(e,t){var n=this.start,i=this.startLoc,r=this.parseExprAtom(e,t);if(r.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return r;var s=this.parseSubscripts(r,n,i,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s},fe.parseSubscripts=function(e,t,n,i,r){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,u=!1;;){var a=this.parseSubscript(e,t,n,i,s,u,r);if(a.optional&&(u=!0),a===e||a.type==="ArrowFunctionExpression"){if(u){var c=this.startNodeAt(t,n);c.expression=a,a=this.finishNode(c,"ChainExpression")}return a}e=a}},fe.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(b.arrow)},fe.parseSubscriptAsyncArrow=function(e,t,n,i){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,i)},fe.parseSubscript=function(e,t,n,i,r,s,u){var a=this.options.ecmaVersion>=11,c=a&&this.eat(b.questionDot);i&&c&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var h=this.eat(b.bracketL);if(h||c&&this.type!==b.parenL&&this.type!==b.backQuote||this.eat(b.dot)){var d=this.startNodeAt(t,n);d.object=e,h?(d.property=this.parseExpression(),this.expect(b.bracketR)):this.type===b.privateId&&e.type!=="Super"?d.property=this.parsePrivateIdent():d.property=this.parseIdent(this.options.allowReserved!=="never"),d.computed=!!h,a&&(d.optional=c),e=this.finishNode(d,"MemberExpression")}else if(!i&&this.eat(b.parenL)){var g=new as,m=this.yieldPos,M=this.awaitPos,v=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var P=this.parseExprList(b.parenR,this.options.ecmaVersion>=8,!1,g);if(r&&!c&&this.shouldParseAsyncArrow())return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=m,this.awaitPos=M,this.awaitIdentPos=v,this.parseSubscriptAsyncArrow(t,n,P,u);this.checkExpressionErrors(g,!0),this.yieldPos=m||this.yieldPos,this.awaitPos=M||this.awaitPos,this.awaitIdentPos=v||this.awaitIdentPos;var w=this.startNodeAt(t,n);w.callee=e,w.arguments=P,a&&(w.optional=c),e=this.finishNode(w,"CallExpression")}else if(this.type===b.backQuote){(c||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var V=this.startNodeAt(t,n);V.tag=e,V.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(V,"TaggedTemplateExpression")}return e},fe.parseExprAtom=function(e,t,n){this.type===b.slash&&this.readRegexp();var i,r=this.potentialArrowAt===this.start;switch(this.type){case b._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),i=this.startNode(),this.next(),this.type===b.parenL&&!this.allowDirectSuper&&this.raise(i.start,"super() call outside constructor of a subclass"),this.type!==b.dot&&this.type!==b.bracketL&&this.type!==b.parenL&&this.unexpected(),this.finishNode(i,"Super");case b._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case b.name:var s=this.start,u=this.startLoc,a=this.containsEsc,c=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&c.name==="async"&&!this.canInsertSemicolon()&&this.eat(b._function))return this.overrideContext(Xe.f_expr),this.parseFunction(this.startNodeAt(s,u),0,!1,!0,t);if(r&&!this.canInsertSemicolon()){if(this.eat(b.arrow))return this.parseArrowExpression(this.startNodeAt(s,u),[c],!1,t);if(this.options.ecmaVersion>=8&&c.name==="async"&&this.type===b.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return c=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(b.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,u),[c],!0,t)}return c;case b.regexp:var h=this.value;return i=this.parseLiteral(h.value),i.regex={pattern:h.pattern,flags:h.flags},i;case b.num:case b.string:return this.parseLiteral(this.value);case b._null:case b._true:case b._false:return i=this.startNode(),i.value=this.type===b._null?null:this.type===b._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case b.parenL:var d=this.start,g=this.parseParenAndDistinguishExpression(r,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(g)&&(e.parenthesizedAssign=d),e.parenthesizedBind<0&&(e.parenthesizedBind=d)),g;case b.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(b.bracketR,!0,!0,e),this.finishNode(i,"ArrayExpression");case b.braceL:return this.overrideContext(Xe.b_expr),this.parseObj(!1,e);case b._function:return i=this.startNode(),this.next(),this.parseFunction(i,0);case b._class:return this.parseClass(this.startNode(),!1);case b._new:return this.parseNew();case b.backQuote:return this.parseTemplate();case b._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}},fe.parseExprAtomDefault=function(){this.unexpected()},fe.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===b.parenL&&!e)return this.parseDynamicImport(t);if(this.type===b.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}else this.unexpected()},fe.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(b.parenR)?e.options=null:(this.expect(b.comma),this.afterTrailingComma(b.parenR)?e.options=null:(e.options=this.parseMaybeAssign(),this.eat(b.parenR)||(this.expect(b.comma),this.afterTrailingComma(b.parenR)||this.unexpected())));else if(!this.eat(b.parenR)){var t=this.start;this.eat(b.comma)&&this.eat(b.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},fe.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},fe.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},fe.parseParenExpression=function(){this.expect(b.parenL);var e=this.parseExpression();return this.expect(b.parenR),e},fe.shouldParseArrow=function(e){return!this.canInsertSemicolon()},fe.parseParenAndDistinguishExpression=function(e,t){var n=this.start,i=this.startLoc,r,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var u=this.start,a=this.startLoc,c=[],h=!0,d=!1,g=new as,m=this.yieldPos,M=this.awaitPos,v;for(this.yieldPos=0,this.awaitPos=0;this.type!==b.parenR;)if(h?h=!1:this.expect(b.comma),s&&this.afterTrailingComma(b.parenR,!0)){d=!0;break}else if(this.type===b.ellipsis){v=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===b.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else c.push(this.parseMaybeAssign(!1,g,this.parseParenItem));var P=this.lastTokEnd,w=this.lastTokEndLoc;if(this.expect(b.parenR),e&&this.shouldParseArrow(c)&&this.eat(b.arrow))return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=m,this.awaitPos=M,this.parseParenArrowList(n,i,c,t);(!c.length||d)&&this.unexpected(this.lastTokStart),v&&this.unexpected(v),this.checkExpressionErrors(g,!0),this.yieldPos=m||this.yieldPos,this.awaitPos=M||this.awaitPos,c.length>1?(r=this.startNodeAt(u,a),r.expressions=c,this.finishNodeAt(r,"SequenceExpression",P,w)):r=c[0]}else r=this.parseParenExpression();if(this.options.preserveParens){var V=this.startNodeAt(n,i);return V.expression=r,this.finishNode(V,"ParenthesizedExpression")}else return r},fe.parseParenItem=function(e){return e},fe.parseParenArrowList=function(e,t,n,i){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,i)};var KM=[];fe.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===b.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var i=this.start,r=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),i,r,!0,!1),this.eat(b.parenL)?e.arguments=this.parseExprList(b.parenR,this.options.ecmaVersion>=8,!1):e.arguments=KM,this.finishNode(e,"NewExpression")},fe.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===b.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===b.backQuote,this.finishNode(n,"TemplateElement")},fe.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var i=this.parseTemplateElement({isTagged:t});for(n.quasis=[i];!i.tail;)this.type===b.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(b.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(b.braceR),n.quasis.push(i=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},fe.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===b.name||this.type===b.num||this.type===b.string||this.type===b.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===b.star)&&!St.test(this.input.slice(this.lastTokEnd,this.start))},fe.parseObj=function(e,t){var n=this.startNode(),i=!0,r={};for(n.properties=[],this.next();!this.eat(b.braceR);){if(i)i=!1;else if(this.expect(b.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(b.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,r,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},fe.parseProperty=function(e,t){var n=this.startNode(),i,r,s,u;if(this.options.ecmaVersion>=9&&this.eat(b.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===b.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===b.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,u=this.startLoc),e||(i=this.eat(b.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!i&&this.isAsyncProp(n)?(r=!0,i=this.options.ecmaVersion>=9&&this.eat(b.star),this.parsePropertyName(n)):r=!1,this.parsePropertyValue(n,e,i,r,s,u,t,a),this.finishNode(n,"Property")},fe.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")},fe.parsePropertyValue=function(e,t,n,i,r,s,u,a){(n||i)&&this.type===b.colon&&this.unexpected(),this.eat(b.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,u),e.kind="init"):this.options.ecmaVersion>=6&&this.type===b.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,i)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==b.comma&&this.type!==b.braceR&&this.type!==b.eq?((n||i)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||i)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r),e.kind="init",t?e.value=this.parseMaybeDefault(r,s,this.copyNode(e.key)):this.type===b.eq&&u?(u.shorthandAssign<0&&(u.shorthandAssign=this.start),e.value=this.parseMaybeDefault(r,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()},fe.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(b.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(b.bracketR),e.key;e.computed=!1}return e.key=this.type===b.num||this.type===b.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},fe.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},fe.parseMethod=function(e,t,n){var i=this.startNode(),r=this.yieldPos,s=this.awaitPos,u=this.awaitIdentPos;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=e),this.options.ecmaVersion>=8&&(i.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(vh(t,i.generator)|bh|(n?sy:0)),this.expect(b.parenL),i.params=this.parseBindingList(b.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1,!0,!1),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=u,this.finishNode(i,"FunctionExpression")},fe.parseArrowExpression=function(e,t,n,i){var r=this.yieldPos,s=this.awaitPos,u=this.awaitIdentPos;return this.enterScope(vh(n,!1)|iy),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,i),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=u,this.finishNode(e,"ArrowFunctionExpression")},fe.parseFunctionBody=function(e,t,n,i){var r=t&&this.type!==b.braceL,s=this.strict,u=!1;if(r)e.body=this.parseMaybeAssign(i),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(u=this.strictDirective(this.end),u&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var c=this.labels;this.labels=[],u&&(this.strict=!0),this.checkParams(e,!s&&!u&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,oy),e.body=this.parseBlock(!1,void 0,u&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=c}this.exitScope()},fe.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var i=n[t];if(i.type!=="Identifier")return!1}return!0},fe.checkParams=function(e,t){for(var n=Object.create(null),i=0,r=e.params;i<r.length;i+=1){var s=r[i];this.checkLValInnerPattern(s,Ch,t?null:n)}},fe.parseExprList=function(e,t,n,i){for(var r=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(b.comma),t&&this.afterTrailingComma(e))break;var u=void 0;n&&this.type===b.comma?u=null:this.type===b.ellipsis?(u=this.parseSpread(i),i&&this.type===b.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):u=this.parseMaybeAssign(!1,i),r.push(u)}return r},fe.checkUnreserved=function(e){var t=e.start,n=e.end,i=e.name;if(this.inGenerator&&i==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&i==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&i==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(i==="arguments"||i==="await")&&this.raise(t,"Cannot use "+i+" in class static initialization block"),this.keywords.test(i)&&this.raise(t,"Unexpected keyword '"+i+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(i)&&(!this.inAsync&&i==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+i+"' is reserved"))}},fe.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t},fe.parseIdentNode=function(){var e=this.startNode();return this.type===b.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=b.name):this.unexpected(),e},fe.parsePrivateIdent=function(){var e=this.startNode();return this.type===b.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e},fe.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===b.semi||this.canInsertSemicolon()||this.type!==b.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(b.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},fe.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var cs=et.prototype;cs.raise=function(e,t){var n=ey(this.input,e);t+=" ("+n.line+":"+n.column+")";var i=new SyntaxError(t);throw i.pos=e,i.loc=n,i.raisedAt=this.pos,i},cs.raiseRecoverable=cs.raise,cs.curPosition=function(){if(this.options.locations)return new tr(this.curLine,this.pos-this.lineStart)};var Vn=et.prototype,HM=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Vn.enterScope=function(e){this.scopeStack.push(new HM(e))},Vn.exitScope=function(){this.scopeStack.pop()},Vn.treatFunctionsAsVarInScope=function(e){return e.flags&gi||!this.inModule&&e.flags&nr},Vn.declareName=function(e,t,n){var i=!1;if(t===yn){var r=this.currentScope();i=r.lexical.indexOf(e)>-1||r.functions.indexOf(e)>-1||r.var.indexOf(e)>-1,r.lexical.push(e),this.inModule&&r.flags&nr&&delete this.undefinedExports[e]}else if(t===ay){var s=this.currentScope();s.lexical.push(e)}else if(t===uy){var u=this.currentScope();this.treatFunctionsAsVar?i=u.lexical.indexOf(e)>-1:i=u.lexical.indexOf(e)>-1||u.var.indexOf(e)>-1,u.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var c=this.scopeStack[a];if(c.lexical.indexOf(e)>-1&&!(c.flags&ry&&c.lexical[0]===e)||!this.treatFunctionsAsVarInScope(c)&&c.functions.indexOf(e)>-1){i=!0;break}if(c.var.push(e),this.inModule&&c.flags&nr&&delete this.undefinedExports[e],c.flags&Mh)break}i&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},Vn.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)},Vn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Vn.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&Mh)return t}},Vn.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&Mh&&!(t.flags&iy))return t}};var ls=function(t,n,i){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new ss(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},sr=et.prototype;sr.startNode=function(){return new ls(this,this.start,this.startLoc)},sr.startNodeAt=function(e,t){return new ls(this,e,t)};function fy(e,t,n,i){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=i),this.options.ranges&&(e.range[1]=n),e}sr.finishNode=function(e,t){return fy.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},sr.finishNodeAt=function(e,t,n,i){return fy.call(this,e,t,n,i)},sr.copyNode=function(e){var t=new ls(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var UM="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",hy="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",dy=hy+" Extended_Pictographic",my=dy,py=my+" EBase EComp EMod EPres ExtPict",gy=py,JM=gy,YM={9:hy,10:dy,11:my,12:py,13:gy,14:JM},QM="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",ev={9:"",10:"",11:"",12:"",13:"",14:QM},yy="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Ay="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",by=Ay+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",My=by+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",vy=My+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Cy=vy+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",tv=Cy+" "+UM,nv={9:Ay,10:by,11:My,12:vy,13:Cy,14:tv},Py={};function iv(e){var t=Py[e]={binary:In(YM[e]+" "+yy),binaryOfStrings:In(ev[e]),nonBinary:{General_Category:In(yy),Script:In(nv[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var Eh=0,Dy=[9,10,11,12,13,14];Eh<Dy.length;Eh+=1){var rv=Dy[Eh];iv(rv)}var Y=et.prototype,fs=function(t,n){this.parent=t,this.base=n||this};fs.prototype.separatedFrom=function(t){for(var n=this;n;n=n.parent)for(var i=t;i;i=i.parent)if(n.base===i.base&&n!==i)return!0;return!1},fs.prototype.sibling=function(){return new fs(this.parent,this.base)};var en=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Py[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};en.prototype.reset=function(t,n,i){var r=i.indexOf("v")!==-1,s=i.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=i,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)},en.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},en.prototype.at=function(t,n){n===void 0&&(n=!1);var i=this.source,r=i.length;if(t>=r)return-1;var s=i.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=r)return s;var u=i.charCodeAt(t+1);return u>=56320&&u<=57343?(s<<10)+u-56613888:s},en.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var i=this.source,r=i.length;if(t>=r)return r;var s=i.charCodeAt(t),u;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=r||(u=i.charCodeAt(t+1))<56320||u>57343?t+1:t+2},en.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)},en.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)},en.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)},en.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1},en.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var i=this.pos,r=0,s=t;r<s.length;r+=1){var u=s[r],a=this.at(i,n);if(a===-1||a!==u)return!1;i=this.nextIndex(i,n)}return this.pos=i,!0},Y.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,i=!1,r=!1,s=0;s<n.length;s++){var u=n.charAt(s);t.indexOf(u)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(u,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),u==="u"&&(i=!0),u==="v"&&(r=!0)}this.options.ecmaVersion>=15&&i&&r&&this.raise(e.start,"Invalid regular expression flag")};function sv(e){for(var t in e)return!0;return!1}Y.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&sv(e.groupNames)&&(e.switchN=!0,this.regexp_pattern(e))},Y.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames=Object.create(null),e.backReferenceNames.length=0,e.branchID=null,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var i=n[t];e.groupNames[i]||e.raise("Invalid named capture referenced")}},Y.regexp_disjunction=function(e){var t=this.options.ecmaVersion>=16;for(t&&(e.branchID=new fs(e.branchID,null)),this.regexp_alternative(e);e.eat(124);)t&&(e.branchID=e.branchID.sibling()),this.regexp_alternative(e);t&&(e.branchID=e.branchID.parent),this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},Y.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},Y.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1},Y.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},Y.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1},Y.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},Y.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var i=0,r=-1;if(this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue),e.eat(125)))return r!==-1&&r<i&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},Y.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},Y.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},Y.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)){if(this.options.ecmaVersion>=16){var n=this.regexp_eatModifiers(e),i=e.eat(45);if(n||i){for(var r=0;r<n.length;r++){var s=n.charAt(r);n.indexOf(s,r+1)>-1&&e.raise("Duplicate regular expression modifiers")}if(i){var u=this.regexp_eatModifiers(e);!n&&!u&&e.current()===58&&e.raise("Invalid regular expression modifiers");for(var a=0;a<u.length;a++){var c=u.charAt(a);(u.indexOf(c,a+1)>-1||n.indexOf(c)>-1)&&e.raise("Duplicate regular expression modifiers")}}}}if(e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}}e.pos=t}return!1},Y.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},Y.regexp_eatModifiers=function(e){for(var t="",n=0;(n=e.current())!==-1&&uv(n);)t+=gn(n),e.advance();return t};function uv(e){return e===105||e===109||e===115}Y.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},Y.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},Y.regexp_eatSyntaxCharacter=function(e){var t=e.current();return Fy(t)?(e.lastIntValue=t,e.advance(),!0):!1};function Fy(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}Y.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!Fy(n);)e.advance();return e.pos!==t},Y.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1},Y.regexp_groupSpecifier=function(e){if(e.eat(63)){this.regexp_eatGroupName(e)||e.raise("Invalid group");var t=this.options.ecmaVersion>=16,n=e.groupNames[e.lastStringValue];if(n)if(t)for(var i=0,r=n;i<r.length;i+=1){var s=r[i];s.separatedFrom(e.branchID)||e.raise("Duplicate capture group name")}else e.raise("Duplicate capture group name");t?(n||(e.groupNames[e.lastStringValue]=[])).push(e.branchID):e.groupNames[e.lastStringValue]=!0}},Y.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},Y.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=gn(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=gn(e.lastIntValue);return!0}return!1},Y.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,i=e.current(n);return e.advance(n),i===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(i=e.lastIntValue),av(i)?(e.lastIntValue=i,!0):(e.pos=t,!1)};function av(e){return pn(e,!0)||e===36||e===95}Y.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,i=e.current(n);return e.advance(n),i===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(i=e.lastIntValue),ov(i)?(e.lastIntValue=i,!0):(e.pos=t,!1)};function ov(e){return di(e,!0)||e===36||e===95||e===8204||e===8205}Y.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},Y.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},Y.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},Y.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},Y.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},Y.regexp_eatZero=function(e){return e.current()===48&&!hs(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1},Y.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1},Y.regexp_eatControlLetter=function(e){var t=e.current();return Ey(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function Ey(e){return e>=65&&e<=90||e>=97&&e<=122}Y.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,i=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var r=e.lastIntValue;if(i&&r>=55296&&r<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var u=e.lastIntValue;if(u>=56320&&u<=57343)return e.lastIntValue=(r-55296)*1024+(u-56320)+65536,!0}e.pos=s,e.lastIntValue=r}return!0}if(i&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&cv(e.lastIntValue))return!0;i&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function cv(e){return e>=0&&e<=1114111}Y.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1},Y.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var wy=0,An=1,xt=2;Y.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(lv(t))return e.lastIntValue=-1,e.advance(),An;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var i;if(e.eat(123)&&(i=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&i===xt&&e.raise("Invalid property name"),i;e.raise("Invalid property name")}return wy};function lv(e){return e===100||e===68||e===115||e===83||e===119||e===87}Y.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,i),An}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,r)}return wy},Y.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){pi(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},Y.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return An;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return xt;e.raise("Invalid property name")},Y.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";Sy(t=e.current());)e.lastStringValue+=gn(t),e.advance();return e.lastStringValue!==""};function Sy(e){return Ey(e)||e===95}Y.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";fv(t=e.current());)e.lastStringValue+=gn(t),e.advance();return e.lastStringValue!==""};function fv(e){return Sy(e)||hs(e)}Y.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},Y.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===xt&&e.raise("Negated character class may contain strings"),!0}return!1},Y.regexp_classContents=function(e){return e.current()===93?An:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),An)},Y.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}},Y.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||xy(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var i=e.current();return i!==93?(e.lastIntValue=i,e.advance(),!0):!1},Y.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},Y.regexp_classSetExpression=function(e){var t=An,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===xt&&(t=xt);for(var i=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==xt&&(t=An);continue}e.raise("Invalid character in character class")}if(i!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(i!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===xt&&(t=xt)}},Y.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var i=e.lastIntValue;return n!==-1&&i!==-1&&n>i&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1},Y.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?An:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)},Y.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),i=this.regexp_classContents(e);if(e.eat(93))return n&&i===xt&&e.raise("Negated character class may contain strings"),i;e.pos=t}if(e.eat(92)){var r=this.regexp_eatCharacterClassEscape(e);if(r)return r;e.pos=t}return null},Y.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null},Y.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===xt&&(t=xt);return t},Y.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?An:xt},Y.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&hv(n)||dv(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function hv(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function dv(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}Y.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return mv(t)?(e.lastIntValue=t,e.advance(),!0):!1};function mv(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}Y.regexp_eatClassControlLetter=function(e){var t=e.current();return hs(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1},Y.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},Y.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;hs(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function hs(e){return e>=48&&e<=57}Y.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;By(n=e.current());)e.lastIntValue=16*e.lastIntValue+_y(n),e.advance();return e.pos!==t};function By(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function _y(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}Y.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1},Y.regexp_eatOctalDigit=function(e){var t=e.current();return xy(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function xy(e){return e>=48&&e<=55}Y.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var i=0;i<t;++i){var r=e.current();if(!By(r))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+_y(r),e.advance()}return!0};var wh=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new ss(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},Ce=et.prototype;Ce.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new wh(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Ce.getToken=function(){return this.next(),new wh(this)},typeof Symbol<"u"&&(Ce[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===b.eof,value:t}}}}),Ce.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(b.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())},Ce.readToken=function(e){return pn(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)},Ce.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888},Ce.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var i=void 0,r=t;(i=H2(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=i;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())},Ce.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!mi(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},Ce.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&U2.test(String.fromCharCode(e)))++this.pos;else break e}}},Ce.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},Ce.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(b.ellipsis)):(++this.pos,this.finishToken(b.dot))},Ce.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(b.assign,2):this.finishOp(b.slash,1)},Ce.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,i=e===42?b.star:b.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,i=b.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(b.assign,n+1):this.finishOp(i,n)},Ce.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(b.assign,3)}return this.finishOp(e===124?b.logicalOR:b.logicalAND,2)}return t===61?this.finishOp(b.assign,2):this.finishOp(e===124?b.bitwiseOR:b.bitwiseAND,1)},Ce.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(b.assign,2):this.finishOp(b.bitwiseXOR,1)},Ce.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||St.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(b.incDec,2):t===61?this.finishOp(b.assign,2):this.finishOp(b.plusMin,1)},Ce.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(b.assign,n+1):this.finishOp(b.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(b.relational,n))},Ce.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(b.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(b.arrow)):this.finishOp(e===61?b.eq:b.prefix,1)},Ce.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(b.questionDot,2)}if(t===63){if(e>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(b.assign,3)}return this.finishOp(b.coalesce,2)}}return this.finishOp(b.question,1)},Ce.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),pn(t,!0)||t===92))return this.finishToken(b.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+gn(t)+"'")},Ce.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(b.parenL);case 41:return++this.pos,this.finishToken(b.parenR);case 59:return++this.pos,this.finishToken(b.semi);case 44:return++this.pos,this.finishToken(b.comma);case 91:return++this.pos,this.finishToken(b.bracketL);case 93:return++this.pos,this.finishToken(b.bracketR);case 123:return++this.pos,this.finishToken(b.braceL);case 125:return++this.pos,this.finishToken(b.braceR);case 58:return++this.pos,this.finishToken(b.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(b.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(b.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+gn(e)+"'")},Ce.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},Ce.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(St.test(i)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(i==="[")t=!0;else if(i==="]"&&t)t=!1;else if(i==="/"&&!t)break;e=i==="\\"}++this.pos}var r=this.input.slice(n,this.pos);++this.pos;var s=this.pos,u=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new en(this));a.reset(n,r,u),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var c=null;try{c=new RegExp(r,u)}catch{}return this.finishToken(b.regexp,{pattern:r,flags:u,value:c})},Ce.readInt=function(e,t,n){for(var i=this.options.ecmaVersion>=12&&t===void 0,r=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,u=0,a=0,c=0,h=t??1/0;c<h;++c,++this.pos){var d=this.input.charCodeAt(this.pos),g=void 0;if(i&&d===95){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),c===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=d;continue}if(d>=97?g=d-97+10:d>=65?g=d-65+10:d>=48&&d<=57?g=d-48:g=1/0,g>=e)break;a=d,u=u*e+g}return i&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:u};function pv(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function ky(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}Ce.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=ky(this.input.slice(t,this.pos)),++this.pos):pn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(b.num,n)},Ce.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var i=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&i===110){var r=ky(this.input.slice(t,this.pos));return++this.pos,pn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(b.num,r)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),i===46&&!n&&(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),(i===69||i===101)&&!n&&(i=this.input.charCodeAt(++this.pos),(i===43||i===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),pn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=pv(this.input.slice(t,this.pos),n);return this.finishToken(b.num,s)},Ce.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t},Ce.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===e)break;i===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):i===8232||i===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(mi(i)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(b.string,t)};var Iy={};Ce.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===Iy)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1},Ce.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Iy;this.raise(e,t)},Ce.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===b.template||this.type===b.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(b.dollarBraceL)):(++this.pos,this.finishToken(b.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(b.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(mi(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},Ce.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(b.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},Ce.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return gn(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var i=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(i,8);return r>255&&(i=i.slice(0,-1),r=parseInt(i,8)),this.pos+=i.length-1,t=this.input.charCodeAt(this.pos),(i!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-i.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return mi(t)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(t)}},Ce.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n},Ce.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(di(r,i))this.pos+=r<=65535?1:2;else if(r===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var u=this.readCodePoint();(t?pn:di)(u,i)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=gn(u),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)},Ce.readWord=function(){var e=this.readWord1(),t=b.name;return this.keywords.test(e)&&(t=gh[e]),this.finishToken(t,e)};var gv="8.14.0";et.acorn={Parser:et,version:gv,defaultOptions:yh,Position:tr,SourceLocation:ss,getLineInfo:ey,Node:ls,TokenType:we,tokTypes:b,keywordTypes:gh,TokContext:Gt,tokContexts:Xe,isIdentifierChar:di,isIdentifierStart:pn,Token:wh,isNewLine:mi,lineBreak:St,lineBreakG:LM,nonASCIIwhitespace:U2};function yv(e,t){return et.parse(e,t)}var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),n}var Sh={},Bh={},Ny;function Mv(){return Ny||(Ny=1,function(e){(function t(n){var i,r,s,u,a,c;function h(S){var x={},I,N;for(I in S)S.hasOwnProperty(I)&&(N=S[I],typeof N=="object"&&N!==null?x[I]=h(N):x[I]=N);return x}function d(S,x){var I,N,H,X;for(N=S.length,H=0;N;)I=N>>>1,X=H+I,x(S[X])?N=I:(H=X+1,N-=I+1);return H}i={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},s={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},u={},a={},c={},r={Break:u,Skip:a,Remove:c};function g(S,x){this.parent=S,this.key=x}g.prototype.replace=function(x){this.parent[this.key]=x},g.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function m(S,x,I,N){this.node=S,this.path=x,this.wrap=I,this.ref=N}function M(){}M.prototype.path=function(){var x,I,N,H,X,ee;function z(O,ne){if(Array.isArray(ne))for(N=0,H=ne.length;N<H;++N)O.push(ne[N]);else O.push(ne)}if(!this.__current.path)return null;for(X=[],x=2,I=this.__leavelist.length;x<I;++x)ee=this.__leavelist[x],z(X,ee.path);return z(X,this.__current.path),X},M.prototype.type=function(){var S=this.current();return S.type||this.__current.wrap},M.prototype.parents=function(){var x,I,N;for(N=[],x=1,I=this.__leavelist.length;x<I;++x)N.push(this.__leavelist[x].node);return N},M.prototype.current=function(){return this.__current.node},M.prototype.__execute=function(x,I){var N,H;return H=void 0,N=this.__current,this.__current=I,this.__state=null,x&&(H=x.call(this,I.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=N,H},M.prototype.notify=function(x){this.__state=x},M.prototype.skip=function(){this.notify(a)},M.prototype.break=function(){this.notify(u)},M.prototype.remove=function(){this.notify(c)},M.prototype.__initialize=function(S,x){this.visitor=x,this.root=S,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,x.fallback==="iteration"?this.__fallback=Object.keys:typeof x.fallback=="function"&&(this.__fallback=x.fallback),this.__keys=s,x.keys&&(this.__keys=Object.assign(Object.create(this.__keys),x.keys))};function v(S){return S==null?!1:typeof S=="object"&&typeof S.type=="string"}function P(S,x){return(S===i.ObjectExpression||S===i.ObjectPattern)&&x==="properties"}function w(S,x){for(var I=S.length-1;I>=0;--I)if(S[I].node===x)return!0;return!1}M.prototype.traverse=function(x,I){var N,H,X,ee,z,O,ne,be,pe,he,te,Ve;for(this.__initialize(x,I),Ve={},N=this.__worklist,H=this.__leavelist,N.push(new m(x,null,null,null)),H.push(new m(null,null,null,null));N.length;){if(X=N.pop(),X===Ve){if(X=H.pop(),O=this.__execute(I.leave,X),this.__state===u||O===u)return;continue}if(X.node){if(O=this.__execute(I.enter,X),this.__state===u||O===u)return;if(N.push(Ve),H.push(X),this.__state===a||O===a)continue;if(ee=X.node,z=ee.type||X.wrap,he=this.__keys[z],!he)if(this.__fallback)he=this.__fallback(ee);else throw new Error("Unknown node type "+z+".");for(be=he.length;(be-=1)>=0;)if(ne=he[be],te=ee[ne],!!te){if(Array.isArray(te)){for(pe=te.length;(pe-=1)>=0;)if(te[pe]&&!w(H,te[pe])){if(P(z,he[be]))X=new m(te[pe],[ne,pe],"Property",null);else if(v(te[pe]))X=new m(te[pe],[ne,pe],null,null);else continue;N.push(X)}}else if(v(te)){if(w(H,te))continue;N.push(new m(te,ne,null,null))}}}}},M.prototype.replace=function(x,I){var N,H,X,ee,z,O,ne,be,pe,he,te,Ve,ce;function ye(q){var De,at,Ue,Me;if(q.ref.remove()){for(at=q.ref.key,Me=q.ref.parent,De=N.length;De--;)if(Ue=N[De],Ue.ref&&Ue.ref.parent===Me){if(Ue.ref.key<at)break;--Ue.ref.key}}}for(this.__initialize(x,I),te={},N=this.__worklist,H=this.__leavelist,Ve={root:x},O=new m(x,null,null,new g(Ve,"root")),N.push(O),H.push(O);N.length;){if(O=N.pop(),O===te){if(O=H.pop(),z=this.__execute(I.leave,O),z!==void 0&&z!==u&&z!==a&&z!==c&&O.ref.replace(z),(this.__state===c||z===c)&&ye(O),this.__state===u||z===u)return Ve.root;continue}if(z=this.__execute(I.enter,O),z!==void 0&&z!==u&&z!==a&&z!==c&&(O.ref.replace(z),O.node=z),(this.__state===c||z===c)&&(ye(O),O.node=null),this.__state===u||z===u)return Ve.root;if(X=O.node,!!X&&(N.push(te),H.push(O),!(this.__state===a||z===a))){if(ee=X.type||O.wrap,pe=this.__keys[ee],!pe)if(this.__fallback)pe=this.__fallback(X);else throw new Error("Unknown node type "+ee+".");for(ne=pe.length;(ne-=1)>=0;)if(ce=pe[ne],he=X[ce],!!he)if(Array.isArray(he)){for(be=he.length;(be-=1)>=0;)if(he[be]){if(P(ee,pe[ne]))O=new m(he[be],[ce,be],"Property",new g(he,be));else if(v(he[be]))O=new m(he[be],[ce,be],null,new g(he,be));else continue;N.push(O)}}else v(he)&&N.push(new m(he,ce,null,new g(X,ce)))}}return Ve.root};function V(S,x){var I=new M;return I.traverse(S,x)}function k(S,x){var I=new M;return I.replace(S,x)}function Z(S,x){var I;return I=d(x,function(H){return H.range[0]>S.range[0]}),S.extendedRange=[S.range[0],S.range[1]],I!==x.length&&(S.extendedRange[1]=x[I].range[0]),I-=1,I>=0&&(S.extendedRange[0]=x[I].range[1]),S}function _(S,x,I){var N=[],H,X,ee,z;if(!S.range)throw new Error("attachComments needs range information");if(!I.length){if(x.length){for(ee=0,X=x.length;ee<X;ee+=1)H=h(x[ee]),H.extendedRange=[0,S.range[0]],N.push(H);S.leadingComments=N}return S}for(ee=0,X=x.length;ee<X;ee+=1)N.push(Z(h(x[ee]),I));return z=0,V(S,{enter:function(O){for(var ne;z<N.length&&(ne=N[z],!(ne.extendedRange[1]>O.range[0]));)ne.extendedRange[1]===O.range[0]?(O.leadingComments||(O.leadingComments=[]),O.leadingComments.push(ne),N.splice(z,1)):z+=1;if(z===N.length)return r.Break;if(N[z].extendedRange[0]>O.range[1])return r.Skip}}),z=0,V(S,{leave:function(O){for(var ne;z<N.length&&(ne=N[z],!(O.range[1]<ne.extendedRange[0]));)O.range[1]===ne.extendedRange[0]?(O.trailingComments||(O.trailingComments=[]),O.trailingComments.push(ne),N.splice(z,1)):z+=1;if(z===N.length)return r.Break;if(N[z].extendedRange[0]>O.range[1])return r.Skip}}),S}return n.Syntax=i,n.traverse=V,n.replace=k,n.attachComments=_,n.VisitorKeys=s,n.VisitorOption=r,n.Controller=M,n.cloneEnvironment=function(){return t({})},n})(e)}(Bh)),Bh}var ur={},_h={exports:{}},Ty;function vv(){return Ty||(Ty=1,function(){function e(u){if(u==null)return!1;switch(u.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function t(u){if(u==null)return!1;switch(u.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function n(u){if(u==null)return!1;switch(u.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function i(u){return n(u)||u!=null&&u.type==="FunctionDeclaration"}function r(u){switch(u.type){case"IfStatement":return u.alternate!=null?u.alternate:u.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return u.body}return null}function s(u){var a;if(u.type!=="IfStatement"||u.alternate==null)return!1;a=u.consequent;do{if(a.type==="IfStatement"&&a.alternate==null)return!0;a=r(a)}while(a);return!1}_h.exports={isExpression:e,isStatement:n,isIterationStatement:t,isSourceElement:i,isProblematicIfStatement:s,trailingStatement:r}}()),_h.exports}var xh={exports:{}},Ry;function Ly(){return Ry||(Ry=1,function(){var e,t,n,i,r,s;t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},e={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function u(w){return 48<=w&&w<=57}function a(w){return 48<=w&&w<=57||97<=w&&w<=102||65<=w&&w<=70}function c(w){return w>=48&&w<=55}n=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function h(w){return w===32||w===9||w===11||w===12||w===160||w>=5760&&n.indexOf(w)>=0}function d(w){return w===10||w===13||w===8232||w===8233}function g(w){if(w<=65535)return String.fromCharCode(w);var V=String.fromCharCode(Math.floor((w-65536)/1024)+55296),k=String.fromCharCode((w-65536)%1024+56320);return V+k}for(i=new Array(128),s=0;s<128;++s)i[s]=s>=97&&s<=122||s>=65&&s<=90||s===36||s===95;for(r=new Array(128),s=0;s<128;++s)r[s]=s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===36||s===95;function m(w){return w<128?i[w]:t.NonAsciiIdentifierStart.test(g(w))}function M(w){return w<128?r[w]:t.NonAsciiIdentifierPart.test(g(w))}function v(w){return w<128?i[w]:e.NonAsciiIdentifierStart.test(g(w))}function P(w){return w<128?r[w]:e.NonAsciiIdentifierPart.test(g(w))}xh.exports={isDecimalDigit:u,isHexDigit:a,isOctalDigit:c,isWhiteSpace:h,isLineTerminator:d,isIdentifierStartES5:m,isIdentifierPartES5:M,isIdentifierStartES6:v,isIdentifierPartES6:P}}()),xh.exports}var kh={exports:{}},Gy;function Cv(){return Gy||(Gy=1,function(){var e=Ly();function t(m){switch(m){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function n(m,M){return!M&&m==="yield"?!1:i(m,M)}function i(m,M){if(M&&t(m))return!0;switch(m.length){case 2:return m==="if"||m==="in"||m==="do";case 3:return m==="var"||m==="for"||m==="new"||m==="try";case 4:return m==="this"||m==="else"||m==="case"||m==="void"||m==="with"||m==="enum";case 5:return m==="while"||m==="break"||m==="catch"||m==="throw"||m==="const"||m==="yield"||m==="class"||m==="super";case 6:return m==="return"||m==="typeof"||m==="delete"||m==="switch"||m==="export"||m==="import";case 7:return m==="default"||m==="finally"||m==="extends";case 8:return m==="function"||m==="continue"||m==="debugger";case 10:return m==="instanceof";default:return!1}}function r(m,M){return m==="null"||m==="true"||m==="false"||n(m,M)}function s(m,M){return m==="null"||m==="true"||m==="false"||i(m,M)}function u(m){return m==="eval"||m==="arguments"}function a(m){var M,v,P;if(m.length===0||(P=m.charCodeAt(0),!e.isIdentifierStartES5(P)))return!1;for(M=1,v=m.length;M<v;++M)if(P=m.charCodeAt(M),!e.isIdentifierPartES5(P))return!1;return!0}function c(m,M){return(m-55296)*1024+(M-56320)+65536}function h(m){var M,v,P,w,V;if(m.length===0)return!1;for(V=e.isIdentifierStartES6,M=0,v=m.length;M<v;++M){if(P=m.charCodeAt(M),55296<=P&&P<=56319){if(++M,M>=v||(w=m.charCodeAt(M),!(56320<=w&&w<=57343)))return!1;P=c(P,w)}if(!V(P))return!1;V=e.isIdentifierPartES6}return!0}function d(m,M){return a(m)&&!r(m,M)}function g(m,M){return h(m)&&!s(m,M)}kh.exports={isKeywordES5:n,isKeywordES6:i,isReservedWordES5:r,isReservedWordES6:s,isRestrictedWord:u,isIdentifierNameES5:a,isIdentifierNameES6:h,isIdentifierES5:d,isIdentifierES6:g}}()),kh.exports}var Xy;function Pv(){return Xy||(Xy=1,function(){ur.ast=vv(),ur.code=Ly(),ur.keyword=Cv()}()),ur}var ar={},Ih={},ds={},ms={},Zy;function Dv(){if(Zy)return ms;Zy=1;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return ms.encode=function(t){if(0<=t&&t<e.length)return e[t];throw new TypeError("Must be between 0 and 63: "+t)},ms.decode=function(t){var n=65,i=90,r=97,s=122,u=48,a=57,c=43,h=47,d=26,g=52;return n<=t&&t<=i?t-n:r<=t&&t<=s?t-r+d:u<=t&&t<=a?t-u+g:t==c?62:t==h?63:-1},ms}var Wy;function zy(){if(Wy)return ds;Wy=1;var e=Dv(),t=5,n=1<<t,i=n-1,r=n;function s(a){return a<0?(-a<<1)+1:(a<<1)+0}function u(a){var c=(a&1)===1,h=a>>1;return c?-h:h}return ds.encode=function(c){var h="",d,g=s(c);do d=g&i,g>>>=t,g>0&&(d|=r),h+=e.encode(d);while(g>0);return h},ds.decode=function(c,h,d){var g=c.length,m=0,M=0,v,P;do{if(h>=g)throw new Error("Expected more digits in base 64 VLQ value.");if(P=e.decode(c.charCodeAt(h++)),P===-1)throw new Error("Invalid base64 digit: "+c.charAt(h-1));v=!!(P&r),P&=i,m=m+(P<<M),M+=t}while(v);d.value=u(m),d.rest=h},ds}var Vh={},Oy;function or(){return Oy||(Oy=1,function(e){function t(_,S,x){if(S in _)return _[S];if(arguments.length===3)return x;throw new Error('"'+S+'" is a required argument.')}e.getArg=t;var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,i=/^data:.+\,.+$/;function r(_){var S=_.match(n);return S?{scheme:S[1],auth:S[2],host:S[3],port:S[4],path:S[5]}:null}e.urlParse=r;function s(_){var S="";return _.scheme&&(S+=_.scheme+":"),S+="//",_.auth&&(S+=_.auth+"@"),_.host&&(S+=_.host),_.port&&(S+=":"+_.port),_.path&&(S+=_.path),S}e.urlGenerate=s;function u(_){var S=_,x=r(_);if(x){if(!x.path)return _;S=x.path}for(var I=e.isAbsolute(S),N=S.split(/\/+/),H,X=0,ee=N.length-1;ee>=0;ee--)H=N[ee],H==="."?N.splice(ee,1):H===".."?X++:X>0&&(H===""?(N.splice(ee+1,X),X=0):(N.splice(ee,2),X--));return S=N.join("/"),S===""&&(S=I?"/":"."),x?(x.path=S,s(x)):S}e.normalize=u;function a(_,S){_===""&&(_="."),S===""&&(S=".");var x=r(S),I=r(_);if(I&&(_=I.path||"/"),x&&!x.scheme)return I&&(x.scheme=I.scheme),s(x);if(x||S.match(i))return S;if(I&&!I.host&&!I.path)return I.host=S,s(I);var N=S.charAt(0)==="/"?S:u(_.replace(/\/+$/,"")+"/"+S);return I?(I.path=N,s(I)):N}e.join=a,e.isAbsolute=function(_){return _.charAt(0)==="/"||n.test(_)};function c(_,S){_===""&&(_="."),_=_.replace(/\/$/,"");for(var x=0;S.indexOf(_+"/")!==0;){var I=_.lastIndexOf("/");if(I<0||(_=_.slice(0,I),_.match(/^([^\/]+:\/)?\/*$/)))return S;++x}return Array(x+1).join("../")+S.substr(_.length+1)}e.relative=c;var h=function(){var _=Object.create(null);return!("__proto__"in _)}();function d(_){return _}function g(_){return M(_)?"$"+_:_}e.toSetString=h?d:g;function m(_){return M(_)?_.slice(1):_}e.fromSetString=h?d:m;function M(_){if(!_)return!1;var S=_.length;if(S<9||_.charCodeAt(S-1)!==95||_.charCodeAt(S-2)!==95||_.charCodeAt(S-3)!==111||_.charCodeAt(S-4)!==116||_.charCodeAt(S-5)!==111||_.charCodeAt(S-6)!==114||_.charCodeAt(S-7)!==112||_.charCodeAt(S-8)!==95||_.charCodeAt(S-9)!==95)return!1;for(var x=S-10;x>=0;x--)if(_.charCodeAt(x)!==36)return!1;return!0}function v(_,S,x){var I=w(_.source,S.source);return I!==0||(I=_.originalLine-S.originalLine,I!==0)||(I=_.originalColumn-S.originalColumn,I!==0||x)||(I=_.generatedColumn-S.generatedColumn,I!==0)||(I=_.generatedLine-S.generatedLine,I!==0)?I:w(_.name,S.name)}e.compareByOriginalPositions=v;function P(_,S,x){var I=_.generatedLine-S.generatedLine;return I!==0||(I=_.generatedColumn-S.generatedColumn,I!==0||x)||(I=w(_.source,S.source),I!==0)||(I=_.originalLine-S.originalLine,I!==0)||(I=_.originalColumn-S.originalColumn,I!==0)?I:w(_.name,S.name)}e.compareByGeneratedPositionsDeflated=P;function w(_,S){return _===S?0:_===null?1:S===null?-1:_>S?1:-1}function V(_,S){var x=_.generatedLine-S.generatedLine;return x!==0||(x=_.generatedColumn-S.generatedColumn,x!==0)||(x=w(_.source,S.source),x!==0)||(x=_.originalLine-S.originalLine,x!==0)||(x=_.originalColumn-S.originalColumn,x!==0)?x:w(_.name,S.name)}e.compareByGeneratedPositionsInflated=V;function k(_){return JSON.parse(_.replace(/^\)]}'[^\n]*\n/,""))}e.parseSourceMapInput=k;function Z(_,S,x){if(S=S||"",_&&(_[_.length-1]!=="/"&&S[0]!=="/"&&(_+="/"),S=_+S),x){var I=r(x);if(!I)throw new Error("sourceMapURL could not be parsed");if(I.path){var N=I.path.lastIndexOf("/");N>=0&&(I.path=I.path.substring(0,N+1))}S=a(s(I),S)}return u(S)}e.computeSourceURL=Z}(Vh)),Vh}var Nh={},jy;function $y(){if(jy)return Nh;jy=1;var e=or(),t=Object.prototype.hasOwnProperty,n=typeof Map<"u";function i(){this._array=[],this._set=n?new Map:Object.create(null)}return i.fromArray=function(s,u){for(var a=new i,c=0,h=s.length;c<h;c++)a.add(s[c],u);return a},i.prototype.size=function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(s,u){var a=n?s:e.toSetString(s),c=n?this.has(s):t.call(this._set,a),h=this._array.length;(!c||u)&&this._array.push(s),c||(n?this._set.set(s,h):this._set[a]=h)},i.prototype.has=function(s){if(n)return this._set.has(s);var u=e.toSetString(s);return t.call(this._set,u)},i.prototype.indexOf=function(s){if(n){var u=this._set.get(s);if(u>=0)return u}else{var a=e.toSetString(s);if(t.call(this._set,a))return this._set[a]}throw new Error('"'+s+'" is not in the set.')},i.prototype.at=function(s){if(s>=0&&s<this._array.length)return this._array[s];throw new Error("No element indexed by "+s)},i.prototype.toArray=function(){return this._array.slice()},Nh.ArraySet=i,Nh}var Th={},qy;function Fv(){if(qy)return Th;qy=1;var e=or();function t(i,r){var s=i.generatedLine,u=r.generatedLine,a=i.generatedColumn,c=r.generatedColumn;return u>s||u==s&&c>=a||e.compareByGeneratedPositionsInflated(i,r)<=0}function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return n.prototype.unsortedForEach=function(r,s){this._array.forEach(r,s)},n.prototype.add=function(r){t(this._last,r)?(this._last=r,this._array.push(r)):(this._sorted=!1,this._array.push(r))},n.prototype.toArray=function(){return this._sorted||(this._array.sort(e.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Th.MappingList=n,Th}var Ky;function Hy(){if(Ky)return Ih;Ky=1;var e=zy(),t=or(),n=$y().ArraySet,i=Fv().MappingList;function r(s){s||(s={}),this._file=t.getArg(s,"file",null),this._sourceRoot=t.getArg(s,"sourceRoot",null),this._skipValidation=t.getArg(s,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new i,this._sourcesContents=null}return r.prototype._version=3,r.fromSourceMap=function(u){var a=u.sourceRoot,c=new r({file:u.file,sourceRoot:a});return u.eachMapping(function(h){var d={generated:{line:h.generatedLine,column:h.generatedColumn}};h.source!=null&&(d.source=h.source,a!=null&&(d.source=t.relative(a,d.source)),d.original={line:h.originalLine,column:h.originalColumn},h.name!=null&&(d.name=h.name)),c.addMapping(d)}),u.sources.forEach(function(h){var d=h;a!==null&&(d=t.relative(a,h)),c._sources.has(d)||c._sources.add(d);var g=u.sourceContentFor(h);g!=null&&c.setSourceContent(h,g)}),c},r.prototype.addMapping=function(u){var a=t.getArg(u,"generated"),c=t.getArg(u,"original",null),h=t.getArg(u,"source",null),d=t.getArg(u,"name",null);this._skipValidation||this._validateMapping(a,c,h,d),h!=null&&(h=String(h),this._sources.has(h)||this._sources.add(h)),d!=null&&(d=String(d),this._names.has(d)||this._names.add(d)),this._mappings.add({generatedLine:a.line,generatedColumn:a.column,originalLine:c!=null&&c.line,originalColumn:c!=null&&c.column,source:h,name:d})},r.prototype.setSourceContent=function(u,a){var c=u;this._sourceRoot!=null&&(c=t.relative(this._sourceRoot,c)),a!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[t.toSetString(c)]=a):this._sourcesContents&&(delete this._sourcesContents[t.toSetString(c)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},r.prototype.applySourceMap=function(u,a,c){var h=a;if(a==null){if(u.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);h=u.file}var d=this._sourceRoot;d!=null&&(h=t.relative(d,h));var g=new n,m=new n;this._mappings.unsortedForEach(function(M){if(M.source===h&&M.originalLine!=null){var v=u.originalPositionFor({line:M.originalLine,column:M.originalColumn});v.source!=null&&(M.source=v.source,c!=null&&(M.source=t.join(c,M.source)),d!=null&&(M.source=t.relative(d,M.source)),M.originalLine=v.line,M.originalColumn=v.column,v.name!=null&&(M.name=v.name))}var P=M.source;P!=null&&!g.has(P)&&g.add(P);var w=M.name;w!=null&&!m.has(w)&&m.add(w)},this),this._sources=g,this._names=m,u.sources.forEach(function(M){var v=u.sourceContentFor(M);v!=null&&(c!=null&&(M=t.join(c,M)),d!=null&&(M=t.relative(d,M)),this.setSourceContent(M,v))},this)},r.prototype._validateMapping=function(u,a,c,h){if(a&&typeof a.line!="number"&&typeof a.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(u&&"line"in u&&"column"in u&&u.line>0&&u.column>=0&&!a&&!c&&!h)){if(u&&"line"in u&&"column"in u&&a&&"line"in a&&"column"in a&&u.line>0&&u.column>=0&&a.line>0&&a.column>=0&&c)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:u,source:c,original:a,name:h}))}},r.prototype._serializeMappings=function(){for(var u=0,a=1,c=0,h=0,d=0,g=0,m="",M,v,P,w,V=this._mappings.toArray(),k=0,Z=V.length;k<Z;k++){if(v=V[k],M="",v.generatedLine!==a)for(u=0;v.generatedLine!==a;)M+=";",a++;else if(k>0){if(!t.compareByGeneratedPositionsInflated(v,V[k-1]))continue;M+=","}M+=e.encode(v.generatedColumn-u),u=v.generatedColumn,v.source!=null&&(w=this._sources.indexOf(v.source),M+=e.encode(w-g),g=w,M+=e.encode(v.originalLine-1-h),h=v.originalLine-1,M+=e.encode(v.originalColumn-c),c=v.originalColumn,v.name!=null&&(P=this._names.indexOf(v.name),M+=e.encode(P-d),d=P)),m+=M}return m},r.prototype._generateSourcesContent=function(u,a){return u.map(function(c){if(!this._sourcesContents)return null;a!=null&&(c=t.relative(a,c));var h=t.toSetString(c);return Object.prototype.hasOwnProperty.call(this._sourcesContents,h)?this._sourcesContents[h]:null},this)},r.prototype.toJSON=function(){var u={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(u.file=this._file),this._sourceRoot!=null&&(u.sourceRoot=this._sourceRoot),this._sourcesContents&&(u.sourcesContent=this._generateSourcesContent(u.sources,u.sourceRoot)),u},r.prototype.toString=function(){return JSON.stringify(this.toJSON())},Ih.SourceMapGenerator=r,Ih}var cr={},Rh={},Uy;function Ev(){return Uy||(Uy=1,function(e){e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function t(n,i,r,s,u,a){var c=Math.floor((i-n)/2)+n,h=u(r,s[c],!0);return h===0?c:h>0?i-c>1?t(c,i,r,s,u,a):a==e.LEAST_UPPER_BOUND?i<s.length?i:-1:c:c-n>1?t(n,c,r,s,u,a):a==e.LEAST_UPPER_BOUND?c:n<0?-1:n}e.search=function(i,r,s,u){if(r.length===0)return-1;var a=t(-1,r.length,i,r,s,u||e.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&s(r[a],r[a-1],!0)===0;)--a;return a}}(Rh)),Rh}var Lh={},Jy;function wv(){if(Jy)return Lh;Jy=1;function e(i,r,s){var u=i[r];i[r]=i[s],i[s]=u}function t(i,r){return Math.round(i+Math.random()*(r-i))}function n(i,r,s,u){if(s<u){var a=t(s,u),c=s-1;e(i,a,u);for(var h=i[u],d=s;d<u;d++)r(i[d],h)<=0&&(c+=1,e(i,c,d));e(i,c+1,d);var g=c+1;n(i,r,s,g-1),n(i,r,g+1,u)}}return Lh.quickSort=function(i,r){n(i,r,0,i.length-1)},Lh}var Yy;function Sv(){if(Yy)return cr;Yy=1;var e=or(),t=Ev(),n=$y().ArraySet,i=zy(),r=wv().quickSort;function s(h,d){var g=h;return typeof h=="string"&&(g=e.parseSourceMapInput(h)),g.sections!=null?new c(g,d):new u(g,d)}s.fromSourceMap=function(h,d){return u.fromSourceMap(h,d)},s.prototype._version=3,s.prototype.__generatedMappings=null,Object.defineProperty(s.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),s.prototype.__originalMappings=null,Object.defineProperty(s.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),s.prototype._charIsMappingSeparator=function(d,g){var m=d.charAt(g);return m===";"||m===","},s.prototype._parseMappings=function(d,g){throw new Error("Subclasses must implement _parseMappings")},s.GENERATED_ORDER=1,s.ORIGINAL_ORDER=2,s.GREATEST_LOWER_BOUND=1,s.LEAST_UPPER_BOUND=2,s.prototype.eachMapping=function(d,g,m){var M=g||null,v=m||s.GENERATED_ORDER,P;switch(v){case s.GENERATED_ORDER:P=this._generatedMappings;break;case s.ORIGINAL_ORDER:P=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var w=this.sourceRoot;P.map(function(V){var k=V.source===null?null:this._sources.at(V.source);return k=e.computeSourceURL(w,k,this._sourceMapURL),{source:k,generatedLine:V.generatedLine,generatedColumn:V.generatedColumn,originalLine:V.originalLine,originalColumn:V.originalColumn,name:V.name===null?null:this._names.at(V.name)}},this).forEach(d,M)},s.prototype.allGeneratedPositionsFor=function(d){var g=e.getArg(d,"line"),m={source:e.getArg(d,"source"),originalLine:g,originalColumn:e.getArg(d,"column",0)};if(m.source=this._findSourceIndex(m.source),m.source<0)return[];var M=[],v=this._findMapping(m,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,t.LEAST_UPPER_BOUND);if(v>=0){var P=this._originalMappings[v];if(d.column===void 0)for(var w=P.originalLine;P&&P.originalLine===w;)M.push({line:e.getArg(P,"generatedLine",null),column:e.getArg(P,"generatedColumn",null),lastColumn:e.getArg(P,"lastGeneratedColumn",null)}),P=this._originalMappings[++v];else for(var V=P.originalColumn;P&&P.originalLine===g&&P.originalColumn==V;)M.push({line:e.getArg(P,"generatedLine",null),column:e.getArg(P,"generatedColumn",null),lastColumn:e.getArg(P,"lastGeneratedColumn",null)}),P=this._originalMappings[++v]}return M},cr.SourceMapConsumer=s;function u(h,d){var g=h;typeof h=="string"&&(g=e.parseSourceMapInput(h));var m=e.getArg(g,"version"),M=e.getArg(g,"sources"),v=e.getArg(g,"names",[]),P=e.getArg(g,"sourceRoot",null),w=e.getArg(g,"sourcesContent",null),V=e.getArg(g,"mappings"),k=e.getArg(g,"file",null);if(m!=this._version)throw new Error("Unsupported version: "+m);P&&(P=e.normalize(P)),M=M.map(String).map(e.normalize).map(function(Z){return P&&e.isAbsolute(P)&&e.isAbsolute(Z)?e.relative(P,Z):Z}),this._names=n.fromArray(v.map(String),!0),this._sources=n.fromArray(M,!0),this._absoluteSources=this._sources.toArray().map(function(Z){return e.computeSourceURL(P,Z,d)}),this.sourceRoot=P,this.sourcesContent=w,this._mappings=V,this._sourceMapURL=d,this.file=k}u.prototype=Object.create(s.prototype),u.prototype.consumer=s,u.prototype._findSourceIndex=function(h){var d=h;if(this.sourceRoot!=null&&(d=e.relative(this.sourceRoot,d)),this._sources.has(d))return this._sources.indexOf(d);var g;for(g=0;g<this._absoluteSources.length;++g)if(this._absoluteSources[g]==h)return g;return-1},u.fromSourceMap=function(d,g){var m=Object.create(u.prototype),M=m._names=n.fromArray(d._names.toArray(),!0),v=m._sources=n.fromArray(d._sources.toArray(),!0);m.sourceRoot=d._sourceRoot,m.sourcesContent=d._generateSourcesContent(m._sources.toArray(),m.sourceRoot),m.file=d._file,m._sourceMapURL=g,m._absoluteSources=m._sources.toArray().map(function(x){return e.computeSourceURL(m.sourceRoot,x,g)});for(var P=d._mappings.toArray().slice(),w=m.__generatedMappings=[],V=m.__originalMappings=[],k=0,Z=P.length;k<Z;k++){var _=P[k],S=new a;S.generatedLine=_.generatedLine,S.generatedColumn=_.generatedColumn,_.source&&(S.source=v.indexOf(_.source),S.originalLine=_.originalLine,S.originalColumn=_.originalColumn,_.name&&(S.name=M.indexOf(_.name)),V.push(S)),w.push(S)}return r(m.__originalMappings,e.compareByOriginalPositions),m},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function a(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}u.prototype._parseMappings=function(d,g){for(var m=1,M=0,v=0,P=0,w=0,V=0,k=d.length,Z=0,_={},S={},x=[],I=[],N,H,X,ee,z;Z<k;)if(d.charAt(Z)===";")m++,Z++,M=0;else if(d.charAt(Z)===",")Z++;else{for(N=new a,N.generatedLine=m,ee=Z;ee<k&&!this._charIsMappingSeparator(d,ee);ee++);if(H=d.slice(Z,ee),X=_[H],X)Z+=H.length;else{for(X=[];Z<ee;)i.decode(d,Z,S),z=S.value,Z=S.rest,X.push(z);if(X.length===2)throw new Error("Found a source, but no line and column");if(X.length===3)throw new Error("Found a source and line, but no column");_[H]=X}N.generatedColumn=M+X[0],M=N.generatedColumn,X.length>1&&(N.source=w+X[1],w+=X[1],N.originalLine=v+X[2],v=N.originalLine,N.originalLine+=1,N.originalColumn=P+X[3],P=N.originalColumn,X.length>4&&(N.name=V+X[4],V+=X[4])),I.push(N),typeof N.originalLine=="number"&&x.push(N)}r(I,e.compareByGeneratedPositionsDeflated),this.__generatedMappings=I,r(x,e.compareByOriginalPositions),this.__originalMappings=x},u.prototype._findMapping=function(d,g,m,M,v,P){if(d[m]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+d[m]);if(d[M]<0)throw new TypeError("Column must be greater than or equal to 0, got "+d[M]);return t.search(d,g,v,P)},u.prototype.computeColumnSpans=function(){for(var d=0;d<this._generatedMappings.length;++d){var g=this._generatedMappings[d];if(d+1<this._generatedMappings.length){var m=this._generatedMappings[d+1];if(g.generatedLine===m.generatedLine){g.lastGeneratedColumn=m.generatedColumn-1;continue}}g.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(d){var g={generatedLine:e.getArg(d,"line"),generatedColumn:e.getArg(d,"column")},m=this._findMapping(g,this._generatedMappings,"generatedLine","generatedColumn",e.compareByGeneratedPositionsDeflated,e.getArg(d,"bias",s.GREATEST_LOWER_BOUND));if(m>=0){var M=this._generatedMappings[m];if(M.generatedLine===g.generatedLine){var v=e.getArg(M,"source",null);v!==null&&(v=this._sources.at(v),v=e.computeSourceURL(this.sourceRoot,v,this._sourceMapURL));var P=e.getArg(M,"name",null);return P!==null&&(P=this._names.at(P)),{source:v,line:e.getArg(M,"originalLine",null),column:e.getArg(M,"originalColumn",null),name:P}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(d){return d==null}):!1},u.prototype.sourceContentFor=function(d,g){if(!this.sourcesContent)return null;var m=this._findSourceIndex(d);if(m>=0)return this.sourcesContent[m];var M=d;this.sourceRoot!=null&&(M=e.relative(this.sourceRoot,M));var v;if(this.sourceRoot!=null&&(v=e.urlParse(this.sourceRoot))){var P=M.replace(/^file:\/\//,"");if(v.scheme=="file"&&this._sources.has(P))return this.sourcesContent[this._sources.indexOf(P)];if((!v.path||v.path=="/")&&this._sources.has("/"+M))return this.sourcesContent[this._sources.indexOf("/"+M)]}if(g)return null;throw new Error('"'+M+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(d){var g=e.getArg(d,"source");if(g=this._findSourceIndex(g),g<0)return{line:null,column:null,lastColumn:null};var m={source:g,originalLine:e.getArg(d,"line"),originalColumn:e.getArg(d,"column")},M=this._findMapping(m,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,e.getArg(d,"bias",s.GREATEST_LOWER_BOUND));if(M>=0){var v=this._originalMappings[M];if(v.source===m.source)return{line:e.getArg(v,"generatedLine",null),column:e.getArg(v,"generatedColumn",null),lastColumn:e.getArg(v,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},cr.BasicSourceMapConsumer=u;function c(h,d){var g=h;typeof h=="string"&&(g=e.parseSourceMapInput(h));var m=e.getArg(g,"version"),M=e.getArg(g,"sections");if(m!=this._version)throw new Error("Unsupported version: "+m);this._sources=new n,this._names=new n;var v={line:-1,column:0};this._sections=M.map(function(P){if(P.url)throw new Error("Support for url field in sections not implemented.");var w=e.getArg(P,"offset"),V=e.getArg(w,"line"),k=e.getArg(w,"column");if(V<v.line||V===v.line&&k<v.column)throw new Error("Section offsets must be ordered and non-overlapping.");return v=w,{generatedOffset:{generatedLine:V+1,generatedColumn:k+1},consumer:new s(e.getArg(P,"map"),d)}})}return c.prototype=Object.create(s.prototype),c.prototype.constructor=s,c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){for(var h=[],d=0;d<this._sections.length;d++)for(var g=0;g<this._sections[d].consumer.sources.length;g++)h.push(this._sections[d].consumer.sources[g]);return h}}),c.prototype.originalPositionFor=function(d){var g={generatedLine:e.getArg(d,"line"),generatedColumn:e.getArg(d,"column")},m=t.search(g,this._sections,function(v,P){var w=v.generatedLine-P.generatedOffset.generatedLine;return w||v.generatedColumn-P.generatedOffset.generatedColumn}),M=this._sections[m];return M?M.consumer.originalPositionFor({line:g.generatedLine-(M.generatedOffset.generatedLine-1),column:g.generatedColumn-(M.generatedOffset.generatedLine===g.generatedLine?M.generatedOffset.generatedColumn-1:0),bias:d.bias}):{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(d){return d.consumer.hasContentsOfAllSources()})},c.prototype.sourceContentFor=function(d,g){for(var m=0;m<this._sections.length;m++){var M=this._sections[m],v=M.consumer.sourceContentFor(d,!0);if(v)return v}if(g)return null;throw new Error('"'+d+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(d){for(var g=0;g<this._sections.length;g++){var m=this._sections[g];if(m.consumer._findSourceIndex(e.getArg(d,"source"))!==-1){var M=m.consumer.generatedPositionFor(d);if(M){var v={line:M.line+(m.generatedOffset.generatedLine-1),column:M.column+(m.generatedOffset.generatedLine===M.line?m.generatedOffset.generatedColumn-1:0)};return v}}}return{line:null,column:null}},c.prototype._parseMappings=function(d,g){this.__generatedMappings=[],this.__originalMappings=[];for(var m=0;m<this._sections.length;m++)for(var M=this._sections[m],v=M.consumer._generatedMappings,P=0;P<v.length;P++){var w=v[P],V=M.consumer._sources.at(w.source);V=e.computeSourceURL(M.consumer.sourceRoot,V,this._sourceMapURL),this._sources.add(V),V=this._sources.indexOf(V);var k=null;w.name&&(k=M.consumer._names.at(w.name),this._names.add(k),k=this._names.indexOf(k));var Z={source:V,generatedLine:w.generatedLine+(M.generatedOffset.generatedLine-1),generatedColumn:w.generatedColumn+(M.generatedOffset.generatedLine===w.generatedLine?M.generatedOffset.generatedColumn-1:0),originalLine:w.originalLine,originalColumn:w.originalColumn,name:k};this.__generatedMappings.push(Z),typeof Z.originalLine=="number"&&this.__originalMappings.push(Z)}r(this.__generatedMappings,e.compareByGeneratedPositionsDeflated),r(this.__originalMappings,e.compareByOriginalPositions)},cr.IndexedSourceMapConsumer=c,cr}var Gh={},Qy;function Bv(){if(Qy)return Gh;Qy=1;var e=Hy().SourceMapGenerator,t=or(),n=/(\r?\n)/,i=10,r="$$$isSourceNode$$$";function s(u,a,c,h,d){this.children=[],this.sourceContents={},this.line=u??null,this.column=a??null,this.source=c??null,this.name=d??null,this[r]=!0,h!=null&&this.add(h)}return s.fromStringWithSourceMap=function(a,c,h){var d=new s,g=a.split(n),m=0,M=function(){var k=_(),Z=_()||"";return k+Z;function _(){return m<g.length?g[m++]:void 0}},v=1,P=0,w=null;return c.eachMapping(function(k){if(w!==null)if(v<k.generatedLine)V(w,M()),v++,P=0;else{var Z=g[m]||"",_=Z.substr(0,k.generatedColumn-P);g[m]=Z.substr(k.generatedColumn-P),P=k.generatedColumn,V(w,_),w=k;return}for(;v<k.generatedLine;)d.add(M()),v++;if(P<k.generatedColumn){var Z=g[m]||"";d.add(Z.substr(0,k.generatedColumn)),g[m]=Z.substr(k.generatedColumn),P=k.generatedColumn}w=k},this),m<g.length&&(w&&V(w,M()),d.add(g.splice(m).join(""))),c.sources.forEach(function(k){var Z=c.sourceContentFor(k);Z!=null&&(h!=null&&(k=t.join(h,k)),d.setSourceContent(k,Z))}),d;function V(k,Z){if(k===null||k.source===void 0)d.add(Z);else{var _=h?t.join(h,k.source):k.source;d.add(new s(k.originalLine,k.originalColumn,_,Z,k.name))}}},s.prototype.add=function(a){if(Array.isArray(a))a.forEach(function(c){this.add(c)},this);else if(a[r]||typeof a=="string")a&&this.children.push(a);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+a);return this},s.prototype.prepend=function(a){if(Array.isArray(a))for(var c=a.length-1;c>=0;c--)this.prepend(a[c]);else if(a[r]||typeof a=="string")this.children.unshift(a);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+a);return this},s.prototype.walk=function(a){for(var c,h=0,d=this.children.length;h<d;h++)c=this.children[h],c[r]?c.walk(a):c!==""&&a(c,{source:this.source,line:this.line,column:this.column,name:this.name})},s.prototype.join=function(a){var c,h,d=this.children.length;if(d>0){for(c=[],h=0;h<d-1;h++)c.push(this.children[h]),c.push(a);c.push(this.children[h]),this.children=c}return this},s.prototype.replaceRight=function(a,c){var h=this.children[this.children.length-1];return h[r]?h.replaceRight(a,c):typeof h=="string"?this.children[this.children.length-1]=h.replace(a,c):this.children.push("".replace(a,c)),this},s.prototype.setSourceContent=function(a,c){this.sourceContents[t.toSetString(a)]=c},s.prototype.walkSourceContents=function(a){for(var c=0,h=this.children.length;c<h;c++)this.children[c][r]&&this.children[c].walkSourceContents(a);for(var d=Object.keys(this.sourceContents),c=0,h=d.length;c<h;c++)a(t.fromSetString(d[c]),this.sourceContents[d[c]])},s.prototype.toString=function(){var a="";return this.walk(function(c){a+=c}),a},s.prototype.toStringWithSourceMap=function(a){var c={code:"",line:1,column:0},h=new e(a),d=!1,g=null,m=null,M=null,v=null;return this.walk(function(P,w){c.code+=P,w.source!==null&&w.line!==null&&w.column!==null?((g!==w.source||m!==w.line||M!==w.column||v!==w.name)&&h.addMapping({source:w.source,original:{line:w.line,column:w.column},generated:{line:c.line,column:c.column},name:w.name}),g=w.source,m=w.line,M=w.column,v=w.name,d=!0):d&&(h.addMapping({generated:{line:c.line,column:c.column}}),g=null,d=!1);for(var V=0,k=P.length;V<k;V++)P.charCodeAt(V)===i?(c.line++,c.column=0,V+1===k?(g=null,d=!1):d&&h.addMapping({source:w.source,original:{line:w.line,column:w.column},generated:{line:c.line,column:c.column},name:w.name})):c.column++}),this.walkSourceContents(function(P,w){h.setSourceContent(P,w)}),{code:c.code,map:h}},Gh.SourceNode=s,Gh}var e3;function _v(){return e3||(e3=1,ar.SourceMapGenerator=Hy().SourceMapGenerator,ar.SourceMapConsumer=Sv().SourceMapConsumer,ar.SourceNode=Bv().SourceNode),ar}const xv={name:"escodegen",description:"ECMAScript code generator",homepage:"http://github.com/estools/escodegen",main:"escodegen.js",bin:{esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},files:["LICENSE.BSD","README.md","bin","escodegen.js","package.json"],version:"2.1.0",engines:{node:">=6.0"},maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],repository:{type:"git",url:"http://github.com/estools/escodegen.git"},dependencies:{estraverse:"^5.2.0",esutils:"^2.0.2",esprima:"^4.0.1"},optionalDependencies:{"source-map":"~0.6.1"},devDependencies:{acorn:"^8.0.4",bluebird:"^3.4.7","bower-registry-client":"^1.0.0",chai:"^4.2.0","chai-exclude":"^2.0.2","commonjs-everywhere":"^0.9.7",gulp:"^4.0.2","gulp-eslint":"^6.0.0","gulp-mocha":"^7.0.2",minimist:"^1.2.5",optionator:"^0.9.1",semver:"^7.3.4"},license:"BSD-2-Clause",scripts:{test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"./node_modules/.bin/cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"./node_modules/.bin/cjsify -a path: tools/entry-point.js > escodegen.browser.js"}};var t3;function kv(){return t3||(t3=1,function(e){(function(){var t,n,i,r,s,u,a,c,h,d,g,m,M,v,P,w,V,k,Z,_,S,x,I,N,H,X;s=Mv(),u=Pv(),t=s.Syntax;function ee(l){return Le.Expression.hasOwnProperty(l.type)}function z(l){return Le.Statement.hasOwnProperty(l.type)}n={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,Coalesce:3,LogicalOR:4,LogicalAND:5,BitwiseOR:6,BitwiseXOR:7,BitwiseAND:8,Equality:9,Relational:10,BitwiseSHIFT:11,Additive:12,Multiplicative:13,Exponentiation:14,Await:15,Unary:15,Postfix:16,OptionalChaining:17,Call:18,New:19,TaggedTemplate:20,Member:21,Primary:22},i={"??":n.Coalesce,"||":n.LogicalOR,"&&":n.LogicalAND,"|":n.BitwiseOR,"^":n.BitwiseXOR,"&":n.BitwiseAND,"==":n.Equality,"!=":n.Equality,"===":n.Equality,"!==":n.Equality,is:n.Equality,isnt:n.Equality,"<":n.Relational,">":n.Relational,"<=":n.Relational,">=":n.Relational,in:n.Relational,instanceof:n.Relational,"<<":n.BitwiseSHIFT,">>":n.BitwiseSHIFT,">>>":n.BitwiseSHIFT,"+":n.Additive,"-":n.Additive,"*":n.Multiplicative,"%":n.Multiplicative,"/":n.Multiplicative,"**":n.Exponentiation};var O=1,ne=2,be=4,pe=8,he=16,te=32,Ve=64,ce=ne|be,ye=O|ne,q=O|ne|be,De=O,at=be,Ue=O|be,Me=O,Qe=O|te,Se=0,Je=O|he,kt=O|pe;function dt(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function Ne(l,y){var p="";for(y|=0;y>0;y>>>=1,l+=l)y&1&&(p+=l);return p}function bn(l){return/[\r\n]/g.test(l)}function Ze(l){var y=l.length;return y&&u.code.isLineTerminator(l.charCodeAt(y-1))}function sn(l,y){var p;for(p in y)y.hasOwnProperty(p)&&(l[p]=y[p]);return l}function zt(l,y){var p,A;function D(T){return typeof T=="object"&&T instanceof Object&&!(T instanceof RegExp)}for(p in y)y.hasOwnProperty(p)&&(A=y[p],D(A)?D(l[p])?zt(l[p],A):l[p]=zt({},A):l[p]=A);return l}function Ot(l){var y,p,A,D,T;if(l!==l)throw new Error("Numeric literal whose value is NaN");if(l<0||l===0&&1/l<0)throw new Error("Numeric literal whose value is negative");if(l===1/0)return h?"null":d?"1e400":"1e+400";if(y=""+l,!d||y.length<3)return y;for(p=y.indexOf("."),!h&&y.charCodeAt(0)===48&&p===1&&(p=0,y=y.slice(1)),A=y,y=y.replace("e+","e"),D=0,(T=A.indexOf("e"))>0&&(D=+A.slice(T+1),A=A.slice(0,T)),p>=0&&(D-=A.length-p-1,A=+(A.slice(0,p)+A.slice(p+1))+""),T=0;A.charCodeAt(A.length+T-1)===48;)--T;return T!==0&&(D-=T,A=A.slice(0,T)),D!==0&&(A+="e"+D),(A.length<y.length||g&&l>1e12&&Math.floor(l)===l&&(A="0x"+l.toString(16)).length<y.length)&&+A===l&&(y=A),y}function Mn(l,y){return(l&-2)===8232?(y?"u":"\\u")+(l===8232?"2028":"2029"):l===10||l===13?(y?"":"\\")+(l===10?"n":"r"):String.fromCharCode(l)}function ni(l){var y,p,A,D,T,G,W,J;if(p=l.toString(),l.source){if(y=p.match(/\/([^/]*)$/),!y)return p;for(A=y[1],p="",W=!1,J=!1,D=0,T=l.source.length;D<T;++D)G=l.source.charCodeAt(D),J?(p+=Mn(G,J),J=!1):(W?G===93&&(W=!1):G===47?p+="\\":G===91&&(W=!0),p+=Mn(G,J),J=G===92);return"/"+p+"/"+A}return p}function un(l,y){var p;return l===8?"\\b":l===12?"\\f":l===9?"\\t":(p=l.toString(16).toUpperCase(),h||l>255?"\\u"+"0000".slice(p.length)+p:l===0&&!u.code.isDecimalDigit(y)?"\\0":l===11?"\\x0B":"\\x"+"00".slice(p.length)+p)}function vn(l){if(l===92)return"\\\\";if(l===10)return"\\n";if(l===13)return"\\r";if(l===8232)return"\\u2028";if(l===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function an(l){var y,p,A,D;for(D=m==="double"?'"':"'",y=0,p=l.length;y<p;++y)if(A=l.charCodeAt(y),A===39){D='"';break}else if(A===34){D="'";break}else A===92&&++y;return D+l+D}function Pt(l){var y="",p,A,D,T=0,G=0,W,J;for(p=0,A=l.length;p<A;++p){if(D=l.charCodeAt(p),D===39)++T;else if(D===34)++G;else if(D===47&&h)y+="\\";else if(u.code.isLineTerminator(D)||D===92){y+=vn(D);continue}else if(!u.code.isIdentifierPartES5(D)&&(h&&D<32||!h&&!M&&(D<32||D>126))){y+=un(D,l.charCodeAt(p+1));continue}y+=String.fromCharCode(D)}if(W=!(m==="double"||m==="auto"&&G<T),J=W?"'":'"',!(W?T:G))return J+y+J;for(l=y,y=J,p=0,A=l.length;p<A;++p)D=l.charCodeAt(p),(D===39&&W||D===34&&!W)&&(y+="\\"),y+=String.fromCharCode(D);return y+J}function Gn(l){var y,p,A,D="";for(y=0,p=l.length;y<p;++y)A=l[y],D+=Array.isArray(A)?Gn(A):A;return D}function Ae(l,y){if(!x)return Array.isArray(l)?Gn(l):l;if(y==null){if(l instanceof r)return l;y={}}return y.loc==null?new r(null,null,x,l,y.name||null):new r(y.loc.start.line,y.loc.start.column,x===!0?y.loc.source||null:x,l,y.name||null)}function ze(){return P||" "}function ae(l,y){var p,A,D,T;return p=Ae(l).toString(),p.length===0?[y]:(A=Ae(y).toString(),A.length===0?[l]:(D=p.charCodeAt(p.length-1),T=A.charCodeAt(0),(D===43||D===45)&&D===T||u.code.isIdentifierPartES5(D)&&u.code.isIdentifierPartES5(T)||D===47&&T===105?[l,ze(),y]:u.code.isWhiteSpace(D)||u.code.isLineTerminator(D)||u.code.isWhiteSpace(T)||u.code.isLineTerminator(T)?[l,y]:[l,P,y]))}function je(l){return[a,l]}function xe(l){var y;y=a,a+=c,l(a),a=y}function ii(l){var y;for(y=l.length-1;y>=0&&!u.code.isLineTerminator(l.charCodeAt(y));--y);return l.length-1-y}function on(l,y){var p,A,D,T,G,W,J,ve;for(p=l.split(/\r\n|[\r\n]/),W=Number.MAX_VALUE,A=1,D=p.length;A<D;++A){for(T=p[A],G=0;G<T.length&&u.code.isWhiteSpace(T.charCodeAt(G));)++G;W>G&&(W=G)}for(typeof y<"u"?(J=a,p[1][W]==="*"&&(y+=" "),a=y):(W&1&&--W,J=a),A=1,D=p.length;A<D;++A)ve=Ae(je(p[A].slice(W))),p[A]=x?ve.join(""):ve;return a=J,p.join(`
`)}function ot(l,y){if(l.type==="Line"){if(Ze(l.value))return"//"+l.value;var p="//"+l.value;return N||(p+=`
`),p}return _.format.indent.adjustMultilineComment&&/[\n\r]/.test(l.value)?on("/*"+l.value+"*/",y):"/*"+l.value+"*/"}function Te(l,y){var p,A,D,T,G,W,J,ve,$e,Cn,Xn,Xs,Zs,It;if(l.leadingComments&&l.leadingComments.length>0){if(T=y,N){for(D=l.leadingComments[0],y=[],ve=D.extendedRange,$e=D.range,Xn=I.substring(ve[0],$e[0]),It=(Xn.match(/\n/g)||[]).length,It>0?(y.push(Ne(`
`,It)),y.push(je(ot(D)))):(y.push(Xn),y.push(ot(D))),Cn=$e,p=1,A=l.leadingComments.length;p<A;p++)D=l.leadingComments[p],$e=D.range,Xs=I.substring(Cn[1],$e[0]),It=(Xs.match(/\n/g)||[]).length,y.push(Ne(`
`,It)),y.push(je(ot(D))),Cn=$e;Zs=I.substring($e[1],ve[1]),It=(Zs.match(/\n/g)||[]).length,y.push(Ne(`
`,It))}else for(D=l.leadingComments[0],y=[],k&&l.type===t.Program&&l.body.length===0&&y.push(`
`),y.push(ot(D)),Ze(Ae(y).toString())||y.push(`
`),p=1,A=l.leadingComments.length;p<A;++p)D=l.leadingComments[p],J=[ot(D)],Ze(Ae(J).toString())||J.push(`
`),y.push(je(J));y.push(je(T))}if(l.trailingComments)if(N)D=l.trailingComments[0],ve=D.extendedRange,$e=D.range,Xn=I.substring(ve[0],$e[0]),It=(Xn.match(/\n/g)||[]).length,It>0?(y.push(Ne(`
`,It)),y.push(je(ot(D)))):(y.push(Xn),y.push(ot(D)));else for(G=!Ze(Ae(y).toString()),W=Ne(" ",ii(Ae([a,y,c]).toString())),p=0,A=l.trailingComments.length;p<A;++p)D=l.trailingComments[p],G?(p===0?y=[y,c]:y=[y,W],y.push(ot(D,W))):y=[y,je(ot(D))],p!==A-1&&!Ze(Ae(y).toString())&&(y=[y,`
`]);return y}function Dt(l,y,p){var A,D=0;for(A=l;A<y;A++)I[A]===`
`&&D++;for(A=1;A<D;A++)p.push(v)}function ke(l,y,p){return y<p?["(",l,")"]:l}function ri(l){var y,p,A;for(A=l.split(/\r\n|\n/),y=1,p=A.length;y<p;y++)A[y]=v+a+A[y];return A}function wi(l,y){var p,A,D;return p=l[_.verbatim],typeof p=="string"?A=ke(ri(p),n.Sequence,y):(A=ri(p.content),D=p.precedence!=null?p.precedence:n.Sequence,A=ke(A,D,y)),Ae(A,l)}function Le(){}Le.prototype.maybeBlock=function(l,y){var p,A,D=this;return A=!_.comment||!l.leadingComments,l.type===t.BlockStatement&&A?[P,this.generateStatement(l,y)]:l.type===t.EmptyStatement&&A?";":(xe(function(){p=[v,je(D.generateStatement(l,y))]}),p)},Le.prototype.maybeBlockSuffix=function(l,y){var p=Ze(Ae(y).toString());return l.type===t.BlockStatement&&(!_.comment||!l.leadingComments)&&!p?[y,P]:p?[y,a]:[y,v,a]};function le(l){return Ae(l.name,l)}function mt(l,y){return l.async?"async"+(y?ze():P):""}function rt(l){var y=l.generator&&!_.moz.starlessGenerator;return y?"*"+P:""}function pt(l){var y=l.value,p="";return y.async&&(p+=mt(y,!l.computed)),y.generator&&(p+=rt(y)?"*":""),p}Le.prototype.generatePattern=function(l,y,p){return l.type===t.Identifier?le(l):this.generateExpression(l,y,p)},Le.prototype.generateFunctionParams=function(l){var y,p,A,D;if(D=!1,l.type===t.ArrowFunctionExpression&&!l.rest&&(!l.defaults||l.defaults.length===0)&&l.params.length===1&&l.params[0].type===t.Identifier)A=[mt(l,!0),le(l.params[0])];else{for(A=l.type===t.ArrowFunctionExpression?[mt(l,!1)]:[],A.push("("),l.defaults&&(D=!0),y=0,p=l.params.length;y<p;++y)D&&l.defaults[y]?A.push(this.generateAssignment(l.params[y],l.defaults[y],"=",n.Assignment,q)):A.push(this.generatePattern(l.params[y],n.Assignment,q)),y+1<p&&A.push(","+P);l.rest&&(l.params.length&&A.push(","+P),A.push("..."),A.push(le(l.rest))),A.push(")")}return A},Le.prototype.generateFunctionBody=function(l){var y,p;return y=this.generateFunctionParams(l),l.type===t.ArrowFunctionExpression&&(y.push(P),y.push("=>")),l.expression?(y.push(P),p=this.generateExpression(l.body,n.Assignment,q),p.toString().charAt(0)==="{"&&(p=["(",p,")"]),y.push(p)):y.push(this.maybeBlock(l.body,kt)),y},Le.prototype.generateIterationForStatement=function(l,y,p){var A=["for"+(y.await?ze()+"await":"")+P+"("],D=this;return xe(function(){y.left.type===t.VariableDeclaration?xe(function(){A.push(y.left.kind+ze()),A.push(D.generateStatement(y.left.declarations[0],Se))}):A.push(D.generateExpression(y.left,n.Call,q)),A=ae(A,l),A=[ae(A,D.generateExpression(y.right,n.Assignment,q)),")"]}),A.push(this.maybeBlock(y.body,p)),A},Le.prototype.generatePropertyKey=function(l,y){var p=[];return y&&p.push("["),p.push(this.generateExpression(l,n.Assignment,q)),y&&p.push("]"),p},Le.prototype.generateAssignment=function(l,y,p,A,D){return n.Assignment<A&&(D|=O),ke([this.generateExpression(l,n.Call,D),P+p+P,this.generateExpression(y,n.Assignment,D)],n.Assignment,A)},Le.prototype.semicolon=function(l){return!V&&l&te?"":";"},Le.Statement={BlockStatement:function(l,y){var p,A,D=["{",v],T=this;return xe(function(){l.body.length===0&&N&&(p=l.range,p[1]-p[0]>2&&(A=I.substring(p[0]+1,p[1]-1),A[0]===`
`&&(D=["{"]),D.push(A)));var G,W,J,ve;for(ve=Me,y&pe&&(ve|=he),G=0,W=l.body.length;G<W;++G)N&&(G===0&&(l.body[0].leadingComments&&(p=l.body[0].leadingComments[0].extendedRange,A=I.substring(p[0],p[1]),A[0]===`
`&&(D=["{"])),l.body[0].leadingComments||Dt(l.range[0],l.body[0].range[0],D)),G>0&&!l.body[G-1].trailingComments&&!l.body[G].leadingComments&&Dt(l.body[G-1].range[1],l.body[G].range[0],D)),G===W-1&&(ve|=te),l.body[G].leadingComments&&N?J=T.generateStatement(l.body[G],ve):J=je(T.generateStatement(l.body[G],ve)),D.push(J),Ze(Ae(J).toString())||N&&G<W-1&&l.body[G+1].leadingComments||D.push(v),N&&G===W-1&&(l.body[G].trailingComments||Dt(l.body[G].range[1],l.range[1],D))}),D.push(je("}")),D},BreakStatement:function(l,y){return l.label?"break "+l.label.name+this.semicolon(y):"break"+this.semicolon(y)},ContinueStatement:function(l,y){return l.label?"continue "+l.label.name+this.semicolon(y):"continue"+this.semicolon(y)},ClassBody:function(l,y){var p=["{",v],A=this;return xe(function(D){var T,G;for(T=0,G=l.body.length;T<G;++T)p.push(D),p.push(A.generateExpression(l.body[T],n.Sequence,q)),T+1<G&&p.push(v)}),Ze(Ae(p).toString())||p.push(v),p.push(a),p.push("}"),p},ClassDeclaration:function(l,y){var p,A;return p=["class"],l.id&&(p=ae(p,this.generateExpression(l.id,n.Sequence,q))),l.superClass&&(A=ae("extends",this.generateExpression(l.superClass,n.Unary,q)),p=ae(p,A)),p.push(P),p.push(this.generateStatement(l.body,Qe)),p},DirectiveStatement:function(l,y){return _.raw&&l.raw?l.raw+this.semicolon(y):an(l.directive)+this.semicolon(y)},DoWhileStatement:function(l,y){var p=ae("do",this.maybeBlock(l.body,Me));return p=this.maybeBlockSuffix(l.body,p),ae(p,["while"+P+"(",this.generateExpression(l.test,n.Sequence,q),")"+this.semicolon(y)])},CatchClause:function(l,y){var p,A=this;return xe(function(){var D;l.param?(p=["catch"+P+"(",A.generateExpression(l.param,n.Sequence,q),")"],l.guard&&(D=A.generateExpression(l.guard,n.Sequence,q),p.splice(2,0," if ",D))):p=["catch"]}),p.push(this.maybeBlock(l.body,Me)),p},DebuggerStatement:function(l,y){return"debugger"+this.semicolon(y)},EmptyStatement:function(l,y){return";"},ExportDefaultDeclaration:function(l,y){var p=["export"],A;return A=y&te?Qe:Me,p=ae(p,"default"),z(l.declaration)?p=ae(p,this.generateStatement(l.declaration,A)):p=ae(p,this.generateExpression(l.declaration,n.Assignment,q)+this.semicolon(y)),p},ExportNamedDeclaration:function(l,y){var p=["export"],A,D=this;return A=y&te?Qe:Me,l.declaration?ae(p,this.generateStatement(l.declaration,A)):(l.specifiers&&(l.specifiers.length===0?p=ae(p,"{"+P+"}"):l.specifiers[0].type===t.ExportBatchSpecifier?p=ae(p,this.generateExpression(l.specifiers[0],n.Sequence,q)):(p=ae(p,"{"),xe(function(T){var G,W;for(p.push(v),G=0,W=l.specifiers.length;G<W;++G)p.push(T),p.push(D.generateExpression(l.specifiers[G],n.Sequence,q)),G+1<W&&p.push(","+v)}),Ze(Ae(p).toString())||p.push(v),p.push(a+"}")),l.source?p=ae(p,["from"+P,this.generateExpression(l.source,n.Sequence,q),this.semicolon(y)]):p.push(this.semicolon(y))),p)},ExportAllDeclaration:function(l,y){return["export"+P,"*"+P,"from"+P,this.generateExpression(l.source,n.Sequence,q),this.semicolon(y)]},ExpressionStatement:function(l,y){var p,A;function D(W){var J;return W.slice(0,5)!=="class"?!1:(J=W.charCodeAt(5),J===123||u.code.isWhiteSpace(J)||u.code.isLineTerminator(J))}function T(W){var J;return W.slice(0,8)!=="function"?!1:(J=W.charCodeAt(8),J===40||u.code.isWhiteSpace(J)||J===42||u.code.isLineTerminator(J))}function G(W){var J,ve,$e;if(W.slice(0,5)!=="async"||!u.code.isWhiteSpace(W.charCodeAt(5)))return!1;for(ve=6,$e=W.length;ve<$e&&u.code.isWhiteSpace(W.charCodeAt(ve));++ve);return ve===$e||W.slice(ve,ve+8)!=="function"?!1:(J=W.charCodeAt(ve+8),J===40||u.code.isWhiteSpace(J)||J===42||u.code.isLineTerminator(J))}return p=[this.generateExpression(l.expression,n.Sequence,q)],A=Ae(p).toString(),A.charCodeAt(0)===123||D(A)||T(A)||G(A)||Z&&y&he&&l.expression.type===t.Literal&&typeof l.expression.value=="string"?p=["(",p,")"+this.semicolon(y)]:p.push(this.semicolon(y)),p},ImportDeclaration:function(l,y){var p,A,D=this;return l.specifiers.length===0?["import",P,this.generateExpression(l.source,n.Sequence,q),this.semicolon(y)]:(p=["import"],A=0,l.specifiers[A].type===t.ImportDefaultSpecifier&&(p=ae(p,[this.generateExpression(l.specifiers[A],n.Sequence,q)]),++A),l.specifiers[A]&&(A!==0&&p.push(","),l.specifiers[A].type===t.ImportNamespaceSpecifier?p=ae(p,[P,this.generateExpression(l.specifiers[A],n.Sequence,q)]):(p.push(P+"{"),l.specifiers.length-A===1?(p.push(P),p.push(this.generateExpression(l.specifiers[A],n.Sequence,q)),p.push(P+"}"+P)):(xe(function(T){var G,W;for(p.push(v),G=A,W=l.specifiers.length;G<W;++G)p.push(T),p.push(D.generateExpression(l.specifiers[G],n.Sequence,q)),G+1<W&&p.push(","+v)}),Ze(Ae(p).toString())||p.push(v),p.push(a+"}"+P)))),p=ae(p,["from"+P,this.generateExpression(l.source,n.Sequence,q),this.semicolon(y)]),p)},VariableDeclarator:function(l,y){var p=y&O?q:ce;return l.init?[this.generateExpression(l.id,n.Assignment,p),P,"=",P,this.generateExpression(l.init,n.Assignment,p)]:this.generatePattern(l.id,n.Assignment,p)},VariableDeclaration:function(l,y){var p,A,D,T,G,W=this;p=[l.kind],G=y&O?Me:Se;function J(){for(T=l.declarations[0],_.comment&&T.leadingComments?(p.push(`
`),p.push(je(W.generateStatement(T,G)))):(p.push(ze()),p.push(W.generateStatement(T,G))),A=1,D=l.declarations.length;A<D;++A)T=l.declarations[A],_.comment&&T.leadingComments?(p.push(","+v),p.push(je(W.generateStatement(T,G)))):(p.push(","+P),p.push(W.generateStatement(T,G)))}return l.declarations.length>1?xe(J):J(),p.push(this.semicolon(y)),p},ThrowStatement:function(l,y){return[ae("throw",this.generateExpression(l.argument,n.Sequence,q)),this.semicolon(y)]},TryStatement:function(l,y){var p,A,D,T;if(p=["try",this.maybeBlock(l.block,Me)],p=this.maybeBlockSuffix(l.block,p),l.handlers)for(A=0,D=l.handlers.length;A<D;++A)p=ae(p,this.generateStatement(l.handlers[A],Me)),(l.finalizer||A+1!==D)&&(p=this.maybeBlockSuffix(l.handlers[A].body,p));else{for(T=l.guardedHandlers||[],A=0,D=T.length;A<D;++A)p=ae(p,this.generateStatement(T[A],Me)),(l.finalizer||A+1!==D)&&(p=this.maybeBlockSuffix(T[A].body,p));if(l.handler)if(Array.isArray(l.handler))for(A=0,D=l.handler.length;A<D;++A)p=ae(p,this.generateStatement(l.handler[A],Me)),(l.finalizer||A+1!==D)&&(p=this.maybeBlockSuffix(l.handler[A].body,p));else p=ae(p,this.generateStatement(l.handler,Me)),l.finalizer&&(p=this.maybeBlockSuffix(l.handler.body,p))}return l.finalizer&&(p=ae(p,["finally",this.maybeBlock(l.finalizer,Me)])),p},SwitchStatement:function(l,y){var p,A,D,T,G,W=this;if(xe(function(){p=["switch"+P+"(",W.generateExpression(l.discriminant,n.Sequence,q),")"+P+"{"+v]}),l.cases)for(G=Me,D=0,T=l.cases.length;D<T;++D)D===T-1&&(G|=te),A=je(this.generateStatement(l.cases[D],G)),p.push(A),Ze(Ae(A).toString())||p.push(v);return p.push(je("}")),p},SwitchCase:function(l,y){var p,A,D,T,G,W=this;return xe(function(){for(l.test?p=[ae("case",W.generateExpression(l.test,n.Sequence,q)),":"]:p=["default:"],D=0,T=l.consequent.length,T&&l.consequent[0].type===t.BlockStatement&&(A=W.maybeBlock(l.consequent[0],Me),p.push(A),D=1),D!==T&&!Ze(Ae(p).toString())&&p.push(v),G=Me;D<T;++D)D===T-1&&y&te&&(G|=te),A=je(W.generateStatement(l.consequent[D],G)),p.push(A),D+1!==T&&!Ze(Ae(A).toString())&&p.push(v)}),p},IfStatement:function(l,y){var p,A,D,T=this;return xe(function(){p=["if"+P+"(",T.generateExpression(l.test,n.Sequence,q),")"]}),D=y&te,A=Me,D&&(A|=te),l.alternate?(p.push(this.maybeBlock(l.consequent,Me)),p=this.maybeBlockSuffix(l.consequent,p),l.alternate.type===t.IfStatement?p=ae(p,["else ",this.generateStatement(l.alternate,A)]):p=ae(p,ae("else",this.maybeBlock(l.alternate,A)))):p.push(this.maybeBlock(l.consequent,A)),p},ForStatement:function(l,y){var p,A=this;return xe(function(){p=["for"+P+"("],l.init?l.init.type===t.VariableDeclaration?p.push(A.generateStatement(l.init,Se)):(p.push(A.generateExpression(l.init,n.Sequence,ce)),p.push(";")):p.push(";"),l.test&&(p.push(P),p.push(A.generateExpression(l.test,n.Sequence,q))),p.push(";"),l.update&&(p.push(P),p.push(A.generateExpression(l.update,n.Sequence,q))),p.push(")")}),p.push(this.maybeBlock(l.body,y&te?Qe:Me)),p},ForInStatement:function(l,y){return this.generateIterationForStatement("in",l,y&te?Qe:Me)},ForOfStatement:function(l,y){return this.generateIterationForStatement("of",l,y&te?Qe:Me)},LabeledStatement:function(l,y){return[l.label.name+":",this.maybeBlock(l.body,y&te?Qe:Me)]},Program:function(l,y){var p,A,D,T,G;for(T=l.body.length,p=[k&&T>0?`
`:""],G=Je,D=0;D<T;++D)!k&&D===T-1&&(G|=te),N&&(D===0&&(l.body[0].leadingComments||Dt(l.range[0],l.body[D].range[0],p)),D>0&&!l.body[D-1].trailingComments&&!l.body[D].leadingComments&&Dt(l.body[D-1].range[1],l.body[D].range[0],p)),A=je(this.generateStatement(l.body[D],G)),p.push(A),D+1<T&&!Ze(Ae(A).toString())&&(N&&l.body[D+1].leadingComments||p.push(v)),N&&D===T-1&&(l.body[D].trailingComments||Dt(l.body[D].range[1],l.range[1],p));return p},FunctionDeclaration:function(l,y){return[mt(l,!0),"function",rt(l)||ze(),l.id?le(l.id):"",this.generateFunctionBody(l)]},ReturnStatement:function(l,y){return l.argument?[ae("return",this.generateExpression(l.argument,n.Sequence,q)),this.semicolon(y)]:["return"+this.semicolon(y)]},WhileStatement:function(l,y){var p,A=this;return xe(function(){p=["while"+P+"(",A.generateExpression(l.test,n.Sequence,q),")"]}),p.push(this.maybeBlock(l.body,y&te?Qe:Me)),p},WithStatement:function(l,y){var p,A=this;return xe(function(){p=["with"+P+"(",A.generateExpression(l.object,n.Sequence,q),")"]}),p.push(this.maybeBlock(l.body,y&te?Qe:Me)),p}},sn(Le.prototype,Le.Statement),Le.Expression={SequenceExpression:function(l,y,p){var A,D,T;for(n.Sequence<y&&(p|=O),A=[],D=0,T=l.expressions.length;D<T;++D)A.push(this.generateExpression(l.expressions[D],n.Assignment,p)),D+1<T&&A.push(","+P);return ke(A,n.Sequence,y)},AssignmentExpression:function(l,y,p){return this.generateAssignment(l.left,l.right,l.operator,y,p)},ArrowFunctionExpression:function(l,y,p){return ke(this.generateFunctionBody(l),n.ArrowFunction,y)},ConditionalExpression:function(l,y,p){return n.Conditional<y&&(p|=O),ke([this.generateExpression(l.test,n.Coalesce,p),P+"?"+P,this.generateExpression(l.consequent,n.Assignment,p),P+":"+P,this.generateExpression(l.alternate,n.Assignment,p)],n.Conditional,y)},LogicalExpression:function(l,y,p){return l.operator==="??"&&(p|=Ve),this.BinaryExpression(l,y,p)},BinaryExpression:function(l,y,p){var A,D,T,G,W,J;return G=i[l.operator],D=l.operator==="**"?n.Postfix:G,T=l.operator==="**"?G:G+1,G<y&&(p|=O),W=this.generateExpression(l.left,D,p),J=W.toString(),J.charCodeAt(J.length-1)===47&&u.code.isIdentifierPartES5(l.operator.charCodeAt(0))?A=[W,ze(),l.operator]:A=ae(W,l.operator),W=this.generateExpression(l.right,T,p),l.operator==="/"&&W.toString().charAt(0)==="/"||l.operator.slice(-1)==="<"&&W.toString().slice(0,3)==="!--"?(A.push(ze()),A.push(W)):A=ae(A,W),l.operator==="in"&&!(p&O)?["(",A,")"]:(l.operator==="||"||l.operator==="&&")&&p&Ve?["(",A,")"]:ke(A,G,y)},CallExpression:function(l,y,p){var A,D,T;for(A=[this.generateExpression(l.callee,n.Call,ye)],l.optional&&A.push("?."),A.push("("),D=0,T=l.arguments.length;D<T;++D)A.push(this.generateExpression(l.arguments[D],n.Assignment,q)),D+1<T&&A.push(","+P);return A.push(")"),p&ne?ke(A,n.Call,y):["(",A,")"]},ChainExpression:function(l,y,p){n.OptionalChaining<y&&(p|=ne);var A=this.generateExpression(l.expression,n.OptionalChaining,p);return ke(A,n.OptionalChaining,y)},NewExpression:function(l,y,p){var A,D,T,G,W;if(D=l.arguments.length,W=p&be&&!w&&D===0?Ue:De,A=ae("new",this.generateExpression(l.callee,n.New,W)),!(p&be)||w||D>0){for(A.push("("),T=0,G=D;T<G;++T)A.push(this.generateExpression(l.arguments[T],n.Assignment,q)),T+1<G&&A.push(","+P);A.push(")")}return ke(A,n.New,y)},MemberExpression:function(l,y,p){var A,D;return A=[this.generateExpression(l.object,n.Call,p&ne?ye:De)],l.computed?(l.optional&&A.push("?."),A.push("["),A.push(this.generateExpression(l.property,n.Sequence,p&ne?q:Ue)),A.push("]")):(!l.optional&&l.object.type===t.Literal&&typeof l.object.value=="number"&&(D=Ae(A).toString(),D.indexOf(".")<0&&!/[eExX]/.test(D)&&u.code.isDecimalDigit(D.charCodeAt(D.length-1))&&!(D.length>=2&&D.charCodeAt(0)===48)&&A.push(" ")),A.push(l.optional?"?.":"."),A.push(le(l.property))),ke(A,n.Member,y)},MetaProperty:function(l,y,p){var A;return A=[],A.push(typeof l.meta=="string"?l.meta:le(l.meta)),A.push("."),A.push(typeof l.property=="string"?l.property:le(l.property)),ke(A,n.Member,y)},UnaryExpression:function(l,y,p){var A,D,T,G,W;return D=this.generateExpression(l.argument,n.Unary,q),P===""?A=ae(l.operator,D):(A=[l.operator],l.operator.length>2?A=ae(A,D):(G=Ae(A).toString(),W=G.charCodeAt(G.length-1),T=D.toString().charCodeAt(0),((W===43||W===45)&&W===T||u.code.isIdentifierPartES5(W)&&u.code.isIdentifierPartES5(T))&&A.push(ze()),A.push(D))),ke(A,n.Unary,y)},YieldExpression:function(l,y,p){var A;return l.delegate?A="yield*":A="yield",l.argument&&(A=ae(A,this.generateExpression(l.argument,n.Yield,q))),ke(A,n.Yield,y)},AwaitExpression:function(l,y,p){var A=ae(l.all?"await*":"await",this.generateExpression(l.argument,n.Await,q));return ke(A,n.Await,y)},UpdateExpression:function(l,y,p){return l.prefix?ke([l.operator,this.generateExpression(l.argument,n.Unary,q)],n.Unary,y):ke([this.generateExpression(l.argument,n.Postfix,q),l.operator],n.Postfix,y)},FunctionExpression:function(l,y,p){var A=[mt(l,!0),"function"];return l.id?(A.push(rt(l)||ze()),A.push(le(l.id))):A.push(rt(l)||P),A.push(this.generateFunctionBody(l)),A},ArrayPattern:function(l,y,p){return this.ArrayExpression(l,y,p,!0)},ArrayExpression:function(l,y,p,A){var D,T,G=this;return l.elements.length?(T=A?!1:l.elements.length>1,D=["[",T?v:""],xe(function(W){var J,ve;for(J=0,ve=l.elements.length;J<ve;++J)l.elements[J]?(D.push(T?W:""),D.push(G.generateExpression(l.elements[J],n.Assignment,q))):(T&&D.push(W),J+1===ve&&D.push(",")),J+1<ve&&D.push(","+(T?v:P))}),T&&!Ze(Ae(D).toString())&&D.push(v),D.push(T?a:""),D.push("]"),D):"[]"},RestElement:function(l,y,p){return"..."+this.generatePattern(l.argument)},ClassExpression:function(l,y,p){var A,D;return A=["class"],l.id&&(A=ae(A,this.generateExpression(l.id,n.Sequence,q))),l.superClass&&(D=ae("extends",this.generateExpression(l.superClass,n.Unary,q)),A=ae(A,D)),A.push(P),A.push(this.generateStatement(l.body,Qe)),A},MethodDefinition:function(l,y,p){var A,D;return l.static?A=["static"+P]:A=[],l.kind==="get"||l.kind==="set"?D=[ae(l.kind,this.generatePropertyKey(l.key,l.computed)),this.generateFunctionBody(l.value)]:D=[pt(l),this.generatePropertyKey(l.key,l.computed),this.generateFunctionBody(l.value)],ae(A,D)},Property:function(l,y,p){return l.kind==="get"||l.kind==="set"?[l.kind,ze(),this.generatePropertyKey(l.key,l.computed),this.generateFunctionBody(l.value)]:l.shorthand?l.value.type==="AssignmentPattern"?this.AssignmentPattern(l.value,n.Sequence,q):this.generatePropertyKey(l.key,l.computed):l.method?[pt(l),this.generatePropertyKey(l.key,l.computed),this.generateFunctionBody(l.value)]:[this.generatePropertyKey(l.key,l.computed),":"+P,this.generateExpression(l.value,n.Assignment,q)]},ObjectExpression:function(l,y,p){var A,D,T,G=this;return l.properties.length?(A=l.properties.length>1,xe(function(){T=G.generateExpression(l.properties[0],n.Sequence,q)}),!A&&!bn(Ae(T).toString())?["{",P,T,P,"}"]:(xe(function(W){var J,ve;if(D=["{",v,W,T],A)for(D.push(","+v),J=1,ve=l.properties.length;J<ve;++J)D.push(W),D.push(G.generateExpression(l.properties[J],n.Sequence,q)),J+1<ve&&D.push(","+v)}),Ze(Ae(D).toString())||D.push(v),D.push(a),D.push("}"),D)):"{}"},AssignmentPattern:function(l,y,p){return this.generateAssignment(l.left,l.right,"=",y,p)},ObjectPattern:function(l,y,p){var A,D,T,G,W,J=this;if(!l.properties.length)return"{}";if(G=!1,l.properties.length===1)W=l.properties[0],W.type===t.Property&&W.value.type!==t.Identifier&&(G=!0);else for(D=0,T=l.properties.length;D<T;++D)if(W=l.properties[D],W.type===t.Property&&!W.shorthand){G=!0;break}return A=["{",G?v:""],xe(function(ve){var $e,Cn;for($e=0,Cn=l.properties.length;$e<Cn;++$e)A.push(G?ve:""),A.push(J.generateExpression(l.properties[$e],n.Sequence,q)),$e+1<Cn&&A.push(","+(G?v:P))}),G&&!Ze(Ae(A).toString())&&A.push(v),A.push(G?a:""),A.push("}"),A},ThisExpression:function(l,y,p){return"this"},Super:function(l,y,p){return"super"},Identifier:function(l,y,p){return le(l)},ImportDefaultSpecifier:function(l,y,p){return le(l.id||l.local)},ImportNamespaceSpecifier:function(l,y,p){var A=["*"],D=l.id||l.local;return D&&A.push(P+"as"+ze()+le(D)),A},ImportSpecifier:function(l,y,p){var A=l.imported,D=[A.name],T=l.local;return T&&T.name!==A.name&&D.push(ze()+"as"+ze()+le(T)),D},ExportSpecifier:function(l,y,p){var A=l.local,D=[A.name],T=l.exported;return T&&T.name!==A.name&&D.push(ze()+"as"+ze()+le(T)),D},Literal:function(l,y,p){var A;if(l.hasOwnProperty("raw")&&S&&_.raw)try{if(A=S(l.raw).body[0].expression,A.type===t.Literal&&A.value===l.value)return l.raw}catch{}return l.regex?"/"+l.regex.pattern+"/"+l.regex.flags:typeof l.value=="bigint"?l.value.toString()+"n":l.bigint?l.bigint+"n":l.value===null?"null":typeof l.value=="string"?Pt(l.value):typeof l.value=="number"?Ot(l.value):typeof l.value=="boolean"?l.value?"true":"false":ni(l.value)},GeneratorExpression:function(l,y,p){return this.ComprehensionExpression(l,y,p)},ComprehensionExpression:function(l,y,p){var A,D,T,G,W=this;return A=l.type===t.GeneratorExpression?["("]:["["],_.moz.comprehensionExpressionStartsWithAssignment&&(G=this.generateExpression(l.body,n.Assignment,q),A.push(G)),l.blocks&&xe(function(){for(D=0,T=l.blocks.length;D<T;++D)G=W.generateExpression(l.blocks[D],n.Sequence,q),D>0||_.moz.comprehensionExpressionStartsWithAssignment?A=ae(A,G):A.push(G)}),l.filter&&(A=ae(A,"if"+P),G=this.generateExpression(l.filter,n.Sequence,q),A=ae(A,["(",G,")"])),_.moz.comprehensionExpressionStartsWithAssignment||(G=this.generateExpression(l.body,n.Assignment,q),A=ae(A,G)),A.push(l.type===t.GeneratorExpression?")":"]"),A},ComprehensionBlock:function(l,y,p){var A;return l.left.type===t.VariableDeclaration?A=[l.left.kind,ze(),this.generateStatement(l.left.declarations[0],Se)]:A=this.generateExpression(l.left,n.Call,q),A=ae(A,l.of?"of":"in"),A=ae(A,this.generateExpression(l.right,n.Sequence,q)),["for"+P+"(",A,")"]},SpreadElement:function(l,y,p){return["...",this.generateExpression(l.argument,n.Assignment,q)]},TaggedTemplateExpression:function(l,y,p){var A=ye;p&ne||(A=De);var D=[this.generateExpression(l.tag,n.Call,A),this.generateExpression(l.quasi,n.Primary,at)];return ke(D,n.TaggedTemplate,y)},TemplateElement:function(l,y,p){return l.value.raw},TemplateLiteral:function(l,y,p){var A,D,T;for(A=["`"],D=0,T=l.quasis.length;D<T;++D)A.push(this.generateExpression(l.quasis[D],n.Primary,q)),D+1<T&&(A.push("${"+P),A.push(this.generateExpression(l.expressions[D],n.Sequence,q)),A.push(P+"}"));return A.push("`"),A},ModuleSpecifier:function(l,y,p){return this.Literal(l,y,p)},ImportExpression:function(l,y,p){return ke(["import(",this.generateExpression(l.source,n.Assignment,q),")"],n.Call,y)}},sn(Le.prototype,Le.Expression),Le.prototype.generateExpression=function(l,y,p){var A,D;return D=l.type||t.Property,_.verbatim&&l.hasOwnProperty(_.verbatim)?wi(l,y):(A=this[D](l,y,p),_.comment&&(A=Te(l,A)),Ae(A,l))},Le.prototype.generateStatement=function(l,y){var p,A;return p=this[l.type](l,y),_.comment&&(p=Te(l,p)),A=Ae(p).toString(),l.type===t.Program&&!k&&v===""&&A.charAt(A.length-1)===`
`&&(p=x?Ae(p).replaceRight(/\s+$/,""):A.replace(/\s+$/,"")),Ae(p,l)};function Si(l){var y;if(y=new Le,z(l))return y.generateStatement(l,Me);if(ee(l))return y.generateExpression(l,n.Sequence,q);throw new Error("Unknown node type: "+l.type)}function w1(l,y){var p=dt(),A,D;return y!=null?(typeof y.indent=="string"&&(p.format.indent.style=y.indent),typeof y.base=="number"&&(p.format.indent.base=y.base),y=zt(p,y),c=y.format.indent.style,typeof y.base=="string"?a=y.base:a=Ne(c,y.format.indent.base)):(y=p,c=y.format.indent.style,a=Ne(c,y.format.indent.base)),h=y.format.json,d=y.format.renumber,g=h?!1:y.format.hexadecimal,m=h?"double":y.format.quotes,M=y.format.escapeless,v=y.format.newline,P=y.format.space,y.format.compact&&(v=P=c=a=""),w=y.format.parentheses,V=y.format.semicolons,k=y.format.safeConcatenation,Z=y.directive,S=h?null:y.parse,x=y.sourceMap,I=y.sourceCode,N=y.format.preserveBlankLines&&I!==null,_=y,x&&(e.browser?r=Av.sourceMap.SourceNode:r=_v().SourceNode),A=Si(l),x?(D=A.toStringWithSourceMap({file:y.file,sourceRoot:y.sourceMapRoot}),y.sourceContent&&D.map.setSourceContent(y.sourceMap,y.sourceContent),y.sourceMapWithCode?D:D.map.toString()):(D={code:A.toString(),map:null},y.sourceMapWithCode?D:D.code)}H={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},X=dt().format,e.version=xv.version,e.generate=w1,e.attachComments=s.attachComments,e.Precedence=zt({},n),e.browser=!1,e.FORMAT_MINIFY=H,e.FORMAT_DEFAULTS=X})()}(Sh)),Sh}var Iv=kv();const Vv=Vy(Iv);class Nv{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:t=>this.replacement=t}}replace(t,n,i,r){t&&n&&(i!=null?t[n][i]=r:t[n]=r)}remove(t,n,i){t&&n&&(i!=null?t[n].splice(i,1):delete t[n])}}class Tv extends Nv{constructor(t,n){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:i=>this.replacement=i},this.enter=t,this.leave=n}visit(t,n,i,r){if(t){if(this.enter){const u=this.should_skip,a=this.should_remove,c=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,t,n,i,r),this.replacement&&(t=this.replacement,this.replace(n,i,r,t)),this.should_remove&&this.remove(n,i,r);const h=this.should_skip,d=this.should_remove;if(this.should_skip=u,this.should_remove=a,this.replacement=c,h)return t;if(d)return null}let s;for(s in t){const u=t[s];if(u&&typeof u=="object")if(Array.isArray(u)){const a=u;for(let c=0;c<a.length;c+=1){const h=a[c];n3(h)&&(this.visit(h,t,s,c)||c--)}}else n3(u)&&this.visit(u,t,s,null)}if(this.leave){const u=this.replacement,a=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,t,n,i,r),this.replacement&&(t=this.replacement,this.replace(n,i,r,t)),this.should_remove&&this.remove(n,i,r);const c=this.should_remove;if(this.replacement=u,this.should_remove=a,c)return null}}return t}}function n3(e){return e!==null&&typeof e=="object"&&"type"in e&&typeof e.type=="string"}function Rv(e,{enter:t,leave:n}){return new Tv(t,n).visit(e,null)}let i3=[];function Lv(e){i3.push(e)}function r3(e,t={}){const{wrapAsync:n=!1,addReturn:i=!0,emitMiniLocations:r=!0,emitWidgets:s=!0}=t;let u=yv(e,{ecmaVersion:2022,allowAwaitOutsideFunction:!0,locations:!0}),a=[];const c=(m,M)=>{const v=is(`"${m}"`,M.start,e);a=a.concat(v)};let h=[];Rv(u,{enter(m,M){if(Hv(m)){const v=m.quasi.quasis[0].value.raw,P=m.quasi.start+1;if(r){const w=Uv(v,P);a=a.concat(w)}return this.skip(),this.replace(Jv(v,P))}if(Xv(m,M)){const{quasis:v}=m,{raw:P}=v[0].value;return this.skip(),r&&c(P,m),this.replace(s3(P,m))}if(Gv(m)){const{value:v}=m;return this.skip(),r&&c(v,m),this.replace(s3(v,m))}if(Zv(m))return s&&h.push({from:m.arguments[0].start,to:m.arguments[0].end,value:m.arguments[0].raw,min:m.arguments[1]?.value??0,max:m.arguments[2]?.value??1,step:m.arguments[3]?.value,type:"slider"}),this.replace(zv(m));if(Wv(m)){const v=m.callee.property.name,P=h.filter(V=>V.type===v).length,w={to:m.end,index:P,type:v,id:t.id};return s&&h.push(w),this.replace(Ov(m,w))}if(jv(m,M))return this.replace($v(m));if(qv(m))return this.replace(Kv(m))},leave(m,M,v,P){}});const{body:d}=u;if(!d?.[d.length-1]?.expression)throw new Error("unexpected ast format without body expression");if(i){const{expression:m}=d[d.length-1];d[d.length-1]={type:"ReturnStatement",argument:m}}let g=Vv.generate(u);return n&&(g=`(async ()=>{${g}})()`),r?{output:g,miniLocations:a,widgets:h}:{output:g}}function Gv(e,t,n){return e.type!=="Literal"?!1:e.raw[0]==='"'}function Xv(e,t){return e.type==="TemplateLiteral"&&t.type!=="TaggedTemplateExpression"}function s3(e,t){const{start:n}=t;return{type:"CallExpression",callee:{type:"Identifier",name:"m"},arguments:[{type:"Literal",value:e},{type:"Literal",value:n}],optional:!1}}function Zv(e){return e.type==="CallExpression"&&e.callee.name==="slider"}function Wv(e){return e.type==="CallExpression"&&i3.includes(e.callee.property?.name)}function zv(e){const t="slider_"+e.arguments[0].start;return e.arguments.unshift({type:"Literal",value:t,raw:t}),e.callee.name="sliderWithID",e}function u3(e){return`${e.id||""}_widget_${e.type}_${e.index}`}function Ov(e,t){const n=u3(t);return e.arguments.unshift({type:"Literal",value:n,raw:n}),e}function jv(e,t){return e.type==="CallExpression"&&e.callee.name==="samples"&&t.type!=="AwaitExpression"}function $v(e){return{type:"AwaitExpression",argument:e}}function qv(e){return e.type==="LabeledStatement"}function Kv(e){return{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"MemberExpression",object:e.body.expression,property:{type:"Identifier",name:"p"}},arguments:[{type:"Literal",value:e.label.name,raw:`'${e.label.name}'`}]}}}function Hv(e){return e.type==="TaggedTemplateExpression"&&e.tag.name==="tidal"}function Uv(e,t){return e.split("").reduce((n,i,r)=>(i!=='"'||(!n.length||n[n.length-1].length>1?n.push([r+1]):n[n.length-1].push(r)),n),[]).map(([n,i])=>{const r=e.slice(n,i);return is(`"${r}"`,t+n-1)}).flat()}function Jv(e,t){return{type:"CallExpression",callee:{type:"Identifier",name:"tidal"},arguments:[{type:"Literal",value:e},{type:"Literal",value:t}],optional:!1}}function Xh(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function Zh(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"&&!isNaN(e.step)&&!isNaN(e.alt)}var a3=[0,2,4,-1,1,3,5],o3=a3.map(e=>Math.floor(e*7/12));function c3(e){const{step:t,alt:n,oct:i,dir:r=1}=e,s=a3[t]+7*n;if(i===void 0)return[r*s];const u=i-o3[t]-4*n;return[r*s,r*u]}var Yv=[3,0,4,1,5,2,6];function l3(e){const[t,n,i]=e,r=Yv[Qv(t)],s=Math.floor((t+1)/7);if(n===void 0)return{step:r,alt:s,dir:i};const u=n+4*s+o3[r];return{step:r,alt:s,oct:u,dir:i}}function Qv(e){const t=(e+1)%7;return t<0?7+t:t}var f3=(e,t)=>Array(Math.abs(t)+1).join(e),Wh=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),eC="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",tC="(AA|A|P|M|m|d|dd)([-+]?\\d+)",nC=new RegExp("^"+eC+"|"+tC+"$");function iC(e){const t=nC.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var h3={};function tn(e){return typeof e=="string"?h3[e]||(h3[e]=rC(e)):Zh(e)?tn(uC(e)):Xh(e)?tn(e.name):Wh}var d3=[0,2,4,5,7,9,11],m3="PMMPPMM";function rC(e){const t=iC(e);if(t[0]==="")return Wh;const n=+t[0],i=t[1],r=(Math.abs(n)-1)%7,s=m3[r];if(s==="M"&&i==="P")return Wh;const u=s==="M"?"majorable":"perfectable",a=""+n+i,c=n<0?-1:1,h=n===8||n===-8?n:c*(r+1),d=sC(u,i),g=Math.floor((Math.abs(n)-1)/7),m=c*(d3[r]+d+12*g),M=(c*(d3[r]+d)%12+12)%12,v=c3({step:r,alt:d,oct:g,dir:c});return{empty:!1,name:a,num:n,q:i,step:r,alt:d,dir:c,type:u,simple:h,semitones:m,chroma:M,coord:v,oct:g}}function p3(e,t){const[n,i=0]=e,r=n*7+i*12<0,s=t||r?[-n,-i,-1]:[n,i,1];return tn(l3(s))}function sC(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function uC(e){const{step:t,alt:n,oct:i=0,dir:r}=e;if(!r)return"";const s=t+1+7*i,u=s===0?t+1:s,a=r<0?"-":"",c=m3[t]==="M"?"majorable":"perfectable";return a+u+aC(c,n)}function aC(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?f3("A",t):f3("d",e==="perfectable"?t:t+1)}var g3=(e,t)=>Array(Math.abs(t)+1).join(e),y3=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),A3=new Map,oC=e=>"CDEFGAB".charAt(e),ps=e=>e<0?g3("b",-e):g3("#",e),zh=e=>e[0]==="b"?-e.length:e.length;function Be(e){const t=JSON.stringify(e),n=A3.get(t);if(n)return n;const i=typeof e=="string"?hC(e):Zh(e)?Be(dC(e)):Xh(e)?Be(e.name):y3;return A3.set(t,i),i}var cC=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Oh(e){const t=cC.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function lC(e){return Be(l3(e))}var fC=(e,t)=>(e%t+t)%t,jh=[0,2,4,5,7,9,11];function hC(e){const t=Oh(e);if(t[0]===""||t[3]!=="")return y3;const n=t[0],i=t[1],r=t[2],s=(n.charCodeAt(0)+3)%7,u=zh(i),a=r.length?+r:void 0,c=c3({step:s,alt:u,oct:a}),h=n+i+r,d=n+i,g=(jh[s]+u+120)%12,m=a===void 0?fC(jh[s]+u,12)-12*99:jh[s]+u+12*(a+1),M=m>=0&&m<=127?m:null,v=a===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:i,alt:u,chroma:g,coord:c,freq:v,height:m,letter:n,midi:M,name:h,oct:a,pc:d,step:s}}function dC(e){const{step:t,alt:n,oct:i}=e,r=oC(t);if(!r)return"";const s=r+ps(n);return i||i===0?s+i:s}function Xt(e,t){const n=Be(e),i=Array.isArray(t)?t:tn(t).coord;if(n.empty||!i||i.length<2)return"";const r=n.coord,s=r.length===1?[r[0]+i[0]]:[r[0]+i[0],r[1]+i[1]];return lC(s).name}function b3(e,t){const n=e.length;return i=>{if(!t)return"";const r=i<0?(n- -i%n)%n:i%n,s=Math.floor(i/n),u=Xt(t,[0,s]);return Xt(u,e[r])}}function gs(e,t){const n=Be(e),i=Be(t);if(n.empty||i.empty)return"";const r=n.coord,s=i.coord,u=s[0]-r[0],a=r.length===2&&s.length===2?s[1]-r[1]:-Math.floor(u*7/12),c=i.height===n.height&&i.midi!==null&&n.oct===i.oct&&n.step>i.step;return p3([u,a],c).name}var M3=(e,t)=>Array(t+1).join(e),mC=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function v3(e){const t=mC.exec(e);return t?[t[1],t[2],t[3]]:["","",""]}function ys(e){const[t,n,i]=v3(e);if(n==="")return"";let r=4;for(let u=0;u<i.length;u++)r+=i.charAt(u)===","?-1:1;const s=t[0]==="_"?t.replace(/_/g,"b"):t[0]==="^"?t.replace(/\^/g,"#"):"";return n.charCodeAt(0)>96?n.toUpperCase()+s+(r+1):n+s+r}function C3(e){const t=Be(e);if(t.empty||!t.oct&&t.oct!==0)return"";const{letter:n,acc:i,oct:r}=t,s=i[0]==="b"?i.replace(/b/g,"_"):i.replace(/#/g,"^"),u=r>4?n.toLowerCase():n,a=r===5?"":r>4?M3("'",r-5):M3(",",4-r);return s+u+a}function pC(e,t){return C3(Xt(ys(e),t))}function gC(e,t){return gs(ys(e),ys(t))}var yC={abcToScientificNotation:ys,scientificToAbcNotation:C3,tokenize:v3,transpose:pC,distance:gC};function AC(e,t){const n=[];for(;t--;n[t]=t+e);return n}function bC(e,t){const n=[];for(;t--;n[t]=e-t);return n}function MC(e,t){return e<t?AC(e,t-e+1):bC(e,e-t+1)}function vC(e,t){const n=t.length,i=(e%n+n)%n;return t.slice(i,n).concat(t.slice(0,i))}function CC(e){return e.filter(t=>t===0||t)}function P3(e){return e.map(n=>Be(n)).filter(n=>!n.empty).sort((n,i)=>n.height-i.height).map(n=>n.name)}function PC(e){return P3(e).filter((t,n,i)=>n===0||t!==i[n-1])}function DC(e,t=Math.random){let n,i,r=e.length;for(;r;)n=Math.floor(t()*r--),i=e[r],e[r]=e[n],e[n]=i;return e}function D3(e){return e.length===0?[[]]:D3(e.slice(1)).reduce((t,n)=>t.concat(e.map((i,r)=>{const s=n.slice();return s.splice(r,0,e[0]),s})),[])}const FC=Object.freeze(Object.defineProperty({__proto__:null,compact:CC,permutations:D3,range:MC,rotate:vC,shuffle:DC,sortedNoteNames:P3,sortedUniqNoteNames:PC},Symbol.toStringTag,{value:"Module"}));function EC(e,t){const n=[];for(;t--;n[t]=t+e);return n}function wC(e,t){const n=[];for(;t--;n[t]=e-t);return n}function As(e,t){return e<t?EC(e,t-e+1):wC(e,e-t+1)}function Ai(e,t){const n=t.length,i=(e%n+n)%n;return t.slice(i,n).concat(t.slice(0,i))}function $h(e){return e.filter(t=>t===0||t)}function SC(e,t=Math.random){let n,i,r=e.length;for(;r;)n=Math.floor(t()*r--),i=e[r],e[r]=e[n],e[n]=i;return e}function F3(e){return e.length===0?[[]]:F3(e.slice(1)).reduce((t,n)=>t.concat(e.map((i,r)=>{const s=n.slice();return s.splice(r,0,e[0]),s})),[])}var BC={compact:$h,permutations:F3,range:As,rotate:Ai,shuffle:SC},Nn={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},qh=e=>Number(e).toString(2).padStart(12,"0"),E3=e=>parseInt(e,2),_C=/^[01]{12}$/;function Kh(e){return _C.test(e)}var xC=e=>typeof e=="number"&&e>=0&&e<=4095,kC=e=>e&&Kh(e.chroma),w3={[Nn.chroma]:Nn};function nt(e){const t=Kh(e)?e:xC(e)?qh(e):Array.isArray(e)?OC(e):kC(e)?e.chroma:Nn.chroma;return w3[t]=w3[t]||zC(t)}var IC=nt,S3=e=>nt(e).chroma,VC=e=>nt(e).intervals,NC=e=>nt(e).setNum,TC=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function RC(e){const t=[];for(let n=0;n<12;n++)e.charAt(n)==="1"&&t.push(TC[n]);return t}function LC(e){return nt(e).intervals.map(t=>Xt("C",t))}function GC(){return As(2048,4095).map(qh)}function Hh(e,t=!0){const i=nt(e).chroma.split("");return $h(i.map((r,s)=>{const u=Ai(s,i);return t&&u[0]==="0"?null:u.join("")}))}function XC(e,t){return nt(e).setNum===nt(t).setNum}function bs(e){const t=nt(e).setNum;return n=>{const i=nt(n).setNum;return t&&t!==i&&(i&t)===i}}function Ms(e){const t=nt(e).setNum;return n=>{const i=nt(n).setNum;return t&&t!==i&&(i|t)===i}}function B3(e){const t=nt(e);return n=>{const i=Be(n);return t&&!i.empty&&t.chroma.charAt(i.chroma)==="1"}}function ZC(e){const t=B3(e);return n=>n.filter(t)}var _3={get:nt,chroma:S3,num:NC,intervals:VC,chromas:GC,isSupersetOf:Ms,isSubsetOf:bs,isNoteIncludedIn:B3,isEqual:XC,filter:ZC,modes:Hh,notes:LC,pcset:IC};function WC(e){const t=e.split("");return t.map((n,i)=>Ai(i,t).join(""))}function zC(e){const t=E3(e),n=WC(e).map(E3).filter(s=>s>=2048).sort()[0],i=qh(n),r=RC(e);return{empty:!1,name:"",setNum:t,chroma:e,normalized:i,intervals:r}}function OC(e){if(e.length===0)return Nn.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let i=0;i<e.length;i++)t=Be(e[i]),t.empty&&(t=tn(e[i])),t.empty||(n[t.chroma]=1);return n.join("")}var jC=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],$C=jC;({...Nn});var Uh=[],vs={};function x3(){return Uh.slice()}function qC(e,t,n){const i=HC(e),r={...nt(e),name:n||"",quality:i,intervals:e,aliases:t};Uh.push(r),r.name&&(vs[r.name]=r),vs[r.setNum]=r,vs[r.chroma]=r,r.aliases.forEach(s=>KC(r,s))}function KC(e,t){vs[t]=e}function HC(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}$C.forEach(([e,t,n])=>qC(e.split(" "),n.split(" "),t)),Uh.sort((e,t)=>e.setNum-t.setNum);var UC=e=>{const t=e.reduce((n,i)=>{const r=Be(i).chroma;return r!==void 0&&(n[r]=n[r]||Be(i).name),n},{});return n=>t[n]};function JC(e,t={}){const n=e.map(r=>Be(r).pc).filter(r=>r);return Be.length===0?[]:rP(n,1,t).filter(r=>r.weight).sort((r,s)=>s.weight-r.weight).map(r=>r.name)}var Cs={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},Ps=e=>t=>!!(t&e),YC=Ps(Cs.anyThirds),QC=Ps(Cs.perfectFifth),eP=Ps(Cs.anySeventh),tP=Ps(Cs.nonPerfectFifths);function nP(e){const t=parseInt(e.chroma,2);return YC(t)&&QC(t)&&eP(t)}function iP(e){const t=parseInt(e,2);return tP(t)?e:(t|16).toString(2)}function rP(e,t,n){const i=e[0],r=Be(i).chroma,s=UC(e),u=Hh(e,!1),a=[];return u.forEach((c,h)=>{const d=n.assumePerfectFifth&&iP(c);x3().filter(m=>n.assumePerfectFifth&&nP(m)?m.chroma===d:m.chroma===c).forEach(m=>{const M=m.aliases[0],v=s(h);h!==r?a.push({weight:.5*t,name:`${v}${M}/${i}`}):a.push({weight:1*t,name:`${v}${M}`})})}),a}function lr(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}var k3=[0,2,4,5,7,9,11],I3=({step:e,alt:t})=>(k3[e]+t+120)%12,Jh=({step:e,alt:t,oct:n,dir:i=1})=>i*(k3[e]+t+12*(n===void 0?-100:n)),V3=e=>{const t=Jh(e);return e.oct!==void 0&&t>=-12&&t<=115?t+12:null};function Ds(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"}var N3=[0,2,4,-1,1,3,5],T3=N3.map(e=>Math.floor(e*7/12));function Fs(e){const{step:t,alt:n,oct:i,dir:r=1}=e,s=N3[t]+7*n;if(i===void 0)return[r*s];const u=i-T3[t]-4*n;return[r*s,r*u]}var sP=[3,0,4,1,5,2,6];function Es(e){const[t,n,i]=e,r=sP[uP(t)],s=Math.floor((t+1)/7);if(n===void 0)return{step:r,alt:s,dir:i};const u=n+4*s+T3[r];return{step:r,alt:s,oct:u,dir:i}}function uP(e){const t=(e+1)%7;return t<0?7+t:t}var R3=(e,t)=>Array(Math.abs(t)+1).join(e),Yh={empty:!0,name:"",acc:""},aP="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",oP="(AA|A|P|M|m|d|dd)([-+]?\\d+)",cP=new RegExp("^"+aP+"|"+oP+"$");function Qh(e){const t=cP.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var L3={};function ut(e){return typeof e=="string"?L3[e]||(L3[e]=lP(e)):Ds(e)?ut(hP(e)):lr(e)?ut(e.name):Yh}var G3=[0,2,4,5,7,9,11],X3="PMMPPMM";function lP(e){const t=Qh(e);if(t[0]==="")return Yh;const n=+t[0],i=t[1],r=(Math.abs(n)-1)%7,s=X3[r];if(s==="M"&&i==="P")return Yh;const u=s==="M"?"majorable":"perfectable",a=""+n+i,c=n<0?-1:1,h=n===8||n===-8?n:c*(r+1),d=fP(u,i),g=Math.floor((Math.abs(n)-1)/7),m=c*(G3[r]+d+12*g),M=(c*(G3[r]+d)%12+12)%12,v=Fs({step:r,alt:d,oct:g,dir:c});return{empty:!1,name:a,num:n,q:i,step:r,alt:d,dir:c,type:u,simple:h,semitones:m,chroma:M,coord:v,oct:g}}function fr(e,t){const[n,i=0]=e,r=n*7+i*12<0,s=t||r?[-n,-i,-1]:[n,i,1];return ut(Es(s))}function fP(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function hP(e){const{step:t,alt:n,oct:i=0,dir:r}=e;if(!r)return"";const s=t+1+7*i,u=s===0?t+1:s,a=r<0?"-":"",c=X3[t]==="M"?"majorable":"perfectable";return a+u+dP(c,n)}function dP(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?R3("A",t):R3("d",e==="perfectable"?t:t+1)}var Z3=(e,t)=>Array(Math.abs(t)+1).join(e),W3={empty:!0,name:"",pc:"",acc:""},z3=new Map,e1=e=>"CDEFGAB".charAt(e),t1=e=>e<0?Z3("b",-e):Z3("#",e),n1=e=>e[0]==="b"?-e.length:e.length;function nn(e){const t=JSON.stringify(e),n=z3.get(t);if(n)return n;const i=typeof e=="string"?gP(e):Ds(e)?nn(yP(e)):lr(e)?nn(e.name):W3;return z3.set(t,i),i}var mP=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function ws(e){const t=mP.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function i1(e){return nn(Es(e))}var pP=(e,t)=>(e%t+t)%t,r1=[0,2,4,5,7,9,11];function gP(e){const t=ws(e);if(t[0]===""||t[3]!=="")return W3;const n=t[0],i=t[1],r=t[2],s=(n.charCodeAt(0)+3)%7,u=n1(i),a=r.length?+r:void 0,c=Fs({step:s,alt:u,oct:a}),h=n+i+r,d=n+i,g=(r1[s]+u+120)%12,m=a===void 0?pP(r1[s]+u,12)-12*99:r1[s]+u+12*(a+1),M=m>=0&&m<=127?m:null,v=a===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:i,alt:u,chroma:g,coord:c,freq:v,height:m,letter:n,midi:M,name:h,oct:a,pc:d,step:s}}function yP(e){const{step:t,alt:n,oct:i}=e,r=e1(t);if(!r)return"";const s=r+t1(n);return i||i===0?s+i:s}function bi(e,t){const n=nn(e),i=Array.isArray(t)?t:ut(t).coord;if(n.empty||!i||i.length<2)return"";const r=n.coord,s=r.length===1?[r[0]+i[0]]:[r[0]+i[0],r[1]+i[1]];return i1(s).name}function Ss(e,t){const n=e.length;return i=>{if(!t)return"";const r=i<0?(n- -i%n)%n:i%n,s=Math.floor(i/n),u=bi(t,[0,s]);return bi(u,e[r])}}function s1(e,t){const n=nn(e),i=nn(t);if(n.empty||i.empty)return"";const r=n.coord,s=i.coord,u=s[0]-r[0],a=r.length===2&&s.length===2?s[1]-r[1]:-Math.floor(u*7/12),c=i.height===n.height&&i.midi!==null&&n.midi!==null&&n.step>i.step;return fr([u,a],c).name}var O3=(e,t)=>Array(Math.abs(t)+1).join(e);function Mi(e,t,n){return function(...i){return console.warn(`${e} is deprecated. Use ${t}.`),n.apply(this,i)}}var j3=Mi("isNamed","isNamedPitch",lr);const $3=Object.freeze(Object.defineProperty({__proto__:null,accToAlt:n1,altToAcc:t1,chroma:I3,coordToInterval:fr,coordToNote:i1,coordinates:Fs,deprecate:Mi,distance:s1,fillStr:O3,height:Jh,interval:ut,isNamed:j3,isNamedPitch:lr,isPitch:Ds,midi:V3,note:nn,pitch:Es,stepToLetter:e1,tokenizeInterval:Qh,tokenizeNote:ws,tonicIntervalsTransposer:Ss,transpose:bi},Symbol.toStringTag,{value:"Module"}));var AP=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],bP=AP,MP={...Nn,name:"",quality:"Unknown",intervals:[],aliases:[]},vi=[],Un={};function u1(e){return Un[e]||MP}var vP=Mi("ChordType.chordType","ChordType.get",u1);function CP(){return vi.map(e=>e.name).filter(e=>e)}function PP(){return vi.map(e=>e.aliases[0]).filter(e=>e)}function DP(){return Object.keys(Un)}function Bs(){return vi.slice()}var FP=Mi("ChordType.entries","ChordType.all",Bs);function EP(){vi=[],Un={}}function q3(e,t,n){const i=SP(e),r={...nt(e),name:n||"",quality:i,intervals:e,aliases:t};vi.push(r),r.name&&(Un[r.name]=r),Un[r.setNum]=r,Un[r.chroma]=r,r.aliases.forEach(s=>wP(r,s))}function wP(e,t){Un[t]=e}function SP(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}bP.forEach(([e,t,n])=>q3(e.split(" "),n.split(" "),t)),vi.sort((e,t)=>e.setNum-t.setNum);var K3={names:CP,symbols:PP,get:u1,all:Bs,add:q3,removeAll:EP,keys:DP,entries:FP,chordType:vP},BP=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],_P=BP,xP={...Nn,intervals:[],aliases:[]},_s=[],Jn={};function H3(){return _s.map(e=>e.name)}function xs(e){return Jn[e]||xP}var kP=xs;function Ci(){return _s.slice()}var IP=Ci;function VP(){return Object.keys(Jn)}function NP(){_s=[],Jn={}}function U3(e,t,n=[]){const i={...nt(e),name:t,intervals:e,aliases:n};return _s.push(i),Jn[i.name]=i,Jn[i.setNum]=i,Jn[i.chroma]=i,i.aliases.forEach(r=>TP(i,r)),i}function TP(e,t){Jn[t]=e}_P.forEach(([e,t,...n])=>U3(e.split(" "),t,n));var J3={names:H3,get:xs,all:Ci,add:U3,removeAll:NP,keys:VP,entries:IP,scaleType:kP},a1={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function o1(e){const[t,n,i,r]=ws(e);return t===""?["",e]:t==="A"&&r==="ug"?["","aug"]:[t+n,i+r]}function Yn(e){if(e==="")return a1;if(Array.isArray(e)&&e.length===2)return ks(e[1],e[0]);{const[t,n]=o1(e),i=ks(n,t);return i.empty?ks(e):i}}function ks(e,t,n){const i=u1(e),r=nn(t||""),s=nn(n||"");if(i.empty||t&&r.empty||n&&s.empty)return a1;const u=s1(r.pc,s.pc),a=i.intervals.indexOf(u)+1;if(!s.empty&&!a)return a1;const c=Array.from(i.intervals);for(let m=1;m<a;m++){const M=c[0][0],v=c[0][1],P=parseInt(M,10)+7;c.push(`${P}${v}`),c.shift()}const h=r.empty?[]:c.map(m=>bi(r,m));e=i.aliases.indexOf(e)!==-1?e:i.aliases[0];const d=`${r.empty?"":r.pc}${e}${s.empty||a<=1?"":"/"+s.pc}`,g=`${t?r.pc+" ":""}${i.name}${a>1&&n?" over "+s.pc:""}`;return{...i,name:g,symbol:d,type:i.name,root:s.name,intervals:c,rootDegree:a,tonic:r.name,notes:h}}var RP=Mi("Chord.chord","Chord.get",Yn);function LP(e,t){const[n,i]=o1(e);return n?bi(n,t)+i:e}function GP(e){const t=Yn(e),n=Ms(t.chroma);return Ci().filter(i=>n(i.chroma)).map(i=>i.name)}function XP(e){const t=Yn(e),n=Ms(t.chroma);return Bs().filter(i=>n(i.chroma)).map(i=>t.tonic+i.aliases[0])}function ZP(e){const t=Yn(e),n=bs(t.chroma);return Bs().filter(i=>n(i.chroma)).map(i=>t.tonic+i.aliases[0])}function WP(e){const{intervals:t,tonic:n}=Yn(e),i=Ss(t,n);return r=>r?i(r>0?r-1:r):""}function zP(e){const{intervals:t,tonic:n}=Yn(e);return Ss(t,n)}var OP={getChord:ks,get:Yn,detect:JC,chordScales:GP,extended:XP,reduced:ZP,tokenize:o1,transpose:LP,degrees:WP,steps:zP,chord:RP},jP=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],$P=jP,Is=[];$P.forEach(([e,t,n])=>eD(e,t,n));var qP={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]};function KP(){return Is.reduce((e,t)=>(t.names.forEach(n=>e.push(n)),e),[])}function HP(){return Is.map(e=>e.shorthand)}var UP=/^([^.]+)(\.*)$/;function c1(e){const[t,n,i]=UP.exec(e)||[],r=Is.find(a=>a.shorthand===n||a.names.includes(n));if(!r)return qP;const s=tD(r.fraction,i.length),u=s[0]/s[1];return{...r,name:e,dots:i,value:u,fraction:s}}var JP=e=>c1(e).value,YP=e=>c1(e).fraction,QP={names:KP,shorthands:HP,get:c1,value:JP,fraction:YP};function eD(e,t,n){Is.push({empty:!1,dots:"",name:"",value:1/e,fraction:e<1?[1/e,1]:[1,e],shorthand:t,names:n})}function tD(e,t){const n=Math.pow(2,t);let i=e[0]*n,r=e[1]*n;const s=i;for(let u=0;u<t;u++)i+=s/Math.pow(2,u+1);for(;i%2===0&&r%2===0;)i/=2,r/=2;return[i,r]}function nD(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")}var Y3=ut,iD=e=>ut(e).name,rD=e=>ut(e).semitones,sD=e=>ut(e).q,uD=e=>ut(e).num;function aD(e){const t=ut(e);return t.empty?"":t.simple+t.q}function oD(e){const t=ut(e);if(t.empty)return"";const n=(7-t.step)%7,i=t.type==="perfectable"?-t.alt:-(t.alt+1);return ut({step:n,alt:i,oct:t.oct,dir:t.dir}).name}var cD=[1,2,2,3,3,4,5,5,6,6,7,7],lD="P m M m M P d P m M m M".split(" ");function fD(e){const t=e<0?-1:1,n=Math.abs(e),i=n%12,r=Math.floor(n/12);return t*(cD[i]+7*r)+lD[i]}var hD=gs,Q3=eA((e,t)=>[e[0]+t[0],e[1]+t[1]]),dD=e=>t=>Q3(e,t),mD=eA((e,t)=>[e[0]-t[0],e[1]-t[1]]);function pD(e,t){const n=Y3(e);if(n.empty)return"";const[i,r,s]=n.coord;return fr([i+t,r,s]).name}var Pi={names:nD,get:Y3,name:iD,num:uD,semitones:rD,quality:sD,fromSemitones:fD,distance:hD,invert:oD,simplify:aD,add:Q3,addTo:dD,substract:mD,transposeFifths:pD};function eA(e){return(t,n)=>{const i=ut(t).coord,r=ut(n).coord;if(i&&r){const s=e(i,r);return fr(s).name}}}function tA(e){return+e>=0&&+e<=127}function nA(e){if(tA(e))return+e;const t=Be(e);return t.empty?null:t.midi}function gD(e,t=440){return Math.pow(2,(e-69)/12)*t}var yD=Math.log(2),AD=Math.log(440);function l1(e){const t=12*(Math.log(e)-AD)/yD+69;return Math.round(t*100)/100}var bD="C C# D D# E F F# G G# A A# B".split(" "),MD="C Db D Eb E F Gb G Ab A Bb B".split(" ");function Tn(e,t={}){if(isNaN(e)||e===-1/0||e===1/0)return"";e=Math.round(e);const i=(t.sharps===!0?bD:MD)[e%12];if(t.pitchClass)return i;const r=Math.floor(e/12)-1;return i+r}function f1(e){return e%12}function vD(e){return e.split("").reduce((t,n,i)=>(i<12&&n==="1"&&t.push(i),t),[])}function CD(e){return e.map(f1).sort((t,n)=>t-n).filter((t,n,i)=>n===0||t!==i[n-1])}function h1(e){return Array.isArray(e)?CD(e):vD(e)}function PD(e){const t=h1(e);return n=>{const i=f1(n);for(let r=0;r<12;r++){if(t.includes(i+r))return n+r;if(t.includes(i-r))return n-r}}}function iA(e,t){const n=h1(e),i=n.length;return r=>{const s=r<0?(i- -r%i)%i:r%i,u=Math.floor(r/i);return n[s]+u*12+t}}function DD(e,t){const n=iA(e,t);return i=>{if(i!==0)return n(i>0?i-1:i)}}var FD={chroma:f1,freqToMidi:l1,isMidi:tA,midiToFreq:gD,midiToNoteName:Tn,pcsetNearest:PD,pcset:h1,pcsetDegrees:DD,pcsetSteps:iA,toMidi:nA},ED=["C","D","E","F","G","A","B"],rA=e=>e.name,sA=e=>e.map(Be).filter(t=>!t.empty);function wD(e){return e===void 0?ED.slice():Array.isArray(e)?sA(e).map(rA):[]}var Zt=Be,SD=e=>Zt(e).name,BD=e=>Zt(e).pc,_D=e=>Zt(e).acc,xD=e=>Zt(e).oct,kD=e=>Zt(e).midi,ID=e=>Zt(e).freq,VD=e=>Zt(e).chroma;function uA(e){return Tn(e)}function ND(e){return Tn(l1(e))}function TD(e){return Tn(l1(e),{sharps:!0})}function RD(e){return Tn(e,{sharps:!0})}var LD=gs,Wt=Xt,GD=Xt,aA=e=>t=>Wt(t,e),XD=aA,oA=e=>t=>Wt(e,t),ZD=oA;function Vs(e,t){return Wt(e,[t,0])}var WD=Vs;function zD(e,t){return Wt(e,[0,t])}var d1=(e,t)=>e.height-t.height,OD=(e,t)=>t.height-e.height;function cA(e,t){return t=t||d1,sA(e).sort(t).map(rA)}function lA(e){return cA(e,d1).filter((t,n,i)=>n===0||t!==i[n-1])}var jD=e=>{const t=Zt(e);return t.empty?"":Tn(t.midi||t.chroma,{sharps:t.alt>0,pitchClass:t.midi===null})};function fA(e,t){const n=Zt(e);if(n.empty)return"";const i=Zt(t||Tn(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(i.empty||i.chroma!==n.chroma)return"";if(n.oct===void 0)return i.pc;const r=n.chroma-n.alt,s=i.chroma-i.alt,u=r>11||s<0?-1:r<0||s>11?1:0,a=n.oct+u;return i.pc+a}var Rn={names:wD,get:Zt,name:SD,pitchClass:BD,accidentals:_D,octave:xD,midi:kD,ascending:d1,descending:OD,distance:LD,sortedNames:cA,sortedUniqNames:lA,fromMidi:uA,fromMidiSharps:RD,freq:ID,fromFreq:ND,fromFreqSharps:TD,chroma:VD,transpose:Wt,tr:GD,transposeBy:aA,trBy:XD,transposeFrom:oA,trFrom:ZD,transposeFifths:Vs,transposeOctaves:zD,trFifths:WD,simplify:jD,enharmonic:fA},hA={empty:!0,name:"",chordType:""},dA={};function Ln(e){return typeof e=="string"?dA[e]||(dA[e]=YD(e)):typeof e=="number"?Ln(Ns[e]||""):Zh(e)?KD(e):Xh(e)?Ln(e.name):hA}var $D=Ln;function qD(e=!0){return(e?Ns:JD).slice()}function KD(e){return Ln(ps(e.alt)+Ns[e.step])}var HD=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function UD(e){return HD.exec(e)||["","","",""]}var mA="I II III IV V VI VII",Ns=mA.split(" "),JD=mA.toLowerCase().split(" ");function YD(e){const[t,n,i,r]=UD(e);if(!i)return hA;const s=i.toUpperCase(),u=Ns.indexOf(s),a=zh(n),c=1;return{empty:!1,name:t,roman:i,interval:tn({step:u,alt:a,dir:c}).name,acc:n,chordType:r,alt:a,step:u,major:i===s,oct:0,dir:c}}var QD={names:qD,get:Ln,romanNumeral:$D},it=Object.freeze([]),pA={type:"major",tonic:"",alteration:0,keySignature:""},Ts={tonic:"",grades:it,intervals:it,scale:it,triads:it,chords:it,chordsHarmonicFunction:it,chordScales:it,secondaryDominants:it,secondaryDominantSupertonics:it,substituteDominantsMinorRelative:it,substituteDominants:it,substituteDominantSupertonics:it,secondaryDominantsMinorRelative:it},e7={...pA,...Ts,type:"major",minorRelative:"",scale:it,substituteDominants:it,secondaryDominantSupertonics:it,substituteDominantsMinorRelative:it},t7={...pA,type:"minor",relativeMajor:"",natural:Ts,harmonic:Ts,melodic:Ts},m1=(e,t,n="")=>t.map((i,r)=>`${e[r]}${n}${i}`);function Rs(e,t,n,i,r){return s=>{const u=e.map(M=>Ln(M).interval||""),a=u.map(M=>Wt(s,M)),c=m1(a,n),h=a.map(M=>Wt(M,"5P")).map(M=>a.includes(M)&&!c.includes(M+"7")?M+"7":""),d=gA(h,t),g=h.map(M=>{if(!M)return"";const v=M.slice(0,-1);return Wt(v,"5d")+"7"}),m=gA(g,t);return{tonic:s,grades:e,intervals:u,scale:a,triads:m1(a,t),chords:c,chordsHarmonicFunction:i.slice(),chordScales:m1(a,r," "),secondaryDominants:h,secondaryDominantSupertonics:d,substituteDominants:g,substituteDominantSupertonics:m,secondaryDominantsMinorRelative:d,substituteDominantsMinorRelative:m}}}var gA=(e,t)=>e.map((n,i)=>{if(!n)return"";const r=n.slice(0,-1),s=Wt(r,"5P");return t[i].endsWith("m")?s+"m7":s+"m7b5"}),yA=(e,t)=>{const n=Be(e),i=Be(t);return n.empty||i.empty?0:i.coord[0]-n.coord[0]},n7=Rs("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),i7=Rs("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),r7=Rs("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),s7=Rs("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));function u7(e){const t=Be(e).pc;if(!t)return e7;const n=n7(t),i=yA("C",t);return{...n,type:"major",minorRelative:Wt(t,"-3m"),alteration:i,keySignature:ps(i)}}function a7(e){const t=Be(e).pc;if(!t)return t7;const n=yA("C",t)-3;return{type:"minor",tonic:t,relativeMajor:Wt(t,"3m"),alteration:n,keySignature:ps(n),natural:i7(t),harmonic:r7(t),melodic:s7(t)}}function o7(e){return typeof e=="number"?Vs("C",e):typeof e=="string"&&/^b+|#+$/.test(e)?Vs("C",zh(e)):null}var c7={majorKey:u7,majorTonicFromKeySignature:o7,minorKey:a7},l7=tn;function f7(e){const t=tn(e);return t.empty?"":t.simple+t.q}function h7(e,t){const n=l7(e);if(n.empty)return"";const[i,r,s]=n.coord;return p3([i+t,r,s]).name}var p1=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],AA={...Nn,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},g1=p1.map(g7),y1={};g1.forEach(e=>{y1[e.name]=e,e.aliases.forEach(t=>{y1[t]=e})});function Qn(e){return typeof e=="string"?y1[e.toLowerCase()]||AA:e&&e.name?Qn(e.name):AA}var d7=Qn;function bA(){return g1.slice()}var m7=bA;function p7(){return g1.map(e=>e.name)}function g7(e){const[t,n,i,r,s,u,a]=e,c=a?[a]:[],h=Number(n).toString(2);return{empty:!1,intervals:xs(r).intervals,modeNum:t,chroma:h,normalized:h,name:r,setNum:n,alt:i,triad:s,seventh:u,aliases:c}}function y7(e,t){return Qn(e).intervals.map(n=>Xt(t,n))}function MA(e){return(t,n)=>{const i=Qn(t);if(i.empty)return[];const r=Ai(i.modeNum,e),s=i.intervals.map(u=>Xt(n,u));return r.map((u,a)=>s[a]+u)}}var A7=MA(p1.map(e=>e[4])),b7=MA(p1.map(e=>e[5]));function vA(e,t){const n=Qn(t),i=Qn(e);return n.empty||i.empty?"":f7(h7("1P",i.alt-n.alt))}function M7(e,t,n){return Xt(n,vA(e,t))}var v7={get:Qn,names:p7,all:bA,distance:vA,relativeTonic:M7,notes:y7,triads:A7,seventhChords:b7,entries:m7,mode:d7};function C7(e){const[t,n,i,r]=Oh(e);return t===""?A1("",e):t==="A"&&r==="ug"?A1("","aug"):A1(t+n,i+r)}function A1(e,t){const n=t.split("/");if(n.length===1)return[e,n[0],""];const[i,r,s,u]=Oh(n[1]);return i!==""&&s===""&&u===""?[e,n[0],i+r]:[e,t,""]}function P7(e,t){return t.map(Ln).map(i=>Xt(e,tn(i))+i.chordType)}function D7(e,t){return t.map(n=>{const[i,r]=C7(n),s=gs(e,i);return Ln(tn(s)).name+r})}var F7={fromRomanNumerals:P7,toRomanNumerals:D7};function CA(e){const t=$h(e.map(n=>typeof n=="number"?n:nA(n)));return!e.length||t.length!==e.length?[]:t.reduce((n,i)=>{const r=n[n.length-1];return n.concat(As(r,i).slice(1))},[t[0]])}function E7(e,t){return CA(e).map(n=>Tn(n,t))}var w7={numeric:CA,chromatic:E7},S7={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function PA(e){if(typeof e!="string")return["",""];const t=e.indexOf(" "),n=Be(e.substring(0,t));if(n.empty){const r=Be(e);return r.empty?["",e]:[r.name,""]}const i=e.substring(n.name.length+1).toLowerCase();return[n.name,i.length?i:""]}var B7=H3;function rn(e){const t=Array.isArray(e)?e:PA(e),n=Be(t[0]).name,i=xs(t[1]);if(i.empty)return S7;const r=i.name,s=n?i.intervals.map(a=>Xt(n,a)):[],u=n?n+" "+r:r;return{...i,name:u,type:r,tonic:n,notes:s}}var _7=rn;function x7(e,t={}){const n=S3(e),i=Be(t.tonic??e[0]??""),r=i.chroma;if(r===void 0)return[];const s=n.split("");s[r]="1";const u=Ai(r,s).join(""),a=Ci().find(h=>h.chroma===u),c=[];return a&&c.push(i.name+" "+a.name),t.match==="exact"||DA(u).forEach(h=>{c.push(i.name+" "+h)}),c}function k7(e){const t=rn(e),n=bs(t.chroma);return x3().filter(i=>n(i.chroma)).map(i=>i.aliases[0])}function DA(e){const t=Kh(e)?e:rn(e).chroma,n=Ms(t);return Ci().filter(i=>n(i.chroma)).map(i=>i.name)}function I7(e){const t=bs(rn(e).chroma);return Ci().filter(n=>t(n.chroma)).map(n=>n.name)}function FA(e){const t=e.map(r=>Be(r).pc).filter(r=>r),n=t[0],i=lA(t);return Ai(i.indexOf(n),i)}function V7(e){const t=rn(e);if(t.empty)return[];const n=t.tonic?t.notes:t.intervals;return Hh(t.chroma).map((i,r)=>{const s=rn(i).name;return s?[n[r],s]:["",""]}).filter(i=>i[0])}function N7(e){const t=Array.isArray(e)?FA(e):rn(e).notes,n=t.map(i=>Be(i).chroma);return i=>{const r=Be(typeof i=="number"?uA(i):i),s=r.height;if(s===void 0)return;const u=s%12,a=n.indexOf(u);if(a!==-1)return fA(r.name,t[a])}}function T7(e){const t=N7(e);return(n,i)=>{const r=Be(n).height,s=Be(i).height;return r===void 0||s===void 0?[]:As(r,s).map(t).filter(u=>u)}}function R7(e){const{intervals:t,tonic:n}=rn(e),i=b3(t,n);return r=>r?i(r>0?r-1:r):""}function L7(e){const{intervals:t,tonic:n}=rn(e);return b3(t,n)}var Di={degrees:R7,detect:x7,extended:DA,get:rn,modeNames:V7,names:B7,rangeOf:T7,reduced:I7,scaleChords:k7,scaleNotes:FA,steps:L7,tokenize:PA,scale:_7},G7={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},X7=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"];function Z7(){return X7.slice()}var W7=/^(\d*\d(?:\+\d)*)\/(\d+)$/,EA=new Map;function z7(e){const t=JSON.stringify(e),n=EA.get(t);if(n)return n;const i=$7(b1(e));return EA.set(t,i),i}function b1(e){if(typeof e=="string"){const[s,u,a]=W7.exec(e)||[];return b1([u,a])}const[t,n]=e,i=+n;if(typeof t=="number")return[t,i];const r=t.split("+").map(s=>+s);return r.length===1?[r[0],i]:[r,i]}var O7={names:Z7,parse:b1,get:z7},j7=e=>Math.log(e)/Math.log(2)%1===0;function $7([e,t]){const n=Array.isArray(e)?e.reduce((a,c)=>a+c,0):e,i=t;if(n===0||i===0)return G7;const r=Array.isArray(e)?`${e.join("+")}/${t}`:`${e}/${t}`,s=Array.isArray(e)?e:[],u=i===4||i===2?"simple":i===8&&n%3===0?"compound":j7(i)?"irregular":"irrational";return{empty:!1,name:r,type:u,upper:n,lower:i,additive:s}}var q7=$3,K7=_3,H7=K3,U7=J3;const J7=Object.freeze(Object.defineProperty({__proto__:null,AbcNotation:yC,Array:FC,Chord:OP,ChordDictionary:H7,ChordType:K3,Collection:BC,Core:$3,DurationValue:QP,Interval:Pi,Key:c7,Midi:FD,Mode:v7,Note:Rn,PcSet:K7,Pcset:_3,Progression:F7,Range:w7,RomanNumeral:QD,Scale:Di,ScaleDictionary:U7,ScaleType:J3,TimeSignature:O7,Tonal:q7,accToAlt:n1,altToAcc:t1,chroma:I3,coordToInterval:fr,coordToNote:i1,coordinates:Fs,deprecate:Mi,distance:s1,fillStr:O3,height:Jh,interval:ut,isNamed:j3,isNamedPitch:lr,isPitch:Ds,midi:V3,note:nn,pitch:Es,stepToLetter:e1,tokenizeInterval:Qh,tokenizeNote:ws,tonicIntervalsTransposer:Ss,transpose:bi},Symbol.toStringTag,{value:"Module"})),Y7=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],Q7=["c","db","d","eb","e","f","gb","g","ab","a","bb","b"],e5=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],t5={b:-1,"#":1},n5=e=>{const[t,...n]=e.split("");return Q7.indexOf(t.toLowerCase())+n.reduce((i,r)=>i+t5[r],0)};function i5(e){const t=(e||"").match(/^([A-G][b#]*)([^/]*)[/]?([A-G][b#]*)?$/);return t?t.slice(1):[]}const M1=e=>e%12,wA=e=>{let t=Number(e);return isNaN(t)?Pi.semitones(e):t},v1=(e,t)=>{if(typeof e=="number")return e;if(typeof e=="string")return ln(e,t)},r5=(e,t=!1)=>{const n=Math.floor(e/12)-1;return(t?e5:Y7)[e%12]+n};function s5(e,t,n=1){e=e.map(r=>typeof r=="string"?ln(r):r);const i=Math.floor(t/e.length)*n*12;return t=Mt(t,e.length),e[t]+i}function u5(e,t,n){let i=0,r=1/0;return t.forEach((s,u)=>{const a=Math.abs(s-e);(a<r||n)&&(i=u,r=a)}),i}let C1={};function a5(e,t,n,i){let[r,s]=Di.tokenize(t);const u=v1(r),a=M1(u);if(!C1[s]){let{intervals:m}=Di.get(`C ${s}`);C1[s]=m.map(wA)}const c=C1[s];if(!c)return null;let h=u;if(n){n=v1(n,3);const m=M1(n),M=Mt(m-a,12),v=u5(M,c,i);e=e+v,h=n-M}const d=Math.floor(e/c.length)*12;return e=Mt(e,c.length),c[e]+h+d}let SA={below:e=>e.slice(-1)[0],duck:e=>e.slice(-1)[0],above:e=>e[0],root:e=>e[0]};function o5({chord:e,dictionary:t,offset:n=0,n:i,mode:r="below",anchor:s="c5",octaves:u=1}){const[a,c]=i5(e),h=n5(a);s=v1(s?.note||s,4);const d=M1(s),g=t[c].map(x=>(typeof x=="string"?x.split(" "):x).map(wA));let m,M,v=g.map((x,I)=>{const N=SA[r](x),H=Mt(d-N-h,12);return(m===void 0||H<m)&&(m=H,M=I),H});r==="root"&&(M=0);const P=Math.ceil(n/g.length)*12,w=Mt(M+n,g.length),V=g[w],k=SA[r](V),Z=s-v[w]+P,_=V.map(x=>Z-k+x);let S=_.map(x=>r5(x));return r==="duck"&&(S=S.filter((x,I)=>_[I]!==s)),i!==void 0?[s5(S,i,u)]:S}const c5=e=>(e<=0?-1:1)+e*7+"P";function l5(e,t){t=t.replaceAll(":"," "),e=Math.ceil(e);let{intervals:n,tonic:i,empty:r}=Di.get(t);if(r&&En(t)||!r&&!i)throw new Error('incomplete scale. Make sure to use ":" instead of spaces, example: .scale("C:major")');if(r)throw new Error(`invalid scale "${t}"`);i=i||"C";const{pc:s,oct:u=3}=Rn.get(i),a=Math.floor(e/n.length),c=Mt(e,n.length),h=Pi.add(n[c],c5(a));return Rn.transpose(s+u,h)}function BA(e,t,n){let[i,r]=Di.tokenize(e),{notes:s}=Di.get(`${i} ${r}`);if(s=s.map(M=>Rn.get(M).pc),t=Number(t),isNaN(t))throw new Error(`scale offset "${t}" not a number`);const{pc:u,oct:a=3}=Rn.get(n),c=s.indexOf(u);if(c===-1)throw new Error(`note "${n}" is not in scale "${e}"`);let h=c,d=a,g=u;const m=Math.sign(t);for(;Math.abs(h-c)<Math.abs(t);){h+=m;const M=Mt(h,s.length);m<0&&g[0]==="C"&&(d+=m),g=s[M],m>0&&g[0]==="C"&&(d+=m)}return g+d}const _A=R("transpose",function(e,t){return t.withHap(n=>{const i=n.value.note??n.value;if(typeof i=="number"){let u;typeof e=="number"?u=e:typeof e=="string"&&(u=Pi.semitones(e)||0);const a=i+u;return typeof n.value=="object"?n.withValue(()=>({...n.value,note:a})):n.withValue(()=>a)}if(typeof i!="string"||!En(i))return Ye(`[tonal] transpose: not a note "${i}"`,"warning"),n;const r=isNaN(Number(e))?String(e):Pi.fromSemitones(e),s=Rn.simplify(Rn.transpose(i,r));return typeof n.value=="object"?n.withValue(()=>({...n.value,note:s})):n.withValue(()=>s)})}),xA=R("scaleTranspose",function(e,t){return t.withHap(n=>{if(!n.context.scale)throw new Error("can only use scaleTranspose after .scale");if(typeof n.value=="object")return n.withValue(()=>({...n.value,note:BA(n.context.scale,Number(e),n.value.note)}));if(typeof n.value!="string")throw new Error("can only use scaleTranspose with notes");return n.withValue(()=>BA(n.context.scale,Number(e),n.value))})}),kA=R("scale",function(e,t){return Array.isArray(e)&&(e=e.flat().join(" ")),t.fmap(n=>{const i=typeof n=="object";let r=i?n.n:n;if(i&&delete n.n,En(r))return Ke(r);let s=Number(r),u=0;if(isNaN(s)){if(r=String(r),!/^[-+]?\d+(#*|b*){1}$/.test(r))return Ye(`[tonal] invalid scale step "${r}", expected number or integer with optional # b suffixes`,"error"),_e;const a=r.indexOf("#");if(a>=0)s=Number(r.substring(0,a)),u=r.length-a;else{const c=r.indexOf("b");s=Number(r.substring(0,c)),u=c-r.length}}try{let a;i&&n.anchor?a=a5(s,e,n.anchor):a=l5(s,e),u!=0&&(a=Rn.transpose(a,Pi.fromSemitones(u))),n=Ke(i?{...n,note:a}:a)}catch(a){Ye(`[tonal] ${a.message}`,"error"),n=_e}return n}).outerJoin().withHap(n=>n.setContext({...n.context,scale:e}))},!0,!0);var P1={},hr={},dr={},IA;function VA(){if(IA)return dr;IA=1,dr.__esModule=!0,dr.getBestVoicing=void 0;function e(t){var n=t.chord,i=t.range,r=t.finder,s=t.picker,u=t.lastVoicing,a=r(n,i);return a.length?s(a,u):[]}return dr.getBestVoicing=e,dr}var mr={};const NA=bv(J7);var pr={},TA;function RA(){if(TA)return pr;TA=1,pr.__esModule=!0,pr.tokenizeChord=void 0;function e(t){var n=(t||"").match(/^([A-G][b#]*)([^\/]*)[\/]?([A-G][b#]*)?$/);return n?n.slice(1):[]}return pr.tokenizeChord=e,pr}var LA;function f5(){if(LA)return mr;LA=1,mr.__esModule=!0,mr.voicingsInRange=void 0;var e=NA,t=XA(),n=RA();function i(r,s,u){s===void 0&&(s=t.lefthand),u===void 0&&(u=["D3","A4"]);var a=(0,n.tokenizeChord)(r),c=a[0],h=a[1];if(!s[h])return[];var d=s[h].map(function(m){return m.split(" ")}),g=e.Range.chromatic(u);return d.reduce(function(m,M){var v=M.map(function(k){return e.Interval.substract(k,M[0])}),P=e.Note.transpose(c,M[0]),w=g.filter(function(k){return e.Note.chroma(k)===e.Note.chroma(P)}).filter(function(k){return e.Note.midi(e.Note.transpose(k,v[v.length-1]))<=e.Note.midi(u[1])}).map(function(k){return e.Note.enharmonic(k,P)}),V=w.map(function(k){return v.map(function(Z){return e.Note.transpose(k,Z)})});return m.concat(V)},[])}return mr.voicingsInRange=i,mr}var GA;function XA(){return GA||(GA=1,function(e){var t=hr.__assign||function(){return t=Object.assign||function(a){for(var c,h=1,d=arguments.length;h<d;h++){c=arguments[h];for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(a[g]=c[g])}return a},t.apply(this,arguments)},n=hr.__rest||function(a,c){var h={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&c.indexOf(d)<0&&(h[d]=a[d]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,d=Object.getOwnPropertySymbols(a);g<d.length;g++)c.indexOf(d[g])<0&&Object.prototype.propertyIsEnumerable.call(a,d[g])&&(h[d[g]]=a[d[g]]);return h};e.__esModule=!0,e.dictionaryVoicing=e.dictionaryVoicingFinder=e.triads=e.guidetones=e.lefthand=void 0;var i=VA(),r=f5();e.lefthand={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},e.guidetones={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},e.triads={M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]};var s=function(a){return function(c,h){return(0,r.voicingsInRange)(c,a,h)}};e.dictionaryVoicingFinder=s;var u=function(a){var c=a.dictionary,h=a.range,d=n(a,["dictionary","range"]);return(0,i.getBestVoicing)(t(t({},d),{range:h,finder:(0,e.dictionaryVoicingFinder)(c)}))};e.dictionaryVoicing=u}(hr)),hr}var gr={},ZA;function h5(){if(ZA)return gr;ZA=1,gr.__esModule=!0,gr.minTopNoteDiff=void 0;var e=NA;function t(n,i){if(!i)return n[0];var r=function(s){return Math.abs(e.Note.midi(i[i.length-1])-e.Note.midi(s[s.length-1]))};return n.reduce(function(s,u){return r(u)<r(s)?u:s},n[0])}return gr.minTopNoteDiff=t,gr}var WA;function d5(){return WA||(WA=1,function(e){e.__esModule=!0;var t=XA(),n=h5(),i=VA(),r=RA();e.default={tokenizeChord:r.tokenizeChord,getBestVoicing:i.getBestVoicing,dictionaryVoicing:t.dictionaryVoicing,dictionaryVoicingFinder:t.dictionaryVoicingFinder,lefthand:t.lefthand,guidetones:t.guidetones,triads:t.triads,minTopNoteDiff:n.minTopNoteDiff}}(P1)),P1}var m5=d5();const zA=Vy(m5),Fi={2:["1P 5P 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P"],5:["1P 5P 8P 12P","5P 8P 12P 15P"],6:["1P 5P 6M 8P 10M","1P 5P 8P 10M 13M","3M 5P 8P 10M 13M","5P 8P 10M 12P 13M"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M"],9:["1P 5P 7m 9M 10M","1P 7m 9M 10M 12P","3M 7m 8P 9M 12P","7m 9M 10M 14m 15P","3M 7m 8P 12P 16M","7m 10M 12P 15P 16M"],11:["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],13:["1P 6M 7m 9M 10M","1P 7m 9M 10M 13M","3M 7m 8P 9M 13M","7m 8P 9M 10M 13M","7m 9M 10M 13M 15P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 8P 9M 13M","5P 8P 9M 10M 13M"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 12P 17M"],"+":["1P 3M 6m 8P 10M","1P 6m 8P 10M 13m","3M 6m 8P 10M 13m","3M 8P 10M 13m 15P","6m 8P 10M 13m 15P","6m 10M 13m 15P 17M"],o:["1P 5d 8P 10m 12d","3m 8P 10m 12d 15P","5d 8P 10m 12d 15P"],h:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P","1P 4P 5P 8P 11P","5P 8P 11P 12P","5P 8P 11P 12P 15P"],"^":["1P 5P 8P 10M","1P 5P 8P 10M 12P","3M 5P 8P 10M 12P","3M 8P 10M 12P 15P","5P 8P 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 5P 8P 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 5P 7M 10M 12P","1P 10M 12P 14M","3M 8P 10M 12P 14M","5P 8P 10M 12P 14M","5P 8P 10M 14M 17M"],"-7":["1P 3m 5P 7m 10m","1P 5P 7m 10m 12P","3m 7m 8P 10m 12P","3m 7m 8P 10m 14m","5P 7m 8P 10m 14m","7m 10m 12P 14m 15P","5P 8P 10m 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 5P 7m 8P 11P","5P 8P 11P 12P 14m","7m 8P 11P 12P 14m","7m 11P 12P 14m 18P"],h7:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 5P 7M 9M 10M","1P 7M 9M 10M 12P","3M 7M 8P 9M 12P","3M 7M 8P 12P 16M","5P 8P 10M 14M 16M","7M 8P 10M 12P 16M"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 8P 13M 16M","7M 8P 10M 13M 16M"],"^7#11":["1P 5P 7M 10M 12d","3M 7M 8P 10M 12d","1P 7M 10M 12d 14M","3M 7M 8P 12d 14M","5P 8P 10M 12d 14M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 8P 9M 12d","3M 8P 9M 12d 14M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 8P 10M 13m","6m 7M 8P 10M 13m"],"-6":["1P 3m 5P 6M 8P","1P 5P 6M 8P 10m","3m 5P 6M 8P 10m","1P 5P 8P 10m 13M","3m 5P 8P 10m 13M","5P 8P 10m 12P 13M","5P 8P 10m 13M 15P"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 10m","1P 5P 7M 10m 12P","3m 7M 8P 10m 12P","5P 7M 8P 10m 14M","5P 8P 10m 14M 17m"],"-^9":["1P 3m 5P 7M 9M","1P 7M 9M 10m 12P","3m 7M 8P 9M 12P","5P 8P 9M 10m 14M"],"-9":["1P 3m 5P 7m 9M","3m 5P 7m 8P 9M","3m 7m 8P 9M 12P","5P 8P 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 12P 15P 16M"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["1P 3m 7m 9M 11P","3m 7m 8P 9M 11P","1P 4P 7m 10m 12P","5P 8P 11P 14m","3m 7m 9M 11P 15P","5P 8P 11P 14m 16M","7m 10m 12P 15P 18P"],"-7b5":["3m 5d 7m 8P 10m","1P 7m 10m 12d","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["1P 7m 9M 10m 12d","3m 7m 8P 9M 12d","5d 8P 9M 10m 14m","7m 10m 12d 15P 16M"],"-b6":["1P 5P 6m 8P 10m","1P 5P 8P 10m 13m","3m 5P 8P 10m 13m","5P 8P 10m 13m","5P 8P 10m 13m 15P"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 10m 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 8P 10m 14m","7m 10m 10M 14m 15P"],"7#11":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7b5":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"7#9#5":["1P 3M 7m 10m 13m","3M 7m 10m 13m 15P","7m 10M 13m 15P 17m"],"7#9b5":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7#9#11":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7b9#11":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9b5":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 8P 9m 10m","7m 8P 10M 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7alt":["3M 7m 8P 9m 12d","1P 7m 10m 10M 13m","3M 7m 8P 10m 13m","3M 7m 9m 12d 15P","3M 7m 10m 13m 15P","7m 10M 12d 15P 17m","7m 10M 13m 15P 17m"],"13#11":["1P 6M 7m 10M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["1P 3M 6M 7m 9m","1P 6M 7m 9m 10M","3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["1P 3M 6M 7m 10m","3M 7m 8P 10m 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","5P 7m 9M 11P 13M","7m 9M 11P 13M 15P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},yr={2:["1P 5P 6M 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P 13M","5P 8P 9M 12P 15P"],5:["1P 5P 8P 12P","1P 5P 8P 9M 12P","5P 8P 12P 15P","5P 8P 12P 15P 16M"],6:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M","7m 10M 14m 17M 19P"],9:["1P 6M 7m 9M 10M","3M 7m 9M 10M 12P","1P 7m 9M 10M 13M","3M 7m 9M 10M 13M","3M 7m 9M 12P 15P","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],11:["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],13:["3M 7m 9M 10M 13M","3M 7m 9M 13M 15P","3M 7m 10M 13M 16M","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 10M 15P","5P 8P 9M 12P 17M"],"+":["1P 6m 8P 9M 10M","1P 6m 8P 10M 13m","3M 8P 9M 10M 13m","3M 8P 10M 13m 15P","6m 10M 13m 15P 16M","6m 10M 13m 15P 17M"],o:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],h:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P 9M","1P 4P 5P 8P 11P","1P 5P 8P 9M 11P","5P 8P 9M 11P 12P","5P 8P 11P 12P 13M","5P 8P 11P 13M 15P"],"^":["1P 3M 5P 6M 9M","1P 5P 8P 10M 12P","3M 5P 9M 10M 12P","1P 5P 8P 10M 13M","3M 8P 10M 13M 15P","5P 9M 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 3m 5P 9M 11P","3m 5P 8P 9M 11P","5P 8P 9M 10m 11P","1P 5P 9M 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 6M 7M 9M 10M","3M 7M 9M 10M 12P","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"-7":["1P 3m 5P 7m 9M","1P 3m 5P 7m 10m","1P 5P 7m 10m 11P","3m 7m 8P 10m 11P","1P 5P 7m 10m 12P","3m 7m 9M 10m 12P","3m 7m 8P 10m 14m","5P 7m 9M 10m 14m","7m 10m 11P 14m 15P","7m 10m 12P 15P 16M","5P 8P 11P 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],h7:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^7#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 10M 12d 14M","7M 10M 12d 13M 14M","7M 10M 12d 13M 16M","7M 10M 12d 14M 17M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 9M 12d 14M","7M 10M 12d 14M 16M","7M 10M 12d 13M 16M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 9M 10M 13m","3M 7M 10M 13m 14M","7M 10M 13m 14M 16M","7M 10M 13m 14M 17M"],"-6":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","1P 5P 6M 10m 11P","3m 5P 6M 8P 11P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 10m 11P 13M","5P 8P 10m 13M 16M"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-^9":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-9":["1P 3m 5P 7m 9M","1P 3m 7m 9M 11P","3m 7m 9M 10m 11P","3m 7m 9M 10m 12P","3m 7m 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 11P 14m 16M","7m 10m 12P 16M 18P"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["3m 5P 7m 9M 11P","7m 9M 10m 11P","1P 4P 7m 10m 12P","3m 7m 9M 11P 12P","7m 9M 10m 11P 12P","3m 7m 9M 11P 14m","4P 10m 12P 14m","5P 8P 11P 14m","5P 8P 11P 14m 16M","7m 10m 12P 16M 18P","7m 10m 11P 16M 21m"],"-7b5":["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["3m 5d 7m 9M 11P","1P 7m 9M 10m 12d","3m 7m 9M 12d 14m","5d 8P 9M 10m 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 16M"],"-b6":["1P 3m 5P 6m 8P","3m 5P 8P 11P 13m","5P 8P 10m 11P 13m"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 11P 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 10m 10M 12P","3M 7m 10m 12P 14m","7m 10M 12P 14m 17m"],"7#11":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7b5":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"7#9#5":["3M 7m 10m 10M 13m","3M 7m 10m 13m 14m","7m 10M 13m 14m 17m"],"7#9b5":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7#9#11":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7b9#11":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9b5":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 10m 13m 16m","7m 10M 13m 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7alt":["3M 7m 8P 10m 13m","3M 7m 9m 12d 13m","3M 7m 9m 10m 13m","3M 7m 10m 13m 14m","3M 7m 9m 12d 14m","3M 7m 10m 13m 15P","3M 7m 10m 13m 16m","7m 10M 12d 14m 16m","7m 10M 12d 13m 16m","7m 10M 13m 15P 17m","7m 10M 13m 16m 17m","7m 10M 13m 16m 19d"],"13#11":["3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["3M 7m 10m 10M 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","4P 7m 9M 11P 13M","7m 9M 11P 13M 15P","7m 11P 13M 14m 16M","7m 11P 13M 16M 18P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},{dictionaryVoicing:p5,minTopNoteDiff:g5}=zA.default||zA,ei={lefthand:{dictionary:{m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},range:["F3","A4"],mode:"below",anchor:"a4"},triads:{dictionary:{"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]},mode:"below",anchor:"a4"},guidetones:{dictionary:{m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},mode:"above",anchor:"a4"},legacy:{dictionary:{"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"],m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},mode:"below",anchor:"a4"}};let OA="ireal";const D1=e=>OA=e,jA=(e,t)=>F1(e,ei[e].dictionary,t),F1=(e,t,n=["F3","A4"])=>{Object.assign(ei,{[e]:{dictionary:t,range:n}})},Ls=(e,t,n={})=>{Object.assign(ei,{[e]:{dictionary:t,...n}})},y5=(e,t,n)=>{const{dictionary:i,range:r}=ei[t];return p5({chord:e,dictionary:i,range:r,picker:g5,lastVoicing:n})};let Gs;const $A=R("voicings",function(e,t){return t.fmap(n=>(Gs=y5(n,e,Gs),Ie(...Gs))).outerJoin()}),qA=R("rootNotes",function(e,t){return t.fmap(n=>{const s=(n.chord||n).match(/^([a-gA-G][b#]?).*$/)[1]+e;return n.chord?{note:s}:s})}),KA=R("voicing",function(e){return e.fmap(t=>{t=typeof t=="string"?{chord:t}:t;let{dictionary:n=OA,chord:i,anchor:r,offset:s,mode:u,n:a,octaves:c,...h}=t;n=typeof n=="string"?ei[n]:{dictionary:n,mode:"below",anchor:"c5"};try{let d=o5({...n,chord:i,anchor:r,offset:s,mode:u,n:a,octaves:c});return Ie(...d).note().set(h)}catch{return Ye(`[voicing]: unknown chord "${i}"`),_e}}).outerJoin()});function Ei(e,t,n){n=Array.isArray(n)?n:[n],n.forEach(i=>{i[t]=i[e]})}Ei("^","",[Fi,yr]),Object.keys(Fi).forEach(e=>{if(e.includes("-")){let t=e.replace("-","m");Ei(e,t,[yr,Fi])}if(e.includes("^")){let t=e.replace("^","M");Ei(e,t,[yr,Fi])}if(e.includes("+")){let t=e.replace("+","aug");Ei(e,t,[yr,Fi])}}),Ls("ireal",Fi),Ls("ireal-ext",yr);function HA(){Gs=void 0,D1("ireal")}const UA="@strudel/tonal",A5=Object.freeze(Object.defineProperty({__proto__:null,addVoicings:F1,packageName:UA,registerVoicings:Ls,resetVoicings:HA,rootNotes:qA,scale:kA,scaleTranspose:xA,setDefaultVoicings:D1,setVoicingRange:jA,transpose:_A,voicing:KA,voicingAlias:Ei,voicingRegistry:ei,voicings:$A},Symbol.toStringTag,{value:"Module"}));async function JA(){const e=Oi(Oi,Promise.resolve().then(()=>Yg),Promise.resolve().then(()=>xM),Promise.resolve().then(()=>A5),Promise.resolve().then(()=>SM),{hush:QA,evaluate:eb});await Promise.all([e,Jf()])}let E1,ti;function YA(e={}){jf(),e.miniAllStrings!==!1&&hh();const{prebake:t,...n}=e;return ti=sh({...n,transpiler:r3}),E1=(async()=>(await JA(),await t?.(),ti))(),ji(()=>ti.scheduler.now()),E1}window.initStrudel=YA,j.prototype.play=function(){if(!ti)throw new Error(".play: no repl found. Have you called initStrudel?");return E1.then(()=>{ti.setPattern(this,!0)}),this};function QA(){ti.stop()}async function eb(e,t=!0){return ti.evaluate(e,t)}return o.ClockCollator=ou,o.Cyclist=bf,o.DEFAULT_MAX_POLYPHONY=Jr,o.Fraction=$,o.Hap=Oe,o.Pattern=j,o.StartRules=W2,o.State=jn,o.SyntaxError=kn,o.TimeSpan=qe,o.__chooseWith=Wr,o._brandBy=Xr,o._fitslice=Eu,o._irand=Zr,o._keyDown=Or,o._match=wu,o._mod=Mt,o._polymeterListSteps=Bu,o._retime=xr,o._slices=kr,o.accelerate=Hu,o.activeLabel=Ec,o.ad=I0,o.add=yd,o.addVoicings=F1,o.adsr=k0,o.aliasBank=g2,o.almostAlways=Sg,o.almostNever=wg,o.always=_g,o.amp=Qu,o.analyze=ha,o.anchor=Jc,o.and=Td,o.apply=hm,o.applyFM=qi,o.applyGainCurve=_n,o.ar=N0,o.arrange=nd,o.as=Q0,o.att=ta,o.attack=ea,o.averageArray=Js,o.backgroundImage=Ug,o.band=Pd,o.bandf=va,o.bandq=Da,o.bank=fa,o.base64ToUnicode=uu,o.beat=kp,o.begin=Ea,o.binary=ng,o.binaryN=hf,o.bind=od,o.binshift=t0,o.bite=Am,o.bjork=tf,o.blshift=Ed,o.bor=Dd,o.bp=Pa,o.bpa=fo,o.bpattack=lo,o.bpd=Ao,o.bpdecay=yo,o.bpe=so,o.bpenv=ro,o.bpf=Ca,o.bpq=Fa,o.bpr=_o,o.bprelease=Bo,o.bps=Do,o.bpsustain=Po,o.brak=Sm,o.brand=og,o.brandBy=ag,o.brshift=wd,o.bxor=Fd,o.bypass=Ym,o.calculateSteps=J1,o.cat=bu,o.ccn=Z0,o.ccv=W0,o.ceil=Zd,o.ch=Ra,o.channel=Ka,o.channels=Ta,o.choose=lg,o.chooseCycles=mf,o.chooseInWith=zr,o.chooseWith=zi,o.chop=vp,o.chord=Kc,o.chunk=jm,o.chunkBack=Km,o.chunkback=Hm,o.clamp=Ri,o.cleanupUi=Jg,o.clip=d0,o.coarse=Va,o.code2hash=K1,o.color=_0,o.colour=x0,o.comb=Yl,o.compose=W1,o.compress=Kd,o.compressSpan=Hd,o.compressor=yl,o.compressorAttack=Ml,o.compressorKnee=Al,o.compressorRatio=bl,o.compressorRelease=vl,o.compressspan=Ud,o.connectToDestination=Hi,o.constant=z1,o.contract=Nu,o.control=X0,o.controls=Ip,o.cosine=Wp,o.cosine2=zp,o.cpm=dm,o.cps=h0,o.createClock=rf,o.createFilter=$i,o.createParam=Zi,o.createParams=Nr,o.crush=Ia,o.ctf=Ja,o.ctlNum=z0,o.ctranspose=_c,o.curry=ge,o.curve=A0,o.cut=Ha,o.cutoff=Ua,o.cycleToSeconds=wr,o.dec=pa,o.decay=ma,o.defaultPrebake=JA,o.degrade=Ag,o.degradeBy=yg,o.degradeByWith=gg,o.degree=Sc,o.delay=qo,o.delayfb=Ho,o.delayfeedback=Ko,o.delayt=Yo,o.delaytime=Jo,o.deltaSlide=b0,o.det=nc,o.detune=tc,o.dfb=Uo,o.dict=Uc,o.dictionary=Hc,o.dist=gl,o.distort=pl,o.div=Md,o.djf=$o,o.dough=B2,o.doughTrigger=nh,o.drawFrequencyScope=ah,o.drawLine=fu,o.drawTimeScope=uh,o.drive=Na,o.drop=ku,o.dry=sc,o.drywet=Ff,o.ds=V0,o.dspWorklet=th,o.dt=Qo,o.dur=g0,o.duration=p0,o.early=mm,o.echo=Gm,o.echoWith=Nm,o.echowith=Tm,o.end=wa,o.enhance=Ul,o.eq=kd,o.eqt=Id,o.euclid=Np,o.euclidLegato=Gp,o.euclidLegatoRot=Xp,o.euclidRot=Rp,o.euclidrot=Tp,o.evalScope=Oi,o.evaluate=eb,o.every=fm,o.expand=Vu,o.expression=wl,o.extend=Iu,o.fadeInTime=oc,o.fadeOutTime=ac,o.fadeTime=uc,o.fanchor=ko,o.fast=im,o.fastChunk=Jm,o.fastGap=Jd,o.fastcat=ct,o.fastchunk=Um,o.fastgap=Yd,o.fft=da,o.filter=ip,o.filterWhen=rp,o.firstOf=lm,o.fit=wp,o.flatten=qt,o.floor=Xd,o.fm=ra,o.fmattack=ua,o.fmdecay=aa,o.fmenv=sa,o.fmh=na,o.fmi=ia,o.fmrelease=ca,o.fmsustain=oa,o.fmvelocity=la,o.focus=Qd,o.focusSpan=em,o.focusspan=tm,o.fractionalArgs=O1,o.frameRate=r0,o.frames=s0,o.freeze=jl,o.freq=cc,o.freqToMidi=vr,o.fromBipolar=zd,o.fshift=Il,o.fshiftnote=Vl,o.fshiftphase=Nl,o.ftype=xo,o.func=Ld,o.gain=Ju,o.gainNode=Ht,o.gap=$n,o.gat=Cc,o.gate=vc,o.getADSRValues=Jt,o.getAnalyserById=qf,o.getAnalyzerData=Ui,o.getAudioContext=Ee,o.getAudioContextCurrentTime=v2,o.getAudioDevices=Lf,o.getCachedBuffer=u2,o.getCompressor=Df,o.getControlName=Tr,o.getCurrentKeyboardState=lu,o.getDefaultValue=He,o.getEventOffsetMs=L1,o.getFreq=Us,o.getFrequency=Qs,o.getLeafLocation=ns,o.getLeafLocations=is,o.getLeaves=fh,o.getLoadedBuffer=a2,o.getOscillator=Qf,o.getParamADSR=Ut,o.getPerformanceTimeSeconds=U1,o.getPitchEnvelope=oi,o.getPlayableNoteValue=Z1,o.getSampleBuffer=Bf,o.getSampleBufferSource=_f,o.getSampleInfo=Sf,o.getSound=Ki,o.getSoundIndex=X1,o.getTime=$r,o.getTrigger=vf,o.getVibratoOscillator=ci,o.getWidgetID=u3,o.getWorklet=Rt,o.getZZFX=eh,o.grow=up,o.gt=Bd,o.gte=xd,o.h=j2,o.harmonic=xc,o.hash2code=H1,o.hbrick=n0,o.hcutoff=Go,o.hold=Ma,o.hours=u0,o.hp=Zo,o.hpa=co,o.hpattack=oo,o.hpd=go,o.hpdecay=po,o.hpe=io,o.hpenv=no,o.hpf=Xo,o.hpq=zo,o.hpr=So,o.hprelease=wo,o.hps=Co,o.hpsustain=vo,o.hresonance=Wo,o.hsl=np,o.hsla=tp,o.hurry=rm,o.hush=QA,o.id=On,o.imag=Hl,o.inhabit=Zg,o.inhabitmod=zg,o.initAudio=zf,o.initAudioOnFirstClick=jf,o.initStrudel=YA,o.initializeAudioOutput=$f,o.innerBind=cd,o.inside=am,o.inv=Fm,o.invert=Dm,o.ir=ol,o.irand=cg,o.iresponse=cl,o.isNote=En,o.isNoteWithOctave=T1,o.isPattern=Br,o.isaw=Wi,o.isaw2=Lr,o.iter=Zm,o.iterBack=Wm,o.iterback=zm,o.itri=qp,o.itri2=Kp,o.jux=Vm,o.juxBy=km,o.juxby=Im,o.kcutoff=Ll,o.keep=pd,o.keepif=gd,o.keyAlias=cu,o.keyDown=kg,o.krush=Rl,o.label=wc,o.lastOf=cm,o.late=Cu,o.lbrick=i0,o.legato=m0,o.leslie=Pc,o.lfo=C0,o.linger=bm,o.listRange=Cr,o.loadBuffer=Ur,o.lock=ec,o.logKey=Mr,o.loop=Sa,o.loopAt=Fp,o.loopAtCps=Sp,o.loopBegin=Ba,o.loopEnd=xa,o.loopat=Ep,o.loopatcps=Bp,o.loopb=_a,o.loope=ka,o.lp=Qa,o.lpa=ao,o.lpattack=uo,o.lpd=mo,o.lpdecay=ho,o.lpe=to,o.lpenv=eo,o.lpf=Ya,o.lpq=jo,o.lpr=Eo,o.lprelease=Fo,o.lps=Mo,o.lpsustain=bo,o.lrate=Dc,o.lsize=Fc,o.lt=Sd,o.lte=_d,o.m=O2,o.mapArgs=Dr,o.mask=rd,o.midi2note=G1,o.midiToFreq=wn,o.midibend=U0,o.midichan=T0,o.midicmd=G0,o.midimap=R0,o.midiport=L0,o.miditouch=J0,o.mini=rs,o.mini2ast=hi,o.miniAllStrings=hh,o.minify=$2,o.minutes=a0,o.mod=vd,o.mode=el,o.mouseX=Yp,o.mouseY=Up,o.mousex=Jp,o.mousey=Hp,o.mtranspose=Bc,o.mul=bd,o.n=qu,o.nanFallback=Ys,o.ne=Vd,o.net=Nd,o.never=Bg,o.noise=To,o.note=Ku,o.noteToMidi=ln,o.nothing=At,o.nrpnn=O0,o.nrpv=j0,o.nudge=Vc,o.numeralArgs=yt,o.objectMap=au,o.octave=Nc,o.octaveR=Ic,o.octaves=Qc,o.octer=Gl,o.octersub=Xl,o.octersubsub=Zl,o.off=wm,o.offset=Yc,o.often=Fg,o.onTriggerSample=Vf,o.or=Rd,o.orbit=Tc,o.outerBind=ld,o.outside=om,o.overgain=Rc,o.overshape=Lc,o.pace=Su,o.packageName=UA,o.pairs=iu,o.palindrome=xm,o.pan=Gc,o.panchor=Mc,o.panic=C2,o.panorient=zc,o.panspan=Xc,o.pansplay=Zc,o.panwidth=Wc,o.parse=lh,o.parseFractional=nu,o.parseNumeral=Pr,o.partials=Jl,o.patt=fc,o.pattack=lc,o.patternifyAST=Hn,o.pcurve=bc,o.pdec=dc,o.pdecay=hc,o.penv=Ac,o.perlin=pg,o.perlinWith=gf,o.ph=Ga,o.phasdp=qa,o.phaser=Xa,o.phasercenter=za,o.phaserdepth=ja,o.phaserrate=La,o.phasersweep=Za,o.phc=Oa,o.phd=$a,o.phs=Wa,o.pick=yf,o.pickF=Ig,o.pickOut=Ng,o.pickReset=Gg,o.pickRestart=Rg,o.pickSqueeze=Wg,o.pickmod=Af,o.pickmodF=Vg,o.pickmodOut=Tg,o.pickmodReset=Xg,o.pickmodRestart=Lg,o.pickmodSqueeze=Og,o.pipe=tu,o.pitchJump=M0,o.pitchJumpTime=v0,o.ply=nm,o.pm=ed,o.polyBind=dd,o.polyTouch=Y0,o.polymeter=Xi,o.polyrhythm=Y1,o.postgain=Yu,o.pow=Cd,o.pr=Q1,o.prel=yc,o.prelease=gc,o.press=_m,o.pressBy=Bm,o.processSampleMap=kf,o.progNum=$0,o.psus=pc,o.psustain=mc,o.pure=Ke,o.rand=ft,o.rand2=ug,o.randcat=fg,o.randrun=df,o.range=Od,o.range2=$d,o.rangex=jd,o.rarely=Eg,o.rate=Oc,o.ratio=qd,o.rdim=sl,o.real=Kl,o.ref=_p,o.register=R,o.registerControl=B,o.registerSamplesPrefix=f2,o.registerSound=Bn,o.registerSynthSounds=Jf,o.registerVoicings=Ls,o.registerWidgetType=Lv,o.registerZZFXSounds=w2,o.reify=K,o.rel=ba,o.release=Aa,o.removeUndefineds=zn,o.repeatCycles=Om,o.repeatTime=P0,o.repl=Hg,o.resetDefaultValues=Xf,o.resetGlobalEffects=P2,o.resetLoadedSounds=M2,o.resetVoicings=HA,o.resonance=Oo,o.rev=Pu,o.reverseBuffer=xf,o.rfade=al,o.rib=ep,o.ribbon=Qm,o.ring=Wl,o.ringdf=Ol,o.ringf=zl,o.rlp=il,o.room=tl,o.roomdim=rl,o.roomfade=ul,o.roomlp=nl,o.roomsize=ll,o.rootNotes=qA,o.rotate=eu,o.round=Gd,o.rsize=dl,o.run=ff,o.s=zu,o.s_add=dp,o.s_alt=cp,o.s_cat=op,o.s_contract=yp,o.s_expand=pp,o.s_extend=gp,o.s_polymeter=lp,o.s_sub=mp,o.s_taper=fp,o.s_taperlist=hp,o.s_tour=Ap,o.s_zip=bp,o.samples=If,o.saw=ui,o.saw2=Rr,o.scale=kA,o.scaleTranspose=xA,o.scram=e0,o.scramble=sg,o.scrub=ef,o.seconds=o0,o.seg=vm,o.segment=Mm,o.semitone=$c,o.seq=Mu,o.seqPLoop=id,o.sequence=vt,o.sequenceP=mu,o.set=md,o.setDefaultAudioContext=Zf,o.setDefaultValue=Yr,o.setDefaultValues=A2,o.setDefaultVoicings=D1,o.setGainCurve=p2,o.setLogger=Pf,o.setMaxPolyphony=Tf,o.setStringParser=du,o.setTime=ji,o.setVersionDefaults=b2,o.setVoicingRange=jA,o.shape=ml,o.shrink=Ru,o.shrinklist=Tu,o.shuffle=rg,o.signal=Ct,o.silence=_e,o.sine=sf,o.sine2=Gr,o.size=fl,o.slice=Xu,o.slide=jc,o.slow=sm,o.slowChunk=qm,o.slowcat=fn,o.slowcatPrime=_r,o.slowchunk=$m,o.smear=Ql,o.sol2note=j1,o.someCycles=Dg,o.someCyclesBy=Pg,o.sometimes=Cg,o.sometimesBy=vg,o.songPtr=c0,o.sound=Ou,o.soundMap=qn,o.source=ju,o.sparsity=um,o.speak=qg,o.speed=Vr,o.splice=Dp,o.splitAt=Fr,o.spread=rc,o.square=uf,o.square2=Op,o.squeeze=jg,o.squeezeBind=fd,o.squiz=Dl,o.src=$u,o.stack=Ie,o.stackBy=td,o.stackCentre=Au,o.stackLeft=gu,o.stackRight=yu,o.steady=Zp,o.stepBind=hd,o.stepalt=_u,o.stepcat=lt,o.steps=Mp,o.stepsPerOctave=kc,o.stretch=Cl,o.striate=Cp,o.struct=sd,o.stut=Xm,o.stutWith=Rm,o.stutwith=Lm,o.sub=Ad,o.superdough=Yi,o.superdoughTrigger=D2,o.superimpose=ud,o.sus=ya,o.sustain=ga,o.sustainpedal=Sl,o.swing=Pm,o.swingBy=Cm,o.sysex=q0,o.sysexdata=H0,o.sysexid=K0,o.sz=hl,o.take=xu,o.time=af,o.timeCat=Ir,o.timecat=ap,o.toBipolar=Wd,o.tokenizeNote=Hs,o.tour=Lu,o.transpiler=r3,o.transpose=_A,o.tremdp=_l,o.tremolo=S0,o.tremolodepth=Bl,o.tremolorate=xl,o.tremr=kl,o.tri=jp,o.tri2=$p,o.triode=Tl,o.tsdelay=ql,o.uid=l0,o.undegrade=Mg,o.undegradeBy=bg,o.unicodeToBase64=su,o.uniq=$1,o.uniqsort=q1,o.uniqsortr=ru,o.unison=ic,o.unit=Pl,o.v=No,o.val=f0,o.valueToMidi=R1,o.velocity=Uu,o.vib=Io,o.vibmod=Ro,o.vibrato=Vo,o.vmod=Lo,o.voice=qc,o.voicing=KA,o.voicingAlias=Ei,o.voicingRegistry=ei,o.voicings=$A,o.vowel=Fl,o.waveformN=Yf,o.waveloss=El,o.wchoose=dg,o.wchooseCycles=pf,o.webAudioTimeout=Kr,o.webaudioOutput=rh,o.webaudioOutputTrigger=ih,o.webaudioRepl=sh,o.when=Em,o.whenKey=xg,o.withValue=ad,o.within=sp,o.wrandcat=mg,o.xfade=Zu,o.xsdelay=$l,o.zcrush=E0,o.zdelay=w0,o.zip=Gu,o.zipWith=Er,o.zmod=F0,o.znoise=D0,o.zoom=pm,o.zoomArc=gm,o.zoomarc=ym,o.zrand=y0,o.zzfx=B0,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),o}({});
